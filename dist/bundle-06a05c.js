!function(e){var t={};function o(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=t,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var a=function(e,t,o){return e>o?o:e<t?t:e},s=function(e,t){return Math.log(t)/Math.log(e)},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t,o){o.xpos+o.radius+t.radius>t.xpos&&o.xpos<t.xpos+t.radius+o.radius&&o.ypos+o.radius+t.radius>t.ypos&&o.ypos<t.ypos+t.radius+o.radius&&n(t,o,e)}},n=function(e,t,o){var s=e.radius+t.radius,r=Math.sqrt(Math.pow(e.xpos-t.xpos,2)+Math.pow(e.ypos-t.ypos,2));s>r&&(e.nextMomentum.x+=a(t.momentum.x*t.mass*(r/s)*o,-50,50),t.nextMomentum.x=t.nextMomentum.x*a(t.mass/e.mass,.99,1),t.nextMomentum.x+=a(e.momentum.x*e.mass*(r/s)*o,-50,50),e.nextMomentum.x=e.nextMomentum.x*a(e.mass/t.mass,.99,1),e.nextMomentum.y+=a(t.momentum.y*t.mass*(r/s)*o,-50,50),t.nextMomentum.y=t.nextMomentum.y*a(t.mass/e.mass,.99,1),t.nextMomentum.y+=a(e.momentum.y*e.mass*(r/s)*o,-50,50),e.nextMomentum.y=e.nextMomentum.y*a(e.mass/t.mass,.99,1),e.mass<=t.mass?i(t,e,r,o):i(e,t,r,o))},i=function(e,t,o,s){(o-e.radius<0||t.mass<100)&&(e.mass+=t.mass,t.mass=0,e.nextMomentum.x+=t.nextMomentum.x,e.nextMomentum.y+=t.nextMomentum.y);var r=t.massDelta*t.mass*a((t.radius-(o-e.radius))/t.radius,.01,.1)*a(s,.5,2);t.mass-=r,e.mass+=r},u=function(e,t){return e.radius+t.radius>Math.sqrt(Math.pow(e.xpos-t.xpos,2)+Math.pow(e.ypos-t.ypos,2))},m=function(e,t){e.xpos+e.radius>=t.realBoardWidth?(e.nextMomentum.x=-1*e.momentum.x,e.xpos=t.realBoardWidth-e.radius-1):e.xpos-e.radius<=0&&(e.nextMomentum.x=-1*e.momentum.x,e.xpos=0+e.radius+1),e.ypos+e.radius>=t.realBoardHeight?(e.nextMomentum.y=-1*e.momentum.y,e.ypos=t.realBoardHeight-e.radius-1):e.ypos-e.radius<=0&&(e.nextMomentum.y=-1*e.momentum.y,e.ypos=0+e.radius+1)};function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var l=function e(t){var o=this,a=t.x,s=t.y,r=t.mass,n=t.momentum,i=t.realBoardWidth,u=t.realBoardHeight;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"move",(function(e){o.momentum=Object.assign({},o.nextMomentum);var t=o.mass>0?o.momentum.x/o.mass:0,a=o.mass>0?o.momentum.y/o.mass:0;o.xpos+=t*e,o.ypos+=a*e})),c(this,"adjustRadius",(function(){o.radius=Math.sqrt(o.mass/Math.PI)})),this.mass=r||Math.floor(1e5*Math.random()+1e4),this.radius=Math.sqrt(this.mass/Math.PI),this.xpos=a||Math.floor(Math.random()*(i-this.radius))+this.radius,this.ypos=s||Math.floor(Math.random()*(u-this.radius))+this.radius,this.momentum=n||{x:Math.floor(1e6*Math.random())-5e5,y:Math.floor(1e6*Math.random())-5e5},this.nextMomentum=Object.assign({},this.momentum),this.color="blue"};l.prototype.momentumDelta=1,l.prototype.massDelta=.5,l.prototype.momentumMax=10;var d=l;function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?b(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var v=function(e){function t(){var e,o;f(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return w(b(o=p(this,(e=g(t)).call.apply(e,[this].concat(r)))),"propel",(function(e,t,s,r){if(!(o.mass<=0)){var n=r.mousePos.x-window.innerWidth/2,i=r.mousePos.y-window.innerHeight/2,u=Math.atan2(i,n),m=Math.cos(u),c=Math.sin(u),l=o.mass*a((Date.now()-r.mouseDownTime)/3e4,.01,.1);o.mass-=l;var h=Math.sqrt(l/Math.PI),f=o.xpos+m*o.radius+(m>0?h:-1*h),p=o.ypos+c*o.radius+(c>0?h:-1*h),g={x:50*l*m*2,y:50*l*c*2};t.push(new d({x:f,y:p,mass:l,momentum:g,realBoardWidth:s.realBoardWidth,realBoardHeight:s.realBoardHeight})),o.nextMomentum.x+=-1*g.x*3,o.nextMomentum.y+=-1*g.y*3}})),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),t}(d);function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var V=function e(t){var o=this,a=t.x,s=t.y,r=t.width,n=t.height,i=t.level,u=void 0===i?0:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"split",(function(){var t=Math.floor(o.width/2),a=Math.floor(o.height/2);o.quadrants.push(new e({x:o.x,y:o.y,width:t,height:a,level:o.level+1})),o.quadrants.push(new e({x:o.x+t,y:o.y,width:t,height:a,level:o.level+1})),o.quadrants.push(new e({x:o.x,y:o.y+a,width:t,height:a,level:o.level+1})),o.quadrants.push(new e({x:o.x+t,y:o.y+a,width:t,height:a,level:o.level+1}))})),y(this,"clear",(function(){o.dataPoints=[];for(var e=0;e<o.quadrants.length;e++)o.quadrants[e].clear(),o.quadrants[e]=null;0===o.level&&(o.quadrants=[])})),y(this,"insert1",(function(e){var t=o.getIndex(e);if(o.quadrants.length>0&&-1!==t)return o.quadrants[t].insert1(e);if(o.dataPoints.push(e),0===o.quadrants.length&&o.dataPoints.length>o.maxDataPoints){o.split();for(var a=[],s=0;s<o.dataPoints.length;s++)-1!==(t=o.getIndex(o.dataPoints[s]))?o.quadrants[t].insert1(o.dataPoints[s]):a.push(o.dataPoints[s]);o.dataPoints=a}})),y(this,"getIndex",(function(e){return e.xpos-e.radius>o.x&&e.xpos+e.radius<o.halfX&&e.ypos-e.radius>o.y&&e.ypos+e.radius<o.halfY?0:e.xpos-e.radius>o.halfX&&e.xpos+e.radius<o.endX&&e.ypos-e.radius>o.y&&e.ypos+e.radius<o.halfY?1:e.xpos-e.radius>o.x&&e.xpos+e.radius<o.halfX&&e.ypos-e.radius>o.halfY&&e.ypos+e.radius<o.endY?2:e.xpos-e.radius>o.halfX&&e.xpos+e.radius<o.endX&&e.ypos-e.radius>o.halfY&&e.ypos+e.radius<o.endY?3:-1})),y(this,"checkAllCollisions",(function(e){for(var t=0,a=o.dataPoints.length;t<a;t++){for(var s=t+1;s<a;s++)e(o.dataPoints[t],o.dataPoints[s]);for(var r=0,n=o.quadrants.length;r<n;r++)o.quadrants[r].checkCollision(e,o.dataPoints[t])}for(var i=0,u=o.quadrants.length;i<u;i++)o.quadrants[i].checkAllCollisions(e)})),y(this,"checkCollision",(function(e,t){for(var a=0,s=o.dataPoints.length;a<s;a++)e(t,o.dataPoints[a]);for(var r=0,n=o.quadrants.length;r<n;r++)o.quadrants[r].checkCollision(e,t)})),this.quadrants=[],this.x=a,this.y=s,this.width=r,this.height=n,this.endX=this.x+this.width,this.endY=this.y+this.height,this.halfX=this.x+Math.floor(this.width/2),this.halfY=this.y+Math.floor(this.height/2),this.level=u,this.dataPoints=[]};V.prototype.maxDataPoints=10;var M=V;function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var T=function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S(this,"boardHeight",(function(){return o.realBoardHeight/o.currentZoom})),S(this,"boardWidth",(function(){return o.realBoardWidth/o.currentZoom})),this.boardSize=t.boardSize,this.realBoardWidth=t.realBoardWidth,this.realBoardHeight=t.realBoardHeight,this.baseMass=t.baseMass,this.maxZoom=t.maxZoom,this.absoluteMaxZoom=t.absoluteMaxZoom,this.minZoom=t.minZoom,this.currentZoom=t.currentZoom,this.boardFocus=t.boardFocus};var I=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timeBase=t.timeBase,this.timeCoefficient=t.timeCoefficient};var H=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mouseDownTime=t.mouseDownTime,this.mouseDownInterval=t.mouseDownInterval,this.mouseOffset=t.mouseOffset,this.mousePos=t.mousePos},A="home-page-status",P="paused-status",O="playing-status";function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var C=function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e4,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e4,i=arguments.length>2?arguments[2]:void 0;Y(this,e),W(this,"setupMouse",(function(){t.mouseVars=new H({mouseDownTime:null,mouseDownInterval:null,mouseOffset:{x:0,y:0},mousePos:{x:0,y:0}})})),W(this,"setupTime",(function(){t.timeVars=new I({timeBase:10,timeCoefficient:1})})),W(this,"determineNextStatus",(function(e,o){return"set-up-status"===e?O:"reset-status"===e?A:"next-level-status"===e?O:e===A?A:"moving-to-instructions-status"===e?o.isMovingFromHomepageToInstructions()?"moving-to-instructions-status":"instructions-status":"instructions-status"===e?"instructions-status":"moving-to-homepage-status"===e?o.isMovingFromInstructionsToHomepage()?"moving-to-homepage-status":A:"coloring-lose-screen-status"===e?o.isColoringHomepage()?"coloring-lose-screen-status":"finished-coloring-lose-screen-status":"finished-coloring-lose-screen-status"===e?"moving-to-lose-screen-status":"moving-to-lose-screen-status"===e?o.isMovingFromAboveToLevelEndScreen()?"moving-to-lose-screen-status":"lose-screen-status":"lose-screen-status"===e?"lose-screen-status":"lose-screen-to-homepage-status"===e?o.isMovingFromLoseScreenToHomepage()?"lose-screen-to-homepage-status":A:e===P?P:"coloring-win-screen-status"===e?o.isColoringHomepage()?"coloring-win-screen-status":"finished-coloring-win-screen-status":"finished-coloring-win-screen-status"===e?"moving-to-win-screen-status":"moving-to-win-screen-status"===e?o.isMovingFromAboveToLevelEndScreen()?"moving-to-win-screen-status":"win-screen-status":"win-screen-status"===e?"win-screen-status":e===O?t.amoeboi.mass>0?t.checkWin()?"coloring-win-screen-status":O:"coloring-lose-screen-status":null})),W(this,"animate",(function(e,o){if(o.clearCtx(),o.drawField(t.boardVars,t.mouseVars,t.quadTree),"set-up-status"===e)return t.setup(o,e);if("reset-status"===e)return t.reset();if("next-level-status"===e)return t.setUpNextLevel(o,e);if(e===A)return t.animateHomepage(o,e);if("moving-to-instructions-status"===e)return t.animateMovingToInstructions(o,e);if("instructions-status"===e)return t.animateInstructions(o,e);if("moving-to-homepage-status"===e)return t.animateMovingToHomePage(o,e);if("coloring-lose-screen-status"===e)return t.animateColoringLoseScreen(o,e);if("finished-coloring-lose-screen-status"===e)return t.animateFinishedColoringLoseScreen(o,e);if("moving-to-lose-screen-status"===e)return t.animateMovingToLoseScreen(o,e);if("lose-screen-status"===e)return t.animateLoseScreen(o,e);if("lose-screen-to-homepage-status"===e)return t.animateLoseScreenToHomePage(o,e);if(e===P)return t.animatePause(o,e);if("coloring-win-screen-status"===e)return t.animateColoringWinScreen(o,e);if("finished-coloring-win-screen-status"===e)return t.animateFinishedColoringWinScreen(o,e);if("moving-to-win-screen-status"===e)return t.animateMovingToWinScreen(o,e);if("win-screen-status"===e)return t.animateWinScreen(o,e);if(e===O){if(t.moveAmoebas(o),o.draw({status:e,amoeboi:t.amoeboi,timeVars:t.timeVars,muted:t.muted,autoscaleTime:t.autoscaleTime}),t.autoscaleTime){var s=t.amoebas[0];t.amoebas.forEach((function(e){s=s.radius<e.radius?e:s})),t.timeVars.timeCoefficient=t.amoeboi.radius/s.radius*t.timeVars.timeBase*.75}t.amoeboi.mass>0&&(t.boardVars.boardFocus={x:t.amoeboi.xpos,y:t.amoeboi.ypos},t.boardVars.baseMass=t.amoeboi.mass,t.amoeboi.radius/t.boardVars.realBoardWidth*1e3*t.boardVars.currentZoom>75&&(t.boardVars.maxZoom=a(75/(t.amoeboi.radius/t.boardVars.realBoardWidth*1e3),1,t.boardVars.absoluteMaxZoom),t.boardVars.currentZoom=a(.9999999*t.boardVars.currentZoom,t.boardVars.minZoom,t.boardVars.maxZoom)),t.amoeboi.radius/t.boardVars.realBoardWidth*1e3*t.boardVars.maxZoom<75&&(t.boardVars.maxZoom=a(75/(t.amoeboi.radius/t.boardVars.realBoardWidth*1e3),1,t.boardVars.absoluteMaxZoom)))}return null})),W(this,"setup",(function(e,o){t.setBoardVars(3e4,3e4),t.setUpAmoebas(!0),e.draw({status:o}),t.boardVars.currentZoom=4,t.timeVars.timeCoefficient=.5,t.boardVars.baseMass=t.amoeboi.mass,t.boardVars.boardFocus={x:t.amoeboi.xpos,y:t.amoeboi.ypos},t.audio.playbackRate=.5+1/(1+Math.pow(Math.E,-10*s(10,t.timeVars.timeCoefficient)))*3.5})),W(this,"setBoardVars",(function(e,o){var a=parseInt(50/Math.sqrt(1e5/Math.PI)*e/1e3),s=a,r=a;t.boardVars=new T({boardSize:e/3e4,realBoardWidth:e,realBoardHeight:o,baseMass:5e4,maxZoom:a,absoluteMaxZoom:s,minZoom:.7,currentZoom:r,boardFocus:{x:e/2,y:o/2}})})),W(this,"setUpAmoebas",(function(e){var o,a;t.amoebas=[],t.amoeboi=e?new v({x:t.boardVars.realBoardWidth/2,y:t.boardVars.realBoardHeight/2,mass:1e7,momentum:{x:0,y:0},realBoardWidth:t.boardVars.realBoardWidth,realBoardHeight:t.boardVars.realBoardHeight}):null,t.quadTree=new M({x:0,y:0,width:t.boardVars.realBoardWidth,height:t.boardVars.realBoardHeight}),a=function(){return o=Math.pow(t.boardVars.realBoardHeight/30*Math.PI,2),Math.floor(Math.random()*o*4+o)},t.addAmoebas(parseInt(2*t.boardVars.boardSize),a,1e6),a=function(){return Math.floor(4e6*Math.random()*Math.pow(t.boardVars.boardSize,2)+1e6*Math.pow(t.boardVars.boardSize,2))},t.addAmoebas(parseInt(20*t.boardVars.boardSize),a,1e6),a=function(){return Math.floor(4e5*Math.random()+1e5)},t.addAmoebas(parseInt(700*t.boardVars.boardSize),a,1e6),a=function(){return Math.floor(4e5*Math.random()+1e4)},t.addAmoebas(parseInt(50*t.boardVars.boardSize),a,1e6),a=function(){return Math.floor(1e4*Math.random()+1e4)},t.addAmoebas(parseInt(1e4*t.boardVars.boardSize),a,1e5);for(var s=0;s<t.amoebas.length;s++)t.quadTree.insert1(t.amoebas[s]);e&&(t.amoeboi.mass/=100,t.amoeboi.adjustRadius())})),W(this,"addAmoebas",(function(e,o,a){for(var s=0;s<e;s++){for(var r=o(),n=Math.sqrt(r/Math.PI),i=Math.floor(Math.random()*(t.boardVars.realBoardWidth-n))+n,m=Math.floor(Math.random()*(t.boardVars.realBoardHeight-n))+n,c={x:Math.floor(Math.random()*a)-a/2,y:Math.floor(Math.random()*a)-a/2},l=new d({x:i,y:m,mass:r,momentum:c,realBoardWidth:t.boardVars.realBoardWidth,realBoardHeight:t.boardVars.realBoardHeight});t.amoeboi&&u(t.amoeboi,l);)l.xpos=Math.floor(Math.random()*(t.boardVars.realBoardWidth-n))+n,l.ypos=Math.floor(Math.random()*(t.boardVars.realBoardHeight-n))+n;t.amoebas.push(l)}})),W(this,"reset",(function(){t.boardVars.maxZoom=4,t.boardVars.currentZoom=2,t.timeVars.timeCoefficient=.5,t.boardVars.baseMass=5e4,t.setUpAmoebas(!1),t.boardVars.boardFocus={x:t.boardVars.realBoardWidth/2,y:t.boardVars.realBoardHeight/2}})),W(this,"setUpNextLevel",(function(e,o){e.draw({status:o}),t.boardVars.currentZoom=4,t.timeVars.timeCoefficient=.5,t.setBoardVars(1.2*t.boardVars.realBoardWidth+(500-1.2*t.boardVars.realBoardWidth%500),1.2*t.boardVars.realBoardHeight+(500-1.2*t.boardVars.realBoardHeight%500)),t.setUpAmoebas(!0),t.boardVars.baseMass=t.amoeboi.mass,t.boardVars.boardFocus={x:t.amoeboi.xpos,y:t.amoeboi.ypos},t.audio.playbackRate=.5+1/(1+Math.pow(Math.E,-10*s(10,t.timeVars.timeCoefficient)))*3.5})),W(this,"animateHomepage",(function(e,o){t.moveAmoebas(e),e.draw({status:o,mouseVars:t.mouseVars,muted:t.muted})})),W(this,"animateMovingToInstructions",(function(e,o){t.moveAmoebas(e),e.draw({status:o,mouseVars:t.mouseVars,muted:t.muted})})),W(this,"animateInstructions",(function(e,o){t.moveAmoebas(e),e.draw({status:o,mouseVars:t.mouseVars,muted:t.muted})})),W(this,"animateMovingToHomePage",(function(e,o){t.moveAmoebas(e),e.draw({status:o,mouseVars:t.mouseVars,muted:t.muted})})),W(this,"animateColoringLoseScreen",(function(e,o){t.boardVars.boardFocus.x+=t.boardVars.boardFocus.x<t.boardVars.realBoardWidth/2?10:-10,t.boardVars.boardFocus.y+=t.boardVars.boardFocus.y<t.boardVars.realBoardHeight/2?10:-10,t.boardVars.currentZoom=t.boardVars.currentZoom>1?.9*t.boardVars.currentZoom:t.boardVars.currentZoom,t.boardVars.baseMass=0,t.moveAmoebas(e),e.draw({status:o})})),W(this,"animateFinishedColoringLoseScreen",(function(e,t){e.draw({status:t})})),W(this,"animateMovingToLoseScreen",(function(e,o){t.moveAmoebas(e),e.draw({status:o,mouseVars:t.mouseVars,muted:t.muted})})),W(this,"animateLoseScreen",(function(e,o){t.moveAmoebas(e),e.draw({status:o,mouseVars:t.mouseVars,muted:t.muted})})),W(this,"animateLoseScreenToHomePage",(function(e,o){e.stepFromLoseScreenToHomepage(),t.moveAmoebas(e),e.draw({status:o,mouseVars:t.mouseVars,muted:t.muted})})),W(this,"animatePause",(function(e,o){e.draw({status:o,mouseVars:t.mouseVars,amoebas:t.amoebas,amoeboi:t.amoeboi})})),W(this,"animateColoringWinScreen",(function(e,o){t.boardVars.boardFocus.x+=t.boardVars.boardFocus.x<t.boardVars.realBoardWidth/2?10:-10,t.boardVars.boardFocus.y+=t.boardVars.boardFocus.y<t.boardVars.realBoardHeight/2?10:-10,t.boardVars.currentZoom=t.boardVars.currentZoom>1?.9*t.boardVars.currentZoom:t.boardVars.currentZoom,t.boardVars.baseMass=t.amoeboi.mass,t.moveAmoebas(e),e.draw({status:o})})),W(this,"animateFinishedColoringWinScreen",(function(e,t){e.draw({status:t})})),W(this,"animateMovingToWinScreen",(function(e,o){e.stepFromAboveToLevelEndScreen(),e.draw({status:o,mouseVars:t.mouseVars})})),W(this,"animateWinScreen",(function(e,o){t.boardVars.baseMass=t.amoeboi.mass,t.moveAmoebas(e),e.draw({status:o,mouseVars:t.mouseVars})})),W(this,"moveAmoebas",(function(e){t.amoebas=t.amoebas.filter((function(e){return e.mass>0})),t.quadTree.clear();for(var o=0;o<t.amoebas.length;o++)t.quadTree.insert1(t.amoebas[o]);t.amoebas.forEach((function(o){o.move(t.timeVars.timeCoefficient),e.drawAmoeba(o,t.boardVars,t.mouseVars)})),t.amoeboi&&t.amoeboi.move(t.timeVars.timeCoefficient),t.amoeboi&&e.drawAmoeboi(t.amoeboi,t.boardVars,t.mouseVars),t.quadTree.checkAllCollisions(r(t.timeVars.timeCoefficient)),t.amoebas.forEach((function(e){t.amoeboi&&r(t.timeVars.timeCoefficient)(t.amoeboi,e),t.amoeboi&&r(t.timeVars.timeCoefficient)(e,t.amoeboi),m(e,t.boardVars)})),t.amoeboi&&m(t.amoeboi,t.boardVars)})),W(this,"checkWin",(function(){for(var e=0,o=t.amoebas.length;e<o;e++)if(t.amoeboi.mass<t.amoebas[e].mass)return!1;return!0})),this.audio=i,this.muted=!1,this.setBoardVars(o,n),this.setupTime(),this.setupMouse(),this.shiftDown=!1,this.autoscaleTime=!0},B=function(e){var t=e.boardFocusY,o=e.boardHeight,a=e.innerHeight,s=e.mouseOffsetY;return function(e){return(e-t)/(o/2)*500+a/2+s}},F=function(e){var t=e.boardFocusX,o=e.boardWidth,a=e.innerWidth,s=e.mouseOffsetX;return function(e){return(e-t)/(o/2)*500+a/2+s}};function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var E=function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,"draw",(function(e){var t=e.status,a=e.boardVars,s=e.mouseVars,r=e.timeVars,n=e.amoeboi,i=e.amoebas,u=e.muted,m=e.autoscaleTime;switch(t){case"set-up-status":return o.resetYOffset();case"reset-status":return null;case"next-level-status":return o.resetYOffset();case A:return o.drawHomepage(s,u);case"moving-to-instructions-status":return o.stepFromHomepageToInstructions(),o.drawHomepage(s,u);case"instructions-status":return o.drawHomepage(s,u);case"moving-to-homepage-status":return o.stepFromInstructionsToHomepage(),o.drawHomepage(s,u);case"coloring-lose-screen-status":return o.stepColoringHomepage(),o.drawColoringHomepage();case"finished-coloring-lose-screen-status":return o.drawFinishedColoringHomepage();case"moving-to-lose-screen-status":return o.stepFromAboveToLevelEndScreen(),o.drawHomepage(s,u);case"lose-screen-status":return o.drawHomepage(s,u);case"lose-screen-to-homepage-status":return o.stepFromLoseScreenToHomepage(),o.drawHomepage(s,u);case P:return i.forEach((function(e){o.drawAmoeba(e,a,s)})),o.drawAmoeboi(n,a,s),o.drawPause(s.mousePos.x,s.mousePos.y);case"coloring-win-screen-status":return o.stepColoringHomepage(),o.drawColoringHomepage();case"finished-coloring-win-screen-status":return o.drawFinishedColoringHomepage();case"moving-to-win-screen-status":return o.stepFromAboveToLevelEndScreen(),o.drawWinScreen(s);case"win-screen-status":return o.drawWinScreen(s);case O:return o.drawMargins(r),o.drawMassDisplay(n),o.drawInstructions(u,m)}})),k(this,"clearCtx",(function(){o.ctx.clearRect(0,0,innerWidth,innerHeight)})),k(this,"drawField",(function(e,t,a){var s=B({boardFocusY:e.boardFocus.y,boardHeight:e.boardHeight(),innerHeight:window.innerHeight,mouseOffsetY:t.mouseOffset.y}),r=F({boardFocusX:e.boardFocus.x,boardWidth:e.boardWidth(),innerWidth:window.innerWidth,mouseOffsetX:t.mouseOffset.x});o.drawBorders(r,s,e.realBoardWidth,e.realBoardHeight),o.drawGrid(r,s,e.realBoardWidth,e.realBoardHeight)})),k(this,"drawGrid",(function(e,t,a,s){o.ctx.globalAlpha=.4,o.ctx.fillStyle="black";for(var r=500,n=t(0),i=t(s);r<a;)o.ctx.fillRect(e(r),n,2,i-n),r+=500;for(var u=500,m=e(0),c=e(a);u<s;)o.ctx.fillRect(m,t(u),c-m,2),u+=500;o.ctx.globalAlpha=1})),k(this,"drawBorders",(function(e,t,a,s){o.ctx.globalAlpha=.4,o.ctx.fillStyle="red";var r=t(0),n=t(s);o.ctx.fillRect(e(0),r,2,n-r),o.ctx.fillRect(e(a),r,2,n-r);var i=e(0),u=e(a);o.ctx.fillRect(i,t(0),u-i,2),o.ctx.fillRect(i,t(s),u-i,2),o.ctx.globalAlpha=1})),k(this,"drawQuadtree",(function(e,t,a){if(a&&a.quadrants.length){o.ctx.globalAlpha=.4,o.ctx.strokeStyle="black";var s=e(a.x),r=t(a.y),n=e(a.endX),i=t(a.endY),u=e(a.halfX),m=t(a.halfY);o.ctx.beginPath(),o.ctx.moveTo(s,m),o.ctx.lineTo(n,m),o.ctx.closePath(),o.ctx.stroke(),o.ctx.beginPath(),o.ctx.moveTo(u,r),o.ctx.lineTo(u,i),o.ctx.closePath(),o.ctx.stroke(),a.quadrants.forEach((function(a){o.drawQuadtree(e,t,a)})),o.ctx.globalAlpha=1}})),k(this,"buildAndColorAmoeba",(function(e,t,a,s){if(!(e.mass<=0))if(isNaN(e.xpos)||isNaN(e.ypos))e.mass=0;else{e.adjustRadius();var r=B({boardFocusY:t.boardFocus.y,boardHeight:t.boardHeight(),innerHeight:window.innerHeight,mouseOffsetY:a.mouseOffset.y})(e.ypos),n=F({boardFocusX:t.boardFocus.x,boardWidth:t.boardWidth(),innerWidth:window.innerWidth,mouseOffsetX:a.mouseOffset.x})(e.xpos),i=e.radius/t.realBoardWidth*1e3*t.currentZoom,u=s(e,n,r,i,t.baseMass);o.ctx.globalAlpha=.8,o.ctx.beginPath(),o.ctx.arc(n,r,i,0,2*Math.PI),o.ctx.fillStyle=u,o.ctx.fill(),o.ctx.globalAlpha=1}})),k(this,"drawAmoeboi",(function(e,t,a){o.buildAndColorAmoeba(e,t,a,o.colorizeAmoeboi)})),k(this,"drawAmoeba",(function(e,t,a){o.buildAndColorAmoeba(e,t,a,o.colorizeAmoeba)})),k(this,"colorizeAmoeba",(function(e,t,s,r,n){if(!(e.mass<=0)){var i=o.ctx.createRadialGradient(t,s,r,t,s,0);return e.mass<n?(i.addColorStop(0,"rgb(".concat(20,", ",20,", ",255,")")),i.addColorStop(a(1-e.mass/n,0,1),"rgb(".concat(50,", ",20,", ",200,")")),i.addColorStop(1,"rgb(".concat(255,", ",20,", ",20,")"))):(i.addColorStop(0,"rgb(".concat(255,", ",20,", ",20,")")),i.addColorStop(a(1-n/e.mass,0,1),"rgb(".concat(200,", ",20,", ",50,")")),i.addColorStop(1,"rgb(".concat(20,", ",20,", ",255,")"))),i}})),k(this,"colorizeAmoeboi",(function(e,t,a,s){if(!(e.mass<=0)){var r=o.ctx.createRadialGradient(t,a,s,t,a,0);return r.addColorStop(0,"rgb(".concat(0,", ",255,", ",0,")")),r.addColorStop(1,"rgb(".concat(0,", ",150,", ",0,")")),r}})),k(this,"drawPause",(function(e,t){o.ctx.globalAlpha=.5,o.ctx.fillStyle="black",o.ctx.fillRect(0,0,window.innerWidth,window.innerHeight);var a=e/window.innerWidth*50,s=t/window.innerHeight*50;o.ctx.globalAlpha=1,o.ctx.fillStyle="white",o.ctx.font="70px Impact";var r=window.innerWidth/2-75-a,n=window.innerHeight/2+50-s+o.homepageYOffset;o.ctx.fillText("PAUSED",r,n)})),k(this,"drawClock",(function(e){o.ctx.globalAlpha=.7,o.ctx.beginPath(),o.ctx.arc(120,120,65,0,(s(e.timeBase,e.timeCoefficient)+1)/2*Math.PI*2),o.ctx.strokeStyle="orange",o.ctx.lineWidth=5,o.ctx.stroke(),o.ctx.beginPath(),o.ctx.arc(120,120,60,0,2*Math.PI),o.ctx.strokeStyle="black",o.ctx.lineWidth=3,o.ctx.stroke(),o.ctx.globalAlpha=.8,o.ctx.fillStyle="white",o.ctx.fill(),o.ctx.beginPath(),o.ctx.moveTo(120,120),o.ctx.lineTo(120+60*Math.cos(o.clockAngle*Math.PI/180),120+60*Math.sin(o.clockAngle*Math.PI/180)),o.ctx.fillStyle="black",o.ctx.stroke(),o.clockAngle=(o.clockAngle+e.timeCoefficient)%360,o.ctx.globalAlpha=1})),k(this,"drawMassDisplay",(function(e){var t;o.ctx.globalAlpha=.7,o.ctx.fillStyle="black",t=e.mass>0?130+15*a(Math.floor(Math.log10(e.mass/100),1,1e4)):145,o.ctx.fillRect(window.innerWidth-220,65,t,50),o.ctx.globalAlpha=1,o.ctx.fillStyle="white",o.ctx.font="30px Impact",o.ctx.fillText("Mass: ".concat(Math.floor(e.mass/100)),window.innerWidth-200,100)})),k(this,"drawInstructions",(function(e,t){if(o.ctx.globalAlpha=.7,o.ctx.fillStyle="black",!o.showInstructions)return o.ctx.fillRect(50,65,340,50),o.ctx.globalAlpha=1,o.ctx.fillStyle="white",o.ctx.font="20px Arial Black",void o.ctx.fillText("PRESS I FOR INSTRUCTIONS",60,100);o.ctx.globalAlpha=.7,o.ctx.fillStyle="black",o.ctx.fillRect(50,65,365,320),o.ctx.globalAlpha=1,o.ctx.fillStyle="white",o.ctx.font="20px Arial Black",o.ctx.fillText("SPACE   :  Pause",60,95),o.ctx.fillText(" SHIFT   :  Look Around",61,135),o.ctx.fillText("SCROLL :  Zoom In/Out",60,170),o.ctx.fillText("     H      :  Main Menu",65,215),o.ctx.fillText("     R      :  Restart",65,255),o.ctx.fillText("     I       :  Toggle Instructions",67,295),o.ctx.fillText("     M      :  Toggle Volume (".concat(e?"OFF":"ON",")"),63,335),o.ctx.fillText("     A      :  Autoscale Time (".concat(t?"ON":"OFF",")"),63,375)})),k(this,"drawMargins",(function(e){o.ctx.globalAlpha=.7,o.ctx.fillStyle="black";var t=Math.floor(window.innerHeight/8),a=window.innerWidth/2-250,r=window.innerHeight-t/2-25,n=(s(e.timeBase,e.timeCoefficient)+1)/2;o.ctx.fillStyle="black",o.ctx.fillRect(a-10,r,520,50),o.ctx.fillStyle="white",o.ctx.fillRect(a+500*n-10,r,20,50),o.ctx.globalAlpha=1})),k(this,"drawWinScreen",(function(e){o.ctx.globalAlpha=.5,o.ctx.fillStyle="black",o.ctx.fillRect(0,0,window.innerWidth,window.innerHeight);var t=e.mousePos.x/window.innerWidth*50,a=e.mousePos.y/window.innerHeight*50,s=window.innerWidth/2-195-t,r=window.innerHeight/2-80-a+o.homepageYOffset;o.ctx.globalAlpha=1,o.ctx.fillStyle="white",o.ctx.font="70px Impact",o.ctx.fillText("YOU'VE WON",s+55,r-920),o.ctx.font="40px Impact",o.ctx.fillText("Press C to continue",s+65,r-840)})),k(this,"setupImages",(function(){o.iconImages={};["githubLogo","linkedInLogo","folderIcon","volume","volumeReverse","mute","muteReverse"].forEach((function(e){return o.setupImage(e)}))})),k(this,"setupImage",(function(e){o.iconImages[e]=new Image,o.iconImages[e].src="../assets/images/".concat(e,".png")})),k(this,"drawHomepage",(function(e,t){o.ctx.globalAlpha=.5,o.ctx.fillStyle="black",o.ctx.fillRect(0,0,window.innerWidth,window.innerHeight);var a=e.mousePos.x/window.innerWidth*50,s=e.mousePos.y/window.innerHeight*50,r=Math.sin((Date.now()-o.homepageTime)%1500/1500*Math.PI);o.ctx.globalAlpha=1,o.ctx.fillStyle="white",o.ctx.font="120px Impact";var n=window.innerWidth/2-195-a,i=window.innerHeight/2-80-s+o.homepageYOffset;o.ctx.fillText("AmoeBoi",n,i),o.ctx.globalAlpha=.7,o.ctx.fillStyle="rgb(0,0,50)",o.ctx.fillRect(n-300,i+885,1050,530),o.ctx.globalAlpha=1,o.ctx.fillStyle="rgb(240,240,240)",o.ctx.font="".concat(30+2*r,"px Impact"),o.ctx.fillText("PRESS ENTER TO START",n+85-5*r,i+100+2*r),o.ctx.font="50px Impact",o.ctx.fillText("⬇ INSTRUCTIONS ⬇",n+15,i+360),o.ctx.fillText("⬆ MAIN MENU ⬆",n+50,i+850),o.ctx.font="25px Arial Black",o.ctx.fillText("Become the Biggest!",n+80,i+930),o.ctx.fillText("Absorb smaller amoebas, avoid the bigger ones,",n-105,i+1e3),o.ctx.fillText("and become the biggest blob in the land.",n-55,i+1030),o.ctx.fillText("Aim and hold the left mouse button to shoot out smaller amoebas",n-222.5,i+1100),o.ctx.fillText("and propel yourself the other way... but be careful!",n-120,i+1130),o.ctx.fillText("Every shot uses a little bit of your own mass.",n-80,i+1160),o.ctx.fillText("You can speed up or slow down time using the left/right arrow keys.",n-240,i+1230),o.ctx.fillText("Press space to pause the game",n+10,i+1300),o.ctx.fillText("and press H to return to the Main Menu at any time.",n-130,i+1330),o.ctx.fillText("PRESS ENTER TO START",n+50,i+1400),o.ctx.drawImage(o.iconImages.githubLogo,n-50,i+170,80,80),o.ctx.drawImage(o.iconImages.linkedInLogo,n+180,i+170,72,72),o.ctx.drawImage(o.iconImages.folderIcon,n+380,i+170,88,88),o.ctx.drawImage(t?o.iconImages.mute:o.iconImages.volume,n-5,i+(t?60:65),50,50),o.ctx.drawImage(t?o.iconImages.muteReverse:o.iconImages.volumeReverse,n+400,i+(t?60:65),50,50),o.ctx.fillStyle="white",o.ctx.font="70px Impact",o.ctx.fillText("YOU'VE LOST",n+55,i-920),o.ctx.font="40px Impact",o.ctx.fillText("Press R to play again",n+50,i-840),o.ctx.fillText("Press H to return to Main Menu",n-27.5,i-760)})),k(this,"drawColoringHomepage",(function(){o.ctx.globalAlpha=o.homepageAlpha,o.ctx.fillStyle="black",o.ctx.fillRect(0,0,window.innerWidth,window.innerHeight)})),k(this,"drawFinishedColoringHomepage",(function(){o.ctx.globalAlpha=o.homepageAlpha,o.ctx.fillStyle="black",o.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),o.homepageYOffset=1500,o.homepageAlpha=0})),k(this,"stepFromHomepageToInstructions",(function(){o.homepageYOffset-=50,o.homepageYOffset<-1e3&&(o.homepageYOffset=-1e3)})),k(this,"isMovingFromHomepageToInstructions",(function(){return o.homepageYOffset>-1e3})),k(this,"stepFromInstructionsToHomepage",(function(){o.homepageYOffset+=50,o.homepageYOffset>0&&(o.homepageYOffset=0)})),k(this,"isMovingFromInstructionsToHomepage",(function(){return o.homepageYOffset<0})),k(this,"stepFromAboveToLevelEndScreen",(function(){o.homepageYOffset-=50,o.homepageYOffset<1e3&&(o.homepageYOffset=1e3)})),k(this,"isMovingFromAboveToLevelEndScreen",(function(){return o.homepageYOffset>1e3})),k(this,"stepFromLoseScreenToHomepage",(function(){o.homepageYOffset-=50,o.homepageYOffset<0&&(o.homepageYOffset=0)})),k(this,"isMovingFromLoseScreenToHomepage",(function(){return o.homepageYOffset>0})),k(this,"stepColoringHomepage",(function(){o.homepageAlpha+=.1})),k(this,"isColoringHomepage",(function(){return o.homepageAlpha<.5})),k(this,"resetYOffset",(function(){o.homepageYOffset=0})),this.element=document.getElementById(t),this.ctx=this.element.getContext("2d"),this.homepageYOffset=0,this.homepageAlpha=0,this.clockAngle=0,this.showInstructions=!0,this.homepageTime=null,this.setupImages()};document.addEventListener("DOMContentLoaded",(function(){var e={userInputStatus:void 0,status:void 0},t=new E("background");t.element.width=window.innerWidth,t.element.height=window.innerHeight;var o=document.getElementById("audio"),a=new C(3e4,3e4,o);o.playbackRate=.5+1/(1+Math.pow(Math.E,-10*s(10,a.timeVars.timeCoefficient)))*3.5,o.volume=.5,window.onresize=function(){t.element.width=window.innerWidth,t.element.height=window.innerHeight},window.addEventListener("click",X(a,t,e,o)),window.addEventListener("touchstart",R(a,e)),window.addEventListener("touchmove",L(a,e)),window.addEventListener("touchend",Z(a,t,e)),window.addEventListener("mousedown",D(a,e)),window.addEventListener("mousemove",q(a,t,e)),window.addEventListener("mouseup",j(a)),window.addEventListener("keydown",N(a,t,e,o)),window.addEventListener("keyup",z(a)),document.addEventListener("wheel",_(a,e)),document.addEventListener("mousewheel",_(a,e));requestAnimationFrame((function(){return function t(o,s){return a.animate(o,s),e.status=void 0!==e.userInputStatus?e.userInputStatus:a.determineNextStatus(o,s),void 0!==e.userInputStatus&&(e.userInputStatus=void 0),requestAnimationFrame((function(){return t(e.status,s)}))}("reset-status",t)}))}));var X=function(e,t,o,a){return function(s){if(o.status===A){var r=e.mouseVars.mousePos.x/window.innerWidth*50,n=e.mouseVars.mousePos.y/window.innerHeight*50,i=window.innerWidth/2-195-r,u=window.innerHeight/2-80-n+t.homepageYOffset;s.pageX>i-40&&s.pageX<i+40&&s.pageY>u+170&&s.pageY<u+250?window.location="https://github.com/1stepremoved":s.pageX>i+180&&s.pageX<i+252&&s.pageY>u+170&&s.pageY<u+242?window.location="https://linkedin.com/in/hamilton-sands":s.pageX>i+380&&s.pageX<i+468&&s.pageY>u+170&&s.pageY<u+258?window.location="https://1stepremoved.github.io/portfolio/":s.pageX>i+75&&s.pageX<i+365&&s.pageY>u+315&&s.pageY<u+360?(o.userInputStatus="moving-to-instructions-status",document.body.style.cursor="default"):s.pageX>i-5&&s.pageX<i+45&&s.pageY>u+60&&s.pageY<u+110?0===a.volume?(a.volume=.5,e.muted=!1):(a.volume=0,e.muted=!0):s.pageX>i+400&&s.pageX<i+450&&s.pageY>u+60&&s.pageY<u+110&&(0===a.volume?(a.volume=.5,e.muted=!1):(a.volume=0,e.muted=!0))}else if("instructions-status"===o.status){var m=e.mouseVars.mousePos.x/window.innerWidth*50,c=e.mouseVars.mousePos.y/window.innerHeight*50,l=window.innerWidth/2-195-m,d=window.innerHeight/2-80-c+t.homepageYOffset;s.pageX>l+110&&s.pageX<l+335&&s.pageY>d+805&&s.pageY<d+850&&(o.userInputStatus="moving-to-homepage-status",document.body.style.cursor="default")}}},R=function(e,t){return function(o){if(t.status===O){if(clearInterval(e.mouseVars.mouseDownInterval),t.status===P||2===o.button||t.status!==O)return;e.mouseVars.mouseDownTime=Date.now(),e.mouseVars.mousePos.x=o.touches[0].pageX,e.mouseVars.mousePos.y=o.touches[0].pageY,e.amoeboi.propel(o,e.amoebas,e.boardVars,e.mouseVars),e.mouseVars.mouseDownInterval=setInterval((function(){e.amoeboi.propel(o,e.amoebas,e.boardVars,e.mouseVars)}),200)}}},L=function(e,t){return function(o){t.status===O&&(e.mouseVars.mousePos.x=o.touches[0].pageX,e.mouseVars.mousePos.y=o.touches[0].pageY)}},Z=function(e,t,o){return function(a){a.touches.length>1||(o.status===A?(o.statusVars.userInputStatus="set-up-status",t.homepageYOffset=0):"lose-screen-status"===o.status?(document.body.style.cursor="default",o.statusVars.userInputStatus="lose-screen-to-homepage-status"):"win-screen-status"===o.status?o.statusVars.userInputStatus="next-level-status":o.status===O&&(e.mouseVars.mouseDownTime=null,clearInterval(e.mouseVars.mouseDownInterval)))}},D=function(e,t){return function(o){clearInterval(e.mouseVars.mouseDownInterval),t.status!==P&&2!==o.button&&t.status===O&&(e.mouseVars.mouseDownTime=Date.now(),e.mouseVars.mousePos.x=o.pageX,e.mouseVars.mousePos.y=o.pageY,e.amoeboi.propel(o,e.amoebas,e.boardVars,e.mouseVars),e.mouseVars.mouseDownInterval=setInterval((function(){e.amoeboi.propel(o,e.amoebas,e.boardVars,e.mouseVars)}),200))}},q=function(e,t,o){return function(a){if(o.status===A){var s=e.mouseVars.mousePos.x/window.innerWidth*50,r=e.mouseVars.mousePos.y/window.innerHeight*50,n=window.innerWidth/2-195-s,i=window.innerHeight/2-80-r+t.homepageYOffset;a.pageX>n-40&&a.pageX<n+40&&a.pageY>i+170&&a.pageY<i+250?document.body.style.cursor="pointer":a.pageX>n+180&&a.pageX<n+252&&a.pageY>i+170&&a.pageY<i+242?document.body.style.cursor="pointer":a.pageX>n+380&&a.pageX<n+468&&a.pageY>i+170&&a.pageY<i+258?document.body.style.cursor="pointer":a.pageX>n+75&&a.pageX<n+365&&a.pageY>i+315&&a.pageY<i+360?document.body.style.cursor="pointer":a.pageX>n-5&&a.pageX<n+45&&a.pageY>i+60&&a.pageY<i+110?document.body.style.cursor="pointer":a.pageX>n+400&&a.pageX<n+450&&a.pageY>i+60&&a.pageY<i+110?document.body.style.cursor="pointer":document.body.style.cursor="default",window.innerHeight-a.pageY<30&&(o.userInputStatus="moving-to-instructions-status")}else if("instructions-status"===o.status){var u=e.mouseVars.mousePos.x/window.innerWidth*50,m=e.mouseVars.mousePos.y/window.innerHeight*50,c=window.innerWidth/2-195-u,l=window.innerHeight/2-80-m+t.homepageYOffset;a.pageX>c+110&&a.pageX<c+335&&a.pageY>l+805&&a.pageY<l+850?document.body.style.cursor="pointer":document.body.style.cursor="default",a.pageY<30&&(o.userInputStatus="moving-to-homepage-status")}else o.status===O&&e.shiftDown&&(e.mouseVars.mouseOffset.x=(window.innerWidth/2-a.pageX)/2,e.mouseVars.mouseOffset.y=(window.innerHeight/2-a.pageY)/2);e.mouseVars.mousePos.x=a.pageX,e.mouseVars.mousePos.y=a.pageY,e.mouseVars.mouseDownTime&&(e.mouseVars.mousePos.x=a.pageX,e.mouseVars.mousePos.y=a.pageY)}},j=function(e){return function(){e.mouseVars.mouseDownTime=null,clearInterval(e.mouseVars.mouseDownInterval)}},N=function(e,t,o,a){return function(r){switch(r.keyCode){case 39:if(o.status===P||o.status!==O||e.autoscaleTime)return;return e.timeVars.timeCoefficient=Math.min(1.1*e.timeVars.timeCoefficient,e.timeVars.timeBase),void(a.playbackRate=.5+1/(1+Math.pow(Math.E,-10*s(10,e.timeVars.timeCoefficient)))*3.5);case 37:if(o.status===P||o.status!==O||e.autoscaleTime)return;return e.timeVars.timeCoefficient=Math.max(.9*e.timeVars.timeCoefficient,Math.pow(e.timeVars.timeBase,-1)),void(a.playbackRate=.5+1/(1+Math.pow(Math.E,-10*s(10,e.timeVars.timeCoefficient)))*3.5);case 65:if(o.status===P||o.status!==O)return;return void(e.autoscaleTime=!e.autoscaleTime);case 32:if(![P,O].includes(status))return;return o.userInputStatus=o.status===P?O:P,void(e.mouseVars.mouseDownTime=null);case 72:return"instructions-status"===o.status?(document.body.style.cursor="default",void(o.userInputStatus="moving-to-homepage-status")):"lose-screen-status"===o.status?(document.body.style.cursor="default",void(o.userInputStatus="lose-screen-to-homepage-status")):void(o.userInputStatus="reset-status");case 73:return void(t.showInstructions=!t.showInstructions);case 82:return void(o.status!==O&&"lose-screen-status"!==o.status&&"win-screen-status"!==o.status||(o.userInputStatus="set-up-status"));case 13:if(o.status!==A&&"instructions-status"!==o.status)return;return o.userInputStatus="set-up-status",void(t.homepageYOffset=0);case 16:return void(e.shiftDown=!0);case 67:return void("win-screen-status"===o.status&&(o.userInputStatus="next-level-status"));case 77:0===a.volume?(a.volume=.5,e.muted=!1):(a.volume=0,e.muted=!0);default:return}}},z=function(e){return function(t){switch(t.keyCode){case 16:return e.mouseVars.mouseOffset.x=0,e.mouseVars.mouseOffset.y=0,void(e.shiftDown=!1);default:return}}},_=function(e,t){return function(o){if(o.preventDefault(),t.status!==P&&t.userInputStatus===O){var s=o.deltaY/-1e3;e.boardVars.currentZoom=a(e.boardVars.currentZoom+s,e.boardVars.minZoom,e.boardVars.maxZoom)}}}}]);
//# sourceMappingURL=bundle-06a05c.js.map