{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/v1/util.js","webpack:///./src/v1/amoeba.js","webpack:///./src/v1/amoeboi.js","webpack:///./src/v1/quadtree.js","webpack:///./src/v1/board-vars.js","webpack:///./src/v1/time-vars.js","webpack:///./src/v1/mouse-vars.js","webpack:///./src/v1/game.js","webpack:///./src/v1/canvas/util.js","webpack:///./src/v1/canvas/canvas.js","webpack:///./src/v1/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","boundNum","num","min","max","baseLog","x","y","Math","log","aabbCheck","timeCoefficient","amoeba1","amoeba2","xpos","radius","ypos","collision","distance","currentDistance","sqrt","pow","nextMomentum","momentum","mass","applyCollisionPhysics","bigAmoeba","smallAmoeba","bubble","massDelta","collidesWith","wallCollision","amoeba","boardVars","realBoardWidth","realBoardHeight","Amoeba","boardWidth","boardHeight","assign","xDelta","yDelta","PI","this","floor","random","color","momentumDelta","momentumMax","Amoeboi","e","amoebas","mouseVars","diffX","mousePos","window","innerWidth","diffY","innerHeight","angle","atan2","dirX","cos","dirY","sin","Date","now","mouseDownTime","push","QuadTree","width","height","level","halfWidth","halfHeight","quadrants","dataPoints","length","clear","dataPoint","index","getIndex","insert1","maxDataPoints","split","newDataPoints","halfX","halfY","endX","endY","collisionCheck","len","j","quadrantsLen","checkCollision","checkAllCollisions","BoardVars","opts","boardSize","baseMass","maxZoom","absoluteMaxZoom","minZoom","currentZoom","boardFocus","TimeVars","timeBase","MouseVars","mouseDownInterval","mouseOffset","Game","audio","timeVars","parseInt","massFunc","inertia","amoeboi","quadTree","addAmoebas","adjustRadius","canvas","ctx","clearRect","drawField","currentStatus","setupAmoebas","requestAnimationFrame","animate","setupProportions","homepageYOffset","playbackRate","E","moveAmoebas","makeHomepage","muted","homepageAlpha","globalAlpha","fillStyle","fillRect","paused","forEach","drawAmoeba","drawAmoeboi","makePause","checkWin","makeWinScreen","makeMargins","makeMassDisplay","makeInstructions","autoscaleTime","largest","a","filter","move","setupTime","setupMouse","shiftDown","boardYRelativeToFocus","boardFocusY","mouseOffsetY","boardXRelativeToFocus","boardFocusX","mouseOffsetX","Canvas","canvasId","colorize","isNaN","relativeY","relativeX","relativeRadius","gradient","beginPath","arc","fill","buildAndColorAmoeba","colorizeAmoeboi","colorizeAmoeba","createRadialGradient","addColorStop","mousePosX","mousePosY","font","titlePosX","titlePosY","fillText","strokeStyle","lineWidth","stroke","moveTo","lineTo","clockAngle","quadtree","relY","relX","drawBorders","drawGrid","topBorderY","bottomBorderY","leftBorderX","rightBorderX","relativeEndX","relativeEndY","relativeHalfX","relativeHalfY","closePath","subQuadtree","drawQuadtree","displayWidth","log10","showInstructions","marginHeight","timebarX","timebarWidth","timebarY","timebarHeight","time0to1","iconImages","fileName","setupImage","Image","src","homepageWave","homepageTime","drawImage","githubLogo","linkedInLogo","folderIcon","mute","volume","muteReverse","volumeReverse","element","document","getElementById","getContext","setupImages","addEventListener","game","onresize","pageX","pageY","location","body","style","cursor","clearInterval","button","touches","propel","setInterval","keyCode","mousewheelevent","test","navigator","userAgent","preventDefault","zoomDelta","deltaY"],"mappings":"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","file":"bundle-89d32a.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export const boundNum = (num, min, max) => {\n  if (num > max) {\n    return max;\n  } else if (num < min) {\n    return min;\n  } else {\n    return num;\n  }\n};\n\nexport const baseLog = (x, y) => {\n  return Math.log(y) / Math.log(x);\n};\n\nexport const transitionVar = (variable, start, stop, rate = .01) => {\n  const isGoingUp = (start < stop);\n  const transitionRate = (isGoingUp) ? 1 + rate : 1 - rate;\n  if ((isGoingUp && start > stop * .99) || (!isGoingUp && start < stop * 1.01)) {\n    return variable;\n  } else {\n    return variable * transitionRate;\n  }\n};\n\nexport const aabbCheck = (timeCoefficient = 1) => (amoeba1, amoeba2) => {\n  if (amoeba2.xpos + amoeba2.radius + amoeba1.radius > amoeba1.xpos\n      && amoeba2.xpos < amoeba1.xpos + amoeba1.radius + amoeba2.radius\n      && amoeba2.ypos + amoeba2.radius + amoeba1.radius > amoeba1.ypos\n      && amoeba2.ypos < amoeba1.ypos + amoeba1.radius + amoeba2.radius\n  ) {\n    collision(amoeba1, amoeba2, timeCoefficient);\n  }\n};\n\nconst collision = (amoeba1, amoeba2, timeCoefficient) => {\n  let distance = amoeba1.radius + amoeba2.radius;\n  let currentDistance = Math.sqrt(\n      Math.pow(amoeba1.xpos - amoeba2.xpos ,2)  + Math.pow(amoeba1.ypos - amoeba2.ypos ,2)\n  );\n  if (distance > currentDistance) {\n\n    amoeba1.nextMomentum['x'] += boundNum(amoeba2.momentum['x']\n        * amoeba2.mass * (currentDistance / distance) * timeCoefficient, -50, 50);\n    amoeba2.nextMomentum['x'] = amoeba2.nextMomentum['x']\n        * boundNum(amoeba2.mass / amoeba1.mass, .99, 1);\n\n    amoeba2.nextMomentum['x'] += boundNum(amoeba1.momentum['x']\n        * amoeba1.mass * (currentDistance / distance) * timeCoefficient, -50, 50);\n    amoeba1.nextMomentum['x'] = amoeba1.nextMomentum['x']\n        * boundNum(amoeba1.mass / amoeba2.mass, .99, 1);\n\n    amoeba1.nextMomentum['y'] += boundNum(amoeba2.momentum['y']\n        * amoeba2.mass * (currentDistance / distance) * timeCoefficient, -50, 50);\n    amoeba2.nextMomentum['y'] = amoeba2.nextMomentum['y']\n        * boundNum(amoeba2.mass / amoeba1.mass, .99, 1);\n\n    amoeba2.nextMomentum['y'] += boundNum(amoeba1.momentum['y']\n        * amoeba1.mass * (currentDistance / distance) * timeCoefficient, -50, 50);\n    amoeba1.nextMomentum['y'] = amoeba1.nextMomentum['y']\n        * boundNum(amoeba1.mass / amoeba2.mass, .99, 1);\n\n    if (amoeba1.mass <= amoeba2.mass) {\n      applyCollisionPhysics(amoeba2, amoeba1, currentDistance, timeCoefficient);\n    } else {\n      applyCollisionPhysics(amoeba1, amoeba2, currentDistance, timeCoefficient);\n    }\n  }\n};\n\nconst applyCollisionPhysics = (bigAmoeba, smallAmoeba, currentDistance, timeCoefficient) => {\n  if ((currentDistance - bigAmoeba.radius) < 0 || smallAmoeba.mass < 100) {\n    bigAmoeba.mass += smallAmoeba.mass;\n    smallAmoeba.mass = 0;\n    bigAmoeba.nextMomentum['x'] += smallAmoeba.nextMomentum['x'];\n    bigAmoeba.nextMomentum['y'] += smallAmoeba.nextMomentum['y'];\n  }\n\n  let bubble = smallAmoeba.massDelta * smallAmoeba.mass\n      * boundNum( (smallAmoeba.radius - (currentDistance - bigAmoeba.radius)) / smallAmoeba.radius, .01, .1)\n      * boundNum(timeCoefficient, 0.5, 2);\n\n  smallAmoeba.mass -= bubble;\n  bigAmoeba.mass += bubble;\n};\n\nexport const collidesWith = (amoeba1, amoeba2) => {\n  let distance = amoeba1.radius + amoeba2.radius;\n  let currentDistance = Math.sqrt(\n      Math.pow(amoeba1.xpos - amoeba2.xpos, 2) + Math.pow(amoeba1.ypos - amoeba2.ypos, 2)\n  );\n  if (distance > currentDistance) {\n    return true;\n  } else {\n    return false;\n  };\n};\n\nexport const wallCollision = (amoeba, boardVars) => {\n  if (amoeba.xpos + amoeba.radius >= boardVars.realBoardWidth) {\n    amoeba.nextMomentum['x'] = -1 * amoeba.momentum['x'];\n    amoeba.xpos = boardVars.realBoardWidth - amoeba.radius - 1;\n  } else if (amoeba.xpos - amoeba.radius <= 0) {\n    amoeba.nextMomentum['x'] = -1 * amoeba.momentum['x'];\n    amoeba.xpos = 0 + amoeba.radius + 1;\n  }\n  if (amoeba.ypos + amoeba.radius >= boardVars.realBoardHeight) {\n    amoeba.nextMomentum['y'] = -1 * amoeba.momentum['y'];\n    amoeba.ypos = boardVars.realBoardHeight - amoeba.radius - 1;\n  } else if (amoeba.ypos - amoeba.radius <= 0) {\n    amoeba.nextMomentum['y'] = -1 * amoeba.momentum['y'];\n    amoeba.ypos = 0 + amoeba.radius + 1;\n  }\n};\n","class Amoeba {\n  constructor({ x, y, mass, momentum, boardWidth, boardHeight }) {\n    this.mass = mass || Math.floor((Math.random() * 100000) + 10000);\n    this.radius = Math.sqrt(this.mass / (Math.PI));\n    this.xpos = x || Math.floor(Math.random() * (boardWidth - this.radius)) + this.radius;\n    this.ypos = y || Math.floor(Math.random() * (boardHeight - this.radius)) + this.radius;\n    this.momentum = momentum || {x: Math.floor(Math.random() * 1000000) - 500000, y: Math.floor(Math.random() * 1000000) - 500000};\n    this.nextMomentum = Object.assign({}, this.momentum);\n    this.color = \"blue\";\n  }\n\n  move = (timeCoefficient) => {\n    this.momentum = Object.assign({}, this.nextMomentum);\n    let xDelta = (this.mass > 0 ? this.momentum['x'] / this.mass : 0);\n    let yDelta = (this.mass > 0 ? this.momentum['y'] / this.mass : 0);\n    this.xpos += xDelta * timeCoefficient;\n    this.ypos += yDelta * timeCoefficient;\n  };\n\n  adjustRadius = () => {\n    this.radius = Math.sqrt(this.mass / (Math.PI));\n  };\n}\n\nAmoeba.prototype.momentumDelta = 1;\nAmoeba.prototype.massDelta =  1 / 2;\nAmoeba.prototype.momentumMax = 10;\n\nexport default Amoeba;\n","import Amoeba from './amoeba';\nimport { boundNum } from './util';\n\nclass Amoeboi extends Amoeba {\n  propel = (e, amoebas, boardVars, mouseVars) => {\n    if (this.mass <= 0) {\n      return;\n    }\n    let diffX = mouseVars.mousePos.x - (window.innerWidth / 2);\n    let diffY = mouseVars.mousePos.y - (window.innerHeight / 2);\n    let angle = Math.atan2(diffY, diffX);\n    let dirX = Math.cos(angle);\n    let dirY = Math.sin(angle);\n\n    let mass = this.mass * boundNum(((Date.now() - mouseVars.mouseDownTime) / 30000), .01, .1);\n    this.mass -= mass;\n    let radius = Math.sqrt(mass / (Math.PI));\n    let xpos = this.xpos + (dirX * this.radius) + ((dirX > 0 ) ? radius : -1 * radius);\n    let ypos = this.ypos + (dirY * this.radius) + ((dirY > 0 ) ? radius : -1 * radius);\n    let momentum = {x: mass * 50 * dirX * 2, y: mass * 50 * dirY * 2};\n    amoebas.push(new Amoeba({\n      x: xpos,\n      y: ypos,\n      mass,\n      momentum,\n      boardWidth: boardVars.realBoardWidth,\n      boardHeight: boardVars.realBoardHeight,\n    }));\n    this.nextMomentum.x += momentum.x * -1 * 3;\n    this.nextMomentum.y += momentum.y * -1 * 3;\n  };\n\n}\n\nexport default Amoeboi;\n","class QuadTree {\n  constructor({ x, y, width, height,level = 0 }) {\n    this.quadrants = [];\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.endX = this.x + this.width;\n    this.endY = this.y + this.height;\n    this.halfX = this.x +  Math.floor(this.width / 2);\n    this.halfY = this.y +  Math.floor(this.height / 2);\n    this.level = level;\n\n    this.dataPoints = [];\n  }\n\n  split = () => {\n    let halfWidth = Math.floor(this.width / 2);\n    let halfHeight = Math.floor(this.height / 2);\n    this.quadrants.push(new QuadTree({\n      x: this.x,\n      y: this.y,\n      width: halfWidth,\n      height: halfHeight,\n      level: this.level + 1,\n    }));\n    this.quadrants.push(new QuadTree({\n      x: this.x + halfWidth,\n      y: this.y,\n      width: halfWidth ,\n      height: halfHeight,\n      level: this.level + 1,\n    }));\n    this.quadrants.push(new QuadTree({\n      x: this.x,\n      y: this.y + halfHeight,\n      width: halfWidth,\n      height: halfHeight,\n      level: this.level + 1,\n    }));\n    this.quadrants.push(new QuadTree({\n      x: this.x + halfWidth,\n      y: this.y + halfHeight,\n      width: halfWidth,\n      height: halfHeight,\n      level: this.level + 1,\n    }));\n  };\n\n  clear = () => {\n    this.dataPoints = [];\n    for (let i = 0; i < this.quadrants.length; i++) {\n      this.quadrants[i].clear();\n      this.quadrants[i] = null;\n    }\n    if (this.level === 0) {\n      this.quadrants = [];\n    }\n  };\n\n  insert1 = (dataPoint) => {\n    let index = this.getIndex(dataPoint);\n    if (this.quadrants.length > 0 && index !== -1) {\n      return this.quadrants[index].insert1(dataPoint);\n    }\n\n    this.dataPoints.push(dataPoint);\n\n    if (this.quadrants.length === 0 && this.dataPoints.length > this.maxDataPoints) {\n      this.split();\n      let newDataPoints = [];\n      for (let i = 0; i < this.dataPoints.length; i++) {\n        index = this.getIndex(this.dataPoints[i]);\n        if (index !== -1) {\n          this.quadrants[index].insert1(this.dataPoints[i]);\n        } else {\n          newDataPoints.push(this.dataPoints[i]);\n        }\n      }\n      this.dataPoints = newDataPoints;\n    }\n  };\n\n  getIndex = (dataPoint) => {\n    if ((dataPoint.xpos - dataPoint.radius) > this.x && (dataPoint.xpos + dataPoint.radius) < this.halfX\n     && (dataPoint.ypos - dataPoint.radius) > this.y && (dataPoint.ypos + dataPoint.radius) < this.halfY) {\n       return 0;\n    } else if ((dataPoint.xpos - dataPoint.radius) > this.halfX && (dataPoint.xpos + dataPoint.radius) < this.endX\n     && (dataPoint.ypos - dataPoint.radius) > this.y && (dataPoint.ypos + dataPoint.radius) < this.halfY) {\n       return 1;\n    } else if ((dataPoint.xpos - dataPoint.radius) > this.x && (dataPoint.xpos + dataPoint.radius) < this.halfX\n     && (dataPoint.ypos - dataPoint.radius) > this.halfY && (dataPoint.ypos + dataPoint.radius) < this.endY) {\n       return 2;\n    } else if ((dataPoint.xpos - dataPoint.radius) > this.halfX && (dataPoint.xpos + dataPoint.radius) < this.endX\n     && (dataPoint.ypos - dataPoint.radius) > this.halfY && (dataPoint.ypos + dataPoint.radius) < this.endY) {\n       return 3;\n    } else {\n      return -1;\n    }\n  };\n\n  checkAllCollisions = (collisionCheck) => {\n    for (let i = 0, len = this.dataPoints.length; i < len; i++) {\n      for (let j = i + 1; j < len; j++) {\n        collisionCheck(this.dataPoints[i], this.dataPoints[j]);\n      }\n      for (let j = 0, quadrantsLen = this.quadrants.length; j < quadrantsLen; j++) {\n        this.quadrants[j].checkCollision(collisionCheck, this.dataPoints[i]);\n      }\n    }\n\n    for (let i = 0, quadrantsLen = this.quadrants.length; i <quadrantsLen; i++) {\n      this.quadrants[i].checkAllCollisions(collisionCheck);\n    }\n  };\n\n  checkCollision = (collisionCheck, dataPoint) => {\n    for (let i = 0, len = this.dataPoints.length; i < len; i++) {\n      collisionCheck(dataPoint, this.dataPoints[i]);\n    }\n\n    for (let i = 0,  quadrantsLen = this.quadrants.length; i < quadrantsLen; i++) {\n      this.quadrants[i].checkCollision(collisionCheck, dataPoint);\n    }\n  };\n\n}\n\nQuadTree.prototype.maxDataPoints = 10;\n\nexport default QuadTree;\n","class BoardVars {\n    constructor(opts) {\n        this.boardSize = opts.boardSize;\n        this.realBoardWidth = opts.realBoardWidth;\n        this.realBoardHeight = opts.realBoardHeight;\n        this.baseMass = opts.baseMass;\n        this.maxZoom = opts.maxZoom;\n        this.absoluteMaxZoom = opts.absoluteMaxZoom;\n        this.minZoom = opts.minZoom;\n        this.currentZoom = opts.currentZoom;\n        this.boardWidth = opts.boardWidth;\n        this.boardHeight = opts.boardHeight;\n        this.boardFocus = opts.boardFocus;\n    }\n}\n\nexport default BoardVars;","class TimeVars {\n    constructor(opts) {\n        this.timeBase = opts.timeBase;\n        this.timeCoefficient = opts.timeCoefficient;\n    }\n}\n\nexport default TimeVars;","class MouseVars {\n    constructor(opts) {\n        this.mouseDownTime = opts.mouseDownTime;\n        this.mouseDownInterval = opts.mouseDownInterval;\n        this.mouseOffset = opts.mouseOffset; // x and y for panning\n        this.mousePos = opts.mousePos;\n    }\n}\n\nexport default MouseVars;","import { boundNum, baseLog, collidesWith, aabbCheck, wallCollision } from './util';\nimport Amoeba from './amoeba.js';\nimport Amoeboi from './amoeboi.js';\nimport QuadTree from './quadtree.js';\nimport BoardVars from './board-vars';\nimport TimeVars from './time-vars';\nimport MouseVars from './mouse-vars';\n\nclass Game {\n  constructor(realBoardWidth = 20000, realBoardHeight = 20000, audio) {\n    this.audio = audio;\n    this.muted = false;\n\n    this.setupProportions(realBoardWidth, realBoardHeight);\n    this.setupTime();\n    this.setupMouse();\n\n    this.paused = false;\n    this.currentStatus = \"reset\";\n    this.shiftDown = false;\n    this.homepageAlpha = 0;\n    this.autoscaleTime = true;\n  }\n\n  setupMouse = () => {\n    this.mouseVars = new MouseVars({\n      mouseDownTime: null,\n      mouseDownInterval: null,\n      mouseOffset: { x: 0, y: 0 },\n      mousePos: { x: 0, y: 0 },\n    }) ;\n  };\n\n  setupTime = () => {\n    this.timeVars = new TimeVars({ timeBase: 10, timeCoefficient: 1 });\n  };\n\n  setupProportions = (realBoardWidth, realBoardHeight) => {\n\n    const maxZoom = parseInt(50 / Math.sqrt(100000 / Math.PI) * realBoardWidth / 1000);  //100000 is the starting mass for amoeboi\n    const absoluteMaxZoom = maxZoom;\n    const currentZoom = maxZoom;\n\n    this.boardVars = new BoardVars({\n      boardSize: realBoardWidth / 30000,\n      realBoardWidth,\n      realBoardHeight,\n      baseMass: 50000,\n      maxZoom,\n      absoluteMaxZoom,\n      minZoom: 0.7,\n      currentZoom,\n      boardWidth: realBoardWidth / currentZoom,\n      boardHeight: realBoardHeight / currentZoom,\n      boardFocus: { x: realBoardWidth / 2, y: realBoardHeight / 2},\n    });\n  };\n\n  addAmoebas = (num, massFunc, inertia) => {\n    for (let i = 0; i < num; i++) {\n      let mass = massFunc();\n      let radius = Math.sqrt(mass / (Math.PI));\n      let xpos = Math.floor(Math.random() * (this.boardVars.realBoardWidth - radius)) + radius;\n      let ypos = Math.floor(Math.random() * (this.boardVars.realBoardHeight - radius)) + radius;\n      let momentum = {x: Math.floor(Math.random() * inertia) - (inertia / 2), y: Math.floor(Math.random() * inertia) - (inertia / 2)};\n      let amoeba = new Amoeba({\n        x: xpos,\n        y: ypos,\n        mass,\n        momentum,\n        boardWidth: this.boardVars.realBoardWidth,\n        boardHeight: this.boardVars.realBoardHeight,\n      });\n      while (this.amoeboi && collidesWith(this.amoeboi, amoeba)) {\n        amoeba.xpos = Math.floor(Math.random() * (this.boardVars.realBoardWidth - radius)) + radius;\n        amoeba.ypos = Math.floor(Math.random() * (this.boardVars.realBoardHeight - radius)) + radius;\n      }\n      this.amoebas.push(amoeba);\n    }\n  };\n\n  setupAmoebas = (amoeboi) => {\n    this.amoebas = [];\n    this.amoeboi = !amoeboi ? null : new Amoeboi({ x: this.boardVars.realBoardWidth / 2,\n                                                   y: this.boardVars.realBoardHeight / 2,\n                                                   mass: 10000000,\n                                                   momentum: {x: 0, y: 0},\n                                                   boardWidth: this.boardVars.realBoardWidth,\n                                                   boardHeight: this.boardVars.realBoardHeight,\n                                                });\n    this.quadTree = new QuadTree({ x: 0, y: 0, width: this.boardVars.realBoardWidth, height: this.boardVars.realBoardHeight });\n    let mass, massFunc;\n\n    massFunc = () => {\n      mass = Math.pow(this.boardVars.realBoardHeight / 30 * Math.PI,2);\n      return Math.floor((Math.random() * mass * 4) + mass);\n    };\n    this.addAmoebas(parseInt(2 * this.boardVars.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 4000000 * Math.pow(this.boardVars.boardSize,2)) + (1000000 * Math.pow(this.boardVars.boardSize, 2)));\n    this.addAmoebas(parseInt(20 * this.boardVars.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 400000) + 100000);\n    this.addAmoebas(parseInt(700 * this.boardVars.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 400000) + 10000);\n    this.addAmoebas(parseInt(50 * this.boardVars.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 10000) + 10000);\n    this.addAmoebas(parseInt(10000 * this.boardVars.boardSize), massFunc, 100000);\n\n    for (let i = 0; i < this.amoebas.length; i++) {\n      this.quadTree.insert1(this.amoebas[i]);\n    }\n\n    if (amoeboi) {\n      this.amoeboi.mass /= 100;\n      this.amoeboi.adjustRadius();\n    }\n  };\n\n  animate = (canvas) => {\n    canvas.ctx.clearRect(0,0, innerWidth, innerHeight);\n    canvas.drawField(this.boardVars, this.mouseVars, this.quadTree);\n\n    if (this.currentStatus === \"reset\") {\n      this.boardVars.maxZoom = 4;\n      this.boardVars.currentZoom = 2;\n      this.timeVars.timeCoefficient = 0.5;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = 50000;\n\n      this.setupAmoebas(false);\n\n      this.boardVars.boardFocus = { x: this.boardVars.realBoardWidth / 2, y: this.boardVars.realBoardHeight / 2};\n      this.currentStatus = \"homepage\";\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"setup\") {\n      this.setupProportions(30000,30000); //this will undo any leveling\n      this.setupAmoebas(true);\n      canvas.homepageYOffset = 0;\n      this.boardVars.currentZoom = 4;\n      this.timeVars.timeCoefficient = 0.5;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.boardVars.boardFocus = {x: this.amoeboi.xpos, y: this.amoeboi.ypos};\n      this.currentStatus = \"playing\";\n      this.audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,this.timeVars.timeCoefficient)))) * 3.5);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"nextLevel\") {\n      canvas.homepageYOffset = 0;\n      this.boardVars.currentZoom = 4;\n      this.timeVars.timeCoefficient = 0.5;\n      this.setupProportions(\n        (this.boardVars.realBoardWidth * 1.2) + (500 - ((this.boardVars.realBoardWidth * 1.2) % 500)),\n        (this.boardVars.realBoardHeight * 1.2) + (500 - ((this.boardVars.realBoardHeight * 1.2) % 500)));\n      this.setupAmoebas(true);\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.boardVars.boardFocus = {x: this.amoeboi.xpos, y: this.amoeboi.ypos};\n      this.currentStatus = \"playing\";\n      this.audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10, this.timeVars.timeCoefficient)))) * 3.5);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"homepage\") {\n      this.moveAmoebas(canvas);\n      canvas.makeHomepage(this.mouseVars, this.muted);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"movingToInstructions\") {\n      if (canvas.homepageYOffset > -1000) {\n        canvas.homepageYOffset -= 50;\n      } else {\n        this.currentStatus = \"instructions\";\n      }\n      this.moveAmoebas(canvas);\n      canvas.makeHomepage(this.mouseVars, this.muted);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"instructions\") {\n      this.moveAmoebas(canvas);\n      canvas.makeHomepage(this.mouseVars, this.muted);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"movingToHomePage\") {\n      if (canvas.homepageYOffset < 0) {\n        canvas.homepageYOffset += 50;\n      } else {\n        this.currentStatus = \"homepage\";\n      }\n      this.moveAmoebas(canvas);\n      canvas.makeHomepage(this.mouseVars, this.muted);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"coloringLoseScreen\") {\n      this.boardVars.boardFocus.x += (this.boardVars.boardFocus.x < this.boardVars.realBoardWidth / 2) ? 10 : -10;\n      this.boardVars.boardFocus.y += (this.boardVars.boardFocus.y < this.boardVars.realBoardHeight / 2) ? 10 : -10;\n      this.boardVars.currentZoom = this.boardVars.currentZoom > 1 ? this.boardVars.currentZoom * 0.9 : this.boardVars.currentZoom;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = 0;\n      this.moveAmoebas(canvas);\n      if (this.homepageAlpha < 0.5) {\n        this.homepageAlpha += .1;\n      } else {\n        canvas.ctx.globalAlpha = this.homepageAlpha;\n        canvas.ctx.fillStyle = 'black';\n        canvas.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n        canvas.homepageYOffset = 1500;\n        this.homepageAlpha = 0;\n        this.currentStatus = \"movingToLoseScreen\";\n        return requestAnimationFrame(() => this.animate(canvas));\n      }\n      canvas.ctx.globalAlpha = this.homepageAlpha;\n      canvas.ctx.fillStyle = 'black';\n      canvas.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"movingToLoseScreen\") {\n      if (canvas.homepageYOffset > 1000) {\n        canvas.homepageYOffset -= 50;\n      } else {\n        this.currentStatus = \"losescreen\";\n      }\n      this.moveAmoebas(canvas);\n      canvas.makeHomepage(this.mouseVars, this.muted);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"losescreen\") {\n      this.moveAmoebas(canvas);\n      canvas.makeHomepage(this.mouseVars, this.muted);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"losescreenToHomePage\") {\n      if (canvas.homepageYOffset > 0) {\n        canvas.homepageYOffset -= 50;\n      } else {\n        this.currentStatus = \"homepage\";\n      }\n      this.moveAmoebas(canvas);\n      canvas.makeHomepage(this.mouseVars, this.muted);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.paused) {\n      this.amoebas.forEach(amoeba => {\n        canvas.drawAmoeba(amoeba, this.boardVars, this.mouseVars);\n      });\n      canvas.drawAmoeboi(this.amoeboi, this.boardVars, this.mouseVars);\n\n      canvas.makePause(this.mouseVars.mousePos.x, this.mouseVars.mousePos.y);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"playing\" && this.checkWin()) {\n      this.currentStatus = \"coloringWinScreen\";\n    }\n\n    if (this.currentStatus === \"coloringWinScreen\") {\n      this.boardVars.boardFocus.x += (this.boardVars.boardFocus.x < this.boardVars.realBoardWidth / 2) ? 10 : -10;\n      this.boardVars.boardFocus.y += (this.boardVars.boardFocus.y < this.boardVars.realBoardHeight / 2) ? 10 : -10;\n      this.boardVars.currentZoom = this.boardVars.currentZoom > 1 ? this.boardVars.currentZoom * 0.9 : this.boardVars.currentZoom;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.moveAmoebas(canvas);\n      if (this.homepageAlpha < 0.5) {\n        this.homepageAlpha += .1;\n      } else {\n        canvas.ctx.globalAlpha = this.homepageAlpha;\n        canvas.ctx.fillStyle = 'black';\n        canvas.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n        canvas.homepageYOffset = 1500;\n        this.homepageAlpha = 0;\n        this.currentStatus = \"movingToWinScreen\";\n        return requestAnimationFrame(() => this.animate(canvas));\n      }\n      canvas.ctx.globalAlpha = this.homepageAlpha;\n      canvas.ctx.fillStyle = 'black';\n      canvas.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"movingToWinScreen\") {\n      if (canvas.homepageYOffset > 1000) {\n        canvas.homepageYOffset -= 50;\n      } else {\n        this.currentStatus = \"winScreen\";\n      }\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.moveAmoebas(canvas);\n      canvas.makeWinScreen(this.mouseVars);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    if (this.currentStatus === \"winScreen\") {\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.moveAmoebas(canvas);\n      canvas.makeWinScreen(this.mouseVars);\n      return requestAnimationFrame(() => this.animate(canvas));\n    }\n\n    this.moveAmoebas(canvas);\n\n    canvas.makeMargins(this.timeVars);\n    canvas.makeMassDisplay(this.amoeboi);\n    canvas.makeInstructions(this.muted, this.autoscaleTime);\n    if (this.autoscaleTime) {\n      let largest = this.amoebas[0];\n      this.amoebas.forEach(a => {largest = largest.radius < a.radius ? a : largest;});\n      this.timeVars.timeCoefficient = (this.amoeboi.radius / largest.radius) * this.timeVars.timeBase * .75;\n    }\n    // canvas.makeClock(this.timeVars);\n    if (this.amoeboi.mass > 0) {\n      this.boardVars.boardFocus = {x: this.amoeboi.xpos, y: this.amoeboi.ypos};\n      this.boardVars.baseMass = this.amoeboi.mass;\n      if (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000 * this.boardVars.currentZoom > 75) {\n        this.boardVars.maxZoom = boundNum(75 / (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000), 1, this.boardVars.absoluteMaxZoom);\n        this.boardVars.currentZoom = boundNum(this.boardVars.currentZoom * 0.9999999, this.boardVars.minZoom, this.boardVars.maxZoom);\n        this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n        this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      }\n      if (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000 * this.boardVars.maxZoom < 75) {\n        this.boardVars.maxZoom = boundNum(75 / (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000), 1, this.boardVars.absoluteMaxZoom);\n      }\n    } else {\n      this.currentStatus = \"coloringLoseScreen\";\n    }\n    requestAnimationFrame(() => this.animate(canvas));\n  };\n\n  moveAmoebas = (canvas) => {\n    this.amoebas = this.amoebas.filter(amoeba => {\n      return amoeba.mass > 0;\n    });\n    this.quadTree.clear();\n    for (let i = 0; i < this.amoebas.length; i++) {\n      this.quadTree.insert1(this.amoebas[i]);\n    }\n    canvas.ctx.globalAlpha = 0.8;\n    this.amoebas.forEach(amoeba => {\n      amoeba.move(this.timeVars.timeCoefficient);\n      canvas.drawAmoeba(amoeba, this.boardVars, this.mouseVars);\n    });\n    this.amoeboi ? this.amoeboi.move(this.timeVars.timeCoefficient) : null;\n    this.amoeboi ? canvas.drawAmoeboi(this.amoeboi, this.boardVars, this.mouseVars) : null;\n    canvas.ctx.globalAlpha = 1;\n    this.quadTree.checkAllCollisions(aabbCheck(this.timeVars.timeCoefficient));\n    this.amoebas.forEach(amoeba => {\n      this.amoeboi ? aabbCheck(this.timeVars.timeCoefficient)(this.amoeboi, amoeba) : null;\n      this.amoeboi ? aabbCheck(this.timeVars.timeCoefficient)(amoeba, this.amoeboi) : null;\n      wallCollision(amoeba, this.boardVars);\n    });\n    this.amoeboi ? wallCollision(this.amoeboi, this.boardVars) : null;\n  };\n\n  checkWin = () => {\n    for (let i = 0, num = this.amoebas.length; i < num; i++) {\n      if (this.amoeboi.mass < this.amoebas[i].mass) {\n        return false;\n      }\n    }\n    return true;\n  };\n}\n\n\nexport default Game;\n","export const boardYRelativeToFocus = ({ boardFocusY, boardHeight, innerHeight, mouseOffsetY }) => {\n    return (y) => {\n        return (((y - boardFocusY)  / (boardHeight / 2)) * 500)\n            + (innerHeight / 2) + mouseOffsetY;\n    }\n};\n\nexport const boardXRelativeToFocus = ({ boardFocusX, boardWidth, innerWidth, mouseOffsetX }) => {\n    return (x) => {\n        return (((x - boardFocusX)  / (boardWidth / 2)) * 500)\n            + (innerWidth / 2) + mouseOffsetX;\n    }\n};","import { boardYRelativeToFocus, boardXRelativeToFocus } from './util';\nimport { baseLog, boundNum } from '../util';\n\nclass Canvas {\n    constructor(canvasId) {\n        this.element = document.getElementById(canvasId);\n        this.ctx = this.element.getContext(\"2d\");\n        this.homepageYOffset = 0;\n        this.clockAngle = 0;\n        this.showInstructions = true;\n        this.homepageTime = null;\n        this.setupImages();\n    }\n\n    buildAndColorAmoeba = (amoeba, boardVars, mouseVars, colorize) => {\n        if (amoeba.mass <= 0) {\n            return;\n        }\n        if (isNaN(amoeba.xpos) || isNaN(amoeba.ypos) ){\n            // DEBUG: somehow these get turned into NaN when absorbed completely by another amoeba\n            amoeba.mass = 0;\n            return;\n        }\n\n        amoeba.adjustRadius();\n\n        const relativeY = boardYRelativeToFocus({\n            boardFocusY: boardVars.boardFocus.y,\n            boardHeight: boardVars.boardHeight,\n            innerHeight: window.innerHeight,\n            mouseOffsetY: mouseVars.mouseOffset.y,\n        })(amoeba.ypos);\n        const relativeX = boardXRelativeToFocus({\n            boardFocusX: boardVars.boardFocus.x,\n            boardWidth: boardVars.boardWidth,\n            innerWidth: window.innerWidth,\n            mouseOffsetX: mouseVars.mouseOffset.x,\n        })(amoeba.xpos);\n\n        let relativeRadius = amoeba.radius / boardVars.realBoardWidth * 1000 * boardVars.currentZoom;\n\n        //radius cannot be kept proportional to window.innerWidth, it will throw off their size on screen\n\n        let gradient = colorize(amoeba, relativeX, relativeY, relativeRadius, boardVars.baseMass);\n\n        this.ctx.beginPath();\n        this.ctx.arc(relativeX, relativeY, relativeRadius, 0, Math.PI * 2);\n        this.ctx.fillStyle = gradient;\n        this.ctx.fill();\n    };\n\n    drawAmoeboi = (amoeboi, boardVars, mouseVars) => {\n        this.buildAndColorAmoeba(amoeboi, boardVars, mouseVars, this.colorizeAmoeboi);\n    };\n\n    drawAmoeba = (amoeboi, boardVars, mouseVars) => {\n        this.buildAndColorAmoeba(amoeboi, boardVars, mouseVars, this.colorizeAmoeba);\n    };\n\n    colorizeAmoeba = (amoeba, relativeX, relativeY, relativeRadius, baseMass) => {\n        if (amoeba.mass <= 0) {\n            return;\n        }\n\n        let gradient = this.ctx.createRadialGradient(relativeX, relativeY, relativeRadius, relativeX, relativeY, 0);\n        if (amoeba.mass < baseMass) {\n            gradient.addColorStop(0, `rgb(${20}, ${20}, ${255})`);\n            gradient.addColorStop(boundNum(1 - (amoeba.mass / baseMass),0, 1) , `rgb(${50}, ${20}, ${200})`);\n            gradient.addColorStop(1 , `rgb(${255}, ${20}, ${20})`);\n        } else {\n            gradient.addColorStop(0, `rgb(${255}, ${20}, ${20})`);\n            gradient.addColorStop(boundNum(1 -(baseMass / amoeba.mass), 0, 1) , `rgb(${200}, ${20}, ${50})` );\n            gradient.addColorStop(1 , `rgb(${20}, ${20}, ${255})`);\n        }\n        return gradient;\n    };\n\n    colorizeAmoeboi = (amoeboi, relativeX, relativeY, relativeRadius) => {\n        if (amoeboi.mass <= 0) {\n            return;\n        }\n        let gradient = this.ctx.createRadialGradient(relativeX, relativeY,relativeRadius, relativeX, relativeY, 0);\n        gradient.addColorStop(0, `rgb(${0}, ${255}, ${0})`);\n        gradient.addColorStop(1, `rgb(${0}, ${150}, ${0})`);\n        return gradient;\n    };\n\n    makePause = (mousePosX, mousePosY) => {\n        this.ctx.globalAlpha = 0.5;\n        this.ctx.fillStyle = 'black';\n        this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n        let mouseOffsetX = mousePosX / window.innerWidth * 50;\n        let mouseOffsetY = mousePosY / window.innerHeight * 50;\n\n        this.ctx.globalAlpha = 1;\n        this.ctx.fillStyle = 'white';\n        this.ctx.font = '70px Impact';\n        let titlePosX = (window.innerWidth / 2) - 75 - mouseOffsetX;\n        let titlePosY = (window.innerHeight / 2) + 50 - mouseOffsetY + this.homepageYOffset;\n        this.ctx.fillText(`PAUSED`, titlePosX, titlePosY);\n    };\n\n    makeClock = (timeVars) => {\n        this.ctx.globalAlpha = 0.7;\n\n        this.ctx.beginPath();\n        this.ctx.arc(120, 120, 65, 0, ((baseLog(timeVars.timeBase, timeVars.timeCoefficient) + 1) / 2 * Math.PI * 2));\n        this.ctx.strokeStyle = 'orange';\n        this.ctx.lineWidth = 5;\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.arc(120, 120, 60, 0, Math.PI * 2);\n        this.ctx.strokeStyle = 'black';\n        this.ctx.lineWidth = 3;\n        this.ctx.stroke();\n        this.ctx.globalAlpha = 0.8;\n        this.ctx.fillStyle = 'white';\n        this.ctx.fill();\n\n        this.ctx.beginPath();\n        this.ctx.moveTo(120,120);\n        this.ctx.lineTo(120 + (60*Math.cos(this.clockAngle * Math.PI / 180)), 120 + (60*Math.sin(this.clockAngle * Math.PI / 180)));\n        this.ctx.fillStyle = 'black';\n        this.ctx.stroke();\n        this.clockAngle = (this.clockAngle + (timeVars.timeCoefficient)) % 360;\n        this.ctx.globalAlpha = 1;\n    };\n\n    drawField = (boardVars, mouseVars, quadtree) => {\n        const relY = boardYRelativeToFocus({\n            boardFocusY: boardVars.boardFocus.y,\n            boardHeight: boardVars.boardHeight,\n            innerHeight: window.innerHeight,\n            mouseOffsetY: mouseVars.mouseOffset.y,\n        });\n        const relX = boardXRelativeToFocus({\n            boardFocusX: boardVars.boardFocus.x,\n            boardWidth: boardVars.boardWidth,\n            innerWidth: window.innerWidth,\n            mouseOffsetX: mouseVars.mouseOffset.x,\n        });\n        this.drawBorders(relX, relY, boardVars.realBoardWidth, boardVars.realBoardHeight);\n        this.drawGrid(relX, relY, boardVars.realBoardWidth, boardVars.realBoardHeight);\n        // this.drawQuadtree(relX, relY, quadtree);\n    };\n\n    drawGrid = (relX, relY, realBoardWidth, realBoardHeight) => {\n        this.ctx.globalAlpha = 0.4;\n        this.ctx.fillStyle = 'black';\n\n        const interval = 500;\n        let x = interval;\n        const topBorderY = relY(0);\n        const bottomBorderY =  relY(realBoardHeight);\n        while (x < realBoardWidth) {\n            this.ctx.fillRect(relX(x), topBorderY, 2, bottomBorderY - topBorderY);\n            x += interval;\n        }\n\n        let y = interval;\n        const leftBorderX = relX(0);\n        const rightBorderX = relX(realBoardWidth);\n        while (y < realBoardHeight) {\n            this.ctx.fillRect(leftBorderX, relY(y), rightBorderX - leftBorderX, 2);\n            y += interval;\n        }\n\n        this.ctx.globalAlpha = 1;\n    };\n\n    drawBorders = (relX, relY, realBoardWidth, realBoardHeight) => {\n        this.ctx.globalAlpha = 0.4;\n        this.ctx.fillStyle = 'red';\n\n        const topBorderY = relY(0);\n        const bottomBorderY =  relY(realBoardHeight);\n        this.ctx.fillRect(relX(0), topBorderY, 2, bottomBorderY - topBorderY);\n        this.ctx.fillRect(relX(realBoardWidth), topBorderY, 2, bottomBorderY - topBorderY);\n\n        const leftBorderX = relX(0);\n        const rightBorderX = relX(realBoardWidth);\n        this.ctx.fillRect(leftBorderX, relY(0), rightBorderX - leftBorderX, 2);\n        this.ctx.fillRect(leftBorderX, relY(realBoardHeight), rightBorderX - leftBorderX, 2);\n\n        this.ctx.globalAlpha = 1;\n    };\n\n    drawQuadtree = (relX, relY, quadtree) => {\n        if (!quadtree || !quadtree.quadrants.length) return;\n        this.ctx.globalAlpha = 0.4;\n        this.ctx.strokeStyle = 'black';\n\n        const relativeX = relX(quadtree.x);\n        const relativeY = relY(quadtree.y);\n        const relativeEndX = relX(quadtree.endX);\n        const relativeEndY = relY(quadtree.endY);\n        const relativeHalfX = relX(quadtree.halfX);\n        const relativeHalfY = relY(quadtree.halfY);\n        this.ctx.beginPath();\n        this.ctx.moveTo(relativeX, relativeHalfY);\n        this.ctx.lineTo(relativeEndX, relativeHalfY);\n        this.ctx.closePath();\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.moveTo(relativeHalfX, relativeY);\n        this.ctx.lineTo(relativeHalfX, relativeEndY);\n        this.ctx.closePath();\n        this.ctx.stroke();\n\n        quadtree.quadrants.forEach(subQuadtree => {\n           this.drawQuadtree(relX, relY, subQuadtree);\n        });\n\n        this.ctx.globalAlpha = 1;\n    };\n\n    makeMassDisplay = (amoeboi) => {\n        this.ctx.globalAlpha = 0.7;\n        this.ctx.fillStyle = 'black';\n        let displayWidth;\n        if (amoeboi.mass > 0) {\n            displayWidth = 130 + (15 * boundNum(Math.floor(Math.log10(amoeboi.mass / 100),1, 10000)));\n        } else {\n            displayWidth = 145;\n        }\n        this.ctx.fillRect(window.innerWidth - 220, 65, displayWidth, 50);\n        this.ctx.globalAlpha = 1;\n        this.ctx.fillStyle = 'white';\n        this.ctx.font = '30px Impact';\n        this.ctx.fillText(`Mass: ${Math.floor(amoeboi.mass / 100) }`, window.innerWidth - 200, 100);\n    };\n\n    makeInstructions = (muted, autoscaleTime) => {\n        this.ctx.globalAlpha = 0.7;\n        this.ctx.fillStyle = 'black';\n        if (!this.showInstructions) {\n            this.ctx.fillRect(50, 65, 340, 50);\n            this.ctx.globalAlpha = 1;\n            this.ctx.fillStyle = 'white';\n            this.ctx.font = '20px Arial Black';\n            this.ctx.fillText(`PRESS I FOR INSTRUCTIONS`, 60, 100);\n            return;\n        }\n        this.ctx.globalAlpha = 0.7;\n        this.ctx.fillStyle = 'black';\n        this.ctx.fillRect(50, 65, 365, 320);\n        this.ctx.globalAlpha = 1;\n        this.ctx.fillStyle = 'white';\n        this.ctx.font = '20px Arial Black';\n        this.ctx.fillText(`SPACE   :  Pause`, 60, 95);\n        this.ctx.fillText(` SHIFT   :  Look Around`, 61, 135);\n        this.ctx.fillText(`SCROLL :  Zoom In/Out`, 60, 170);\n        this.ctx.fillText(`     H      :  Main Menu`, 65, 215);\n        this.ctx.fillText(`     R      :  Restart`, 65, 255);\n        this.ctx.fillText(`     I       :  Toggle Instructions`, 67, 295);\n        this.ctx.fillText(`     M      :  Toggle Volume (${muted ? \"OFF\" : \"ON\"})`, 63, 335);\n        this.ctx.fillText(`     A      :  Autoscale Time (${autoscaleTime ? \"ON\" : \"OFF\"})`, 63, 375);\n    };\n\n    makeMargins = (timeVars) => {\n        this.ctx.globalAlpha = 0.7;\n        this.ctx.fillStyle = \"black\";\n        let marginHeight = Math.floor(window.innerHeight / 8);\n\n\n        let timebarWidth = 500;\n        let timebarHeight = 50;\n        let timebarX = (window.innerWidth / 2) - (timebarWidth / 2);\n        let timebarY = window.innerHeight - (marginHeight / 2) - (timebarHeight / 2);\n        let time0to1 = (baseLog(timeVars.timeBase, timeVars.timeCoefficient) + 1) / 2;\n\n        this.ctx.fillStyle = `black`;\n        this.ctx.fillRect(timebarX - 10, timebarY, timebarWidth + 20, timebarHeight);\n        this.ctx.fillStyle = `white`;\n        this.ctx.fillRect(timebarX + (timebarWidth * time0to1) - 10, timebarY, 20, timebarHeight);\n        this.ctx.globalAlpha = 1;\n    };\n\n    makeWinScreen = (mouseVars) => {\n        this.ctx.globalAlpha = 0.5;\n        this.ctx.fillStyle = 'black';\n        this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n        let mouseOffsetX = mouseVars.mousePos.x / window.innerWidth * 50;\n        let mouseOffsetY = mouseVars.mousePos.y / window.innerHeight * 50;\n        let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n        let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + this.homepageYOffset;\n        this.ctx.globalAlpha = 1;\n        this.ctx.fillStyle = 'white';\n        this.ctx.font = '70px Impact';\n        this.ctx.fillText(`YOU'VE WON`, titlePosX + 55, titlePosY - 920);\n        this.ctx.font = '40px Impact';\n        this.ctx.fillText(`Press C to continue`, titlePosX + 65, titlePosY - 840);\n    };\n\n    setupImages = () => {\n        this.iconImages = {};\n        let fileNames = ['githubLogo', 'linkedInLogo', 'folderIcon', 'volume','volumeReverse','mute', 'muteReverse'];\n        fileNames.forEach(fileName => this.setupImage(fileName));\n    };\n\n    setupImage = (fileName) => {\n        this.iconImages[fileName] = new Image();\n        this.iconImages[fileName].src = `../assets/images/${fileName}.png`;\n    };\n\n    makeHomepage = (mouseVars, muted) =>{\n        this.ctx.globalAlpha = 0.5;\n        this.ctx.fillStyle = 'black';\n        this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n        let mouseOffsetX = mouseVars.mousePos.x / window.innerWidth * 50;\n        let mouseOffsetY = mouseVars.mousePos.y / window.innerHeight * 50;\n\n        let homepageWave = Math.sin(((Date.now() - this.homepageTime) % 1500) / 1500 * Math.PI);\n\n        this.ctx.globalAlpha = 1;\n        this.ctx.fillStyle = 'white';\n        this.ctx.font = '120px Impact';\n        let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n        let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + this.homepageYOffset;\n        this.ctx.fillText(`AmoeBoi`, titlePosX, titlePosY);\n\n        this.ctx.globalAlpha = 0.7;\n        this.ctx.fillStyle = \"rgb(0,0,50)\";\n        this.ctx.fillRect(titlePosX - 300, titlePosY + 885, 1050, 530);\n        this.ctx.globalAlpha = 1;\n\n\n        this.ctx.fillStyle = \"rgb(240,240,240)\";\n        this.ctx.font = `${30 + (2 * homepageWave) }px Impact`;\n        this.ctx.fillText(`PRESS ENTER TO START`, titlePosX + 85 - (5 * homepageWave), titlePosY + 100 + (2 * homepageWave));\n\n        this.ctx.font = '50px Impact';\n        this.ctx.fillText(`⬇ INSTRUCTIONS ⬇`, titlePosX + 15, titlePosY + 360);\n\n        this.ctx.fillText(`⬆ MAIN MENU ⬆`, titlePosX + 50, titlePosY + 850);\n\n        this.ctx.font = '25px Arial Black';\n        this.ctx.fillText(\"Become the Biggest!\", titlePosX + 80, titlePosY + 930);\n\n        this.ctx.fillText(\"Absorb smaller amoebas, avoid the bigger ones,\", titlePosX - 105, titlePosY + 1000);\n        this.ctx.fillText(\"and become the biggest blob in the land.\", titlePosX - 55, titlePosY + 1030);\n\n        this.ctx.fillText(\"Aim and hold the left mouse button to shoot out smaller amoebas\", titlePosX - 222.5, titlePosY + 1100);\n        this.ctx.fillText(\"and propel yourself the other way... but be careful!\", titlePosX - 120, titlePosY + 1130);\n        this.ctx.fillText(\"Every shot uses a little bit of your own mass.\", titlePosX - 80, titlePosY + 1160);\n\n        this.ctx.fillText(\"You can speed up or slow down time using the left/right arrow keys.\", titlePosX - 240, titlePosY + 1230);\n\n        this.ctx.fillText(\"Press space to pause the game\", titlePosX + 10, titlePosY + 1300);\n        this.ctx.fillText(\"and press H to return to the Main Menu at any time.\", titlePosX - 130, titlePosY + 1330);\n\n        this.ctx.fillText(\"PRESS ENTER TO START\", titlePosX + 50 , titlePosY + 1400);\n\n        this.ctx.drawImage(this.iconImages.githubLogo, titlePosX - 50, titlePosY + 170, 80, 80);\n        this.ctx.drawImage(this.iconImages.linkedInLogo, titlePosX + 180, titlePosY + 170, 72, 72);\n        this.ctx.drawImage(this.iconImages.folderIcon, titlePosX + 380, titlePosY + 170, 88, 88);\n        this.ctx.drawImage(muted ? this.iconImages.mute : this.iconImages.volume, titlePosX - 5,\n            titlePosY + (muted ? 60 : 65), 50, 50);\n        this.ctx.drawImage(muted ? this.iconImages.muteReverse : this.iconImages.volumeReverse, titlePosX + 400,\n            titlePosY + (muted ? 60 : 65), 50, 50);\n\n        this.ctx.fillStyle = 'white';\n        this.ctx.font = '70px Impact';\n        this.ctx.fillText(`YOU'VE LOST`, titlePosX + 55, titlePosY - 920);\n        this.ctx.font = '40px Impact';\n        this.ctx.fillText(`Press R to play again`, titlePosX + 50, titlePosY - 840);\n        this.ctx.fillText(`Press H to return to Main Menu`, titlePosX - 27.5, titlePosY - 760);\n    };\n};\n\nexport default Canvas;","import Game from './game';\nimport Canvas from './canvas/canvas';\nimport { boundNum, baseLog } from './util';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = new Canvas('background');\n  canvas.element.width = window.innerWidth;\n  canvas.element.height = window.innerHeight;\n\n\n  let audio = document.getElementById(\"audio\");\n  let game = new Game(30000, 30000, audio);\n\n  audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,game.timeVars.timeCoefficient)))) * 3.5);\n  audio.volume = 0.5;\n\n\n  window.onresize = ()=>{\n    canvas.element.width = window.innerWidth;\n    canvas.element.height = window.innerHeight;\n  };\n\n  window.addEventListener(\"click\", (e) => {\n    if (game.currentStatus === \"homepage\") {\n      let mouseOffsetX = game.mouseVars.mousePos.x / window.innerWidth * 50;\n      let mouseOffsetY = game.mouseVars.mousePos.y / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + canvas.homepageYOffset;\n      if (e.pageX > titlePosX - 40 && e.pageX < titlePosX + 40\n       && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 250) {\n         window.location = \"https://github.com/1stepremoved\";\n      } else if (e.pageX > titlePosX + 180 && e.pageX < titlePosX + 252\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 242) {\n        window.location = \"https://linkedin.com/in/hamilton-sands\";\n      } else if (e.pageX > titlePosX + 380 && e.pageX < titlePosX + 468\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 258) {\n        window.location = \"https://1stepremoved.github.io/portfolio/\";\n      } else if (e.pageX > titlePosX + 75 && e.pageX < titlePosX + 365\n        && e.pageY > titlePosY + 315 && e.pageY < titlePosY + 360) {\n          game.currentStatus = \"movingToInstructions\";\n          document.body.style.cursor = \"default\";\n      } else if (e.pageX > titlePosX -5 && e.pageX < titlePosX + 45\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          if (audio.volume === 0) {\n            audio.volume = 0.5;\n            game.muted = false;\n          } else {\n            audio.volume = 0;\n            game.muted = true;\n          }\n      } else if (e.pageX > titlePosX + 400 && e.pageX < titlePosX + 450\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          if (audio.volume === 0) {\n            audio.volume = 0.5;\n            game.muted = false;\n          } else {\n            audio.volume = 0;\n            game.muted = true;\n          }\n        }\n    } else if (game.currentStatus === \"instructions\") {\n      let mouseOffsetX = game.mouseVars.mousePos.x / window.innerWidth * 50;\n      let mouseOffsetY = game.mouseVars.mousePos.y / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + canvas.homepageYOffset;\n      if (e.pageX > titlePosX + 110 && e.pageX < titlePosX + 335\n       && e.pageY > titlePosY + 805 && e.pageY < titlePosY + 850) {\n         game.currentStatus = \"movingToHomePage\";\n         document.body.style.cursor = \"default\";\n      }\n    }\n  });\n\n  window.addEventListener(\"touchstart\", (e) => {\n    if (game.currentStatus === \"playing\") {\n      clearInterval(game.mouseVars.mouseDownInterval);\n      if (game.paused || e.button === 2 || game.currentStatus !== \"playing\") {\n        return;\n      }\n      game.mouseVars.mouseDownTime = Date.now();\n      game.mouseVars.mousePos.x = e.touches[0].pageX;\n      game.mouseVars.mousePos.y = e.touches[0].pageY;\n      game.amoeboi.propel(e, game.amoebas, game.boardVars, game.mouseVars);\n      game.mouseVars.mouseDownInterval = setInterval(() => {\n        game.amoeboi.propel(e, game.amoebas, game.boardVars, game.mouseVars);\n      }, 200);\n    }\n  });\n\n  window.addEventListener(\"touchmove\", (e) => {\n    if (game.currentStatus === \"playing\") {\n      game.mouseVars.mousePos.x = e.touches[0].pageX;\n      game.mouseVars.mousePos.y = e.touches[0].pageY;\n    }\n  });\n\n  window.addEventListener(\"touchend\", (e) => {\n    if (e.touches.length > 1) {\n      return;\n    }\n    if (game.currentStatus === \"homepage\") {\n      game.currentStatus = \"setup\";\n      canvas.homepageYOffset = 0;\n    } else if (game.currentStatus === \"losescreen\") {\n      document.body.style.cursor = \"default\";\n      game.currentStatus = \"losescreenToHomePage\";\n    } else if (game.currentStatus === \"winScreen\") {\n      game.currentStatus = \"nextLevel\";\n    } else if (game.currentStatus === \"playing\") {\n      game.mouseVars.mouseDownTime = null;\n      clearInterval(game.mouseVars.mouseDownInterval);\n    }\n  });\n\n  window.addEventListener(\"mousedown\", (e) => {\n    clearInterval(game.mouseVars.mouseDownInterval);\n    if (game.paused || e.button === 2 || game.currentStatus !== \"playing\") {\n      return;\n    }\n    game.mouseVars.mouseDownTime = Date.now();\n    game.mouseVars.mousePos.x = e.pageX;\n    game.mouseVars.mousePos.y = e.pageY;\n    game.amoeboi.propel(e, game.amoebas, game.boardVars, game.mouseVars);\n    game.mouseVars.mouseDownInterval = setInterval(() => {\n      game.amoeboi.propel(e, game.amoebas, game.boardVars, game.mouseVars);\n    }, 200);\n  });\n\n  window.addEventListener(\"mousemove\", (e) => {\n    if (game.currentStatus === \"homepage\") {\n      let mouseOffsetX = game.mouseVars.mousePos.x / window.innerWidth * 50;\n      let mouseOffsetY = game.mouseVars.mousePos.y / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + canvas.homepageYOffset;\n      if (e.pageX > titlePosX - 40 && e.pageX < titlePosX + 40\n       && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 250) {\n        document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 180 && e.pageX < titlePosX + 252\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 242) {\n        document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 380 && e.pageX < titlePosX + 468\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 258) {\n        document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 75 && e.pageX < titlePosX + 365\n        && e.pageY > titlePosY + 315 && e.pageY < titlePosY + 360) {\n          document.body.style.cursor = \"pointer\";\n      }else if (e.pageX > titlePosX -5 && e.pageX < titlePosX + 45\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 400 && e.pageX < titlePosX + 450\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          document.body.style.cursor = \"pointer\";\n      } else {\n        document.body.style.cursor = \"default\";\n      }\n      if (window.innerHeight - e.pageY < 30) {\n        game.currentStatus = \"movingToInstructions\";\n      }\n    } else if (game.currentStatus === \"instructions\") {\n      let mouseOffsetX = game.mouseVars.mousePos.x / window.innerWidth * 50;\n      let mouseOffsetY = game.mouseVars.mousePos.y / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + canvas.homepageYOffset;\n\n      if (e.pageX > titlePosX + 110 && e.pageX < titlePosX + 335\n          && e.pageY > titlePosY + 805 && e.pageY < titlePosY + 850) {\n        document.body.style.cursor = \"pointer\";\n      } else {\n        document.body.style.cursor = \"default\";\n      }\n      if (e.pageY < 30) {\n        game.currentStatus = \"movingToHomePage\";\n      }\n    } else if (game.currentStatus === \"playing\" && game.shiftDown) {\n      game.mouseVars.mouseOffset.x = ((window.innerWidth / 2) - e.pageX) / 2;\n      game.mouseVars.mouseOffset.y = ((window.innerHeight / 2) - e.pageY) / 2;\n    }\n\n    game.mouseVars.mousePos.x = e.pageX;\n    game.mouseVars.mousePos.y = e.pageY;\n    if (game.mouseVars.mouseDownTime) {\n      game.mouseVars.mousePos.x = e.pageX;\n      game.mouseVars.mousePos.y = e.pageY;\n    }\n  });\n\n  window.addEventListener(\"mouseup\", (e) => {\n    game.mouseVars.mouseDownTime = null;\n    clearInterval(game.mouseVars.mouseDownInterval);\n  });\n\n  window.addEventListener(\"keydown\", (e) => {\n    let rate;\n    switch (e.keyCode) {\n      case 39:\n        if (game.paused || game.currentStatus !== \"playing\" || game.autoscaleTime) { return; }\n        game.timeVars.timeCoefficient = Math.min(game.timeVars.timeCoefficient * 1.1, game.timeVars.timeBase);\n        audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,game.timeVars.timeCoefficient)))) * 3.5);\n        return;\n      case 37:\n        if (game.paused || game.currentStatus !== \"playing\" || game.autoscaleTime) { return; }\n        game.timeVars.timeCoefficient = Math.max(game.timeVars.timeCoefficient * 0.9, Math.pow(game.timeVars.timeBase, - 1));\n        audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,game.timeVars.timeCoefficient)))) * 3.5);\n        return;\n      case 65:\n        if (game.paused || game.currentStatus !== \"playing\") { return; }\n        game.autoscaleTime = !game.autoscaleTime;\n        return;\n      case 32:\n        if (game.currentStatus !== \"playing\") { return; }\n        game.paused = !game.paused;\n        game.mouseVars.mouseDownTime = null;\n        return;\n      case 72:\n        if (game.currentStatus === \"instructions\") {\n          document.body.style.cursor = \"default\";\n          game.currentStatus = \"movingToHomePage\";\n          return;\n        } else if (game.currentStatus === \"losescreen\"){\n          document.body.style.cursor = \"default\";\n          game.currentStatus = \"losescreenToHomePage\";\n          return;\n        }\n        game.currentStatus = \"reset\";\n        game.paused = false;\n        return;\n      case 73:\n        canvas.showInstructions = !canvas.showInstructions;\n        return;\n      case 82:\n        if (game.currentStatus === \"playing\" || game.currentStatus === \"losescreen\" || game.currentStatus === \"winScreen\")\n        game.currentStatus = \"setup\";\n        return;\n      case 13:\n        if (game.currentStatus !== \"homepage\" && game.currentStatus !== \"instructions\" ) { return; }\n        game.currentStatus = \"setup\";\n        canvas.homepageYOffset = 0;\n        return;\n      case 16:\n        game.shiftDown = true;\n        return;\n      case 67:\n        if (game.currentStatus === \"winScreen\") {\n          game.currentStatus = \"nextLevel\";\n        }\n        return;\n      case 77:\n        if (audio.volume === 0) {\n          audio.volume = 0.5;\n          game.muted = false;\n        } else {\n          audio.volume = 0;\n          game.muted = true;\n        }\n      default:\n        return;\n    }\n  });\n\n  window.addEventListener(\"keyup\", (e) => {\n    switch (e.keyCode) {\n      case 16:\n        game.mouseVars.mouseOffset.x = 0;\n        game.mouseVars.mouseOffset.y = 0;\n        game.shiftDown = false;\n        return;\n      default:\n        return;\n    }\n  });\n\n  let mousewheelevent = (/Firefox/i.test(navigator.userAgent)) ? \"wheel\" : \"mousewheel\";\n\n  document.addEventListener(mousewheelevent, (e)=> {\n    e.preventDefault();\n    if (game.paused  || game.currentStatus !== \"playing\") { return; }\n    let zoomDelta = (e.deltaY / -1000);\n    game.boardVars.currentZoom = boundNum(game.boardVars.currentZoom + zoomDelta, game.boardVars.minZoom, game.boardVars.maxZoom);\n    game.boardVars.boardHeight = game.boardVars.realBoardHeight / game.boardVars.currentZoom;\n    game.boardVars.boardWidth = game.boardVars.realBoardWidth / game.boardVars.currentZoom;\n  });\n\n  game.animate(canvas);\n});\n"],"sourceRoot":""}