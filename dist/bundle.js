!function(e){var a={};function t(o){if(a[o])return a[o].exports;var r=a[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=a,t.d=function(e,a,o){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)t.d(o,r,function(a){return e[a]}.bind(null,r));return o},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="",t(t.s=0)}([function(e,a,t){"use strict";t.r(a);var o=function(e,a,t){return e>t?t:e<a?a:e},r=function(e,a){return Math.log(a)/Math.log(e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(a,t){t.xpos+t.radius+a.radius>a.xpos&&t.xpos<a.xpos+a.radius+t.radius&&t.ypos+t.radius+a.radius>a.ypos&&t.ypos<a.ypos+a.radius+t.radius&&n(a,t,e)}},n=function(e,a,t){var r=e.radius+a.radius,s=Math.sqrt(Math.pow(e.xpos-a.xpos,2)+Math.pow(e.ypos-a.ypos,2));r>s&&(e.nextMomentum.x+=o(a.momentum.x*a.mass*(s/r)*t,-50,50),a.nextMomentum.x=a.nextMomentum.x*o(a.mass/e.mass,.99,1),a.nextMomentum.x+=o(e.momentum.x*e.mass*(s/r)*t,-50,50),e.nextMomentum.x=e.nextMomentum.x*o(e.mass/a.mass,.99,1),e.nextMomentum.y+=o(a.momentum.y*a.mass*(s/r)*t,-50,50),a.nextMomentum.y=a.nextMomentum.y*o(a.mass/e.mass,.99,1),a.nextMomentum.y+=o(e.momentum.y*e.mass*(s/r)*t,-50,50),e.nextMomentum.y=e.nextMomentum.y*o(e.mass/a.mass,.99,1),e.mass<=a.mass?i(a,e,s,t):i(e,a,s,t))},i=function(e,a,t,r){(t-e.radius<0||a.mass<100)&&(e.mass+=a.mass,a.mass=0,e.nextMomentum.x+=a.nextMomentum.x,e.nextMomentum.y+=a.nextMomentum.y);var s=a.massDelta*a.mass*o((a.radius-(t-e.radius))/a.radius,.01,.1)*o(r,.5,2);a.mass-=s,e.mass+=s},u=function(e,a){return e.radius+a.radius>Math.sqrt(Math.pow(e.xpos-a.xpos,2)+Math.pow(e.ypos-a.ypos,2))},m=function(e,a){e.xpos+e.radius>=a.realBoardWidth?(e.nextMomentum.x=-1*e.momentum.x,e.xpos=a.realBoardWidth-e.radius-1):e.xpos-e.radius<=0&&(e.nextMomentum.x=-1*e.momentum.x,e.xpos=0+e.radius+1),e.ypos+e.radius>=a.realBoardHeight?(e.nextMomentum.y=-1*e.momentum.y,e.ypos=a.realBoardHeight-e.radius-1):e.ypos-e.radius<=0&&(e.nextMomentum.y=-1*e.momentum.y,e.ypos=0+e.radius+1)};function d(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var l=function e(a){var t=this,r=a.x,s=a.y,n=a.mass,i=a.momentum,u=a.boardVars;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"move",(function(e){t.momentum=Object.assign({},t.nextMomentum);var a=t.mass>0?t.momentum.x/t.mass:0,o=t.mass>0?t.momentum.y/t.mass:0;t.xpos+=a*e,t.ypos+=o*e})),d(this,"adjustRadius",(function(){t.radius=Math.sqrt(t.mass/Math.PI)})),d(this,"relativePos",(function(e){return{x:(t.xpos-e.boardFocus.x)/(e.boardWidth/2)*500+window.innerWidth/2+t.mouseVars.mouseOffset.x,y:(t.ypos-e.boardFocus.y)/(e.boardHeight/2)*500+window.innerHeight/2+t.mouseVars.mouseOffset.y}})),d(this,"colorize",(function(e,a,r,s,n){if(!(t.mass<=0)){var i=e.createRadialGradient(a,r,s,a,r,0);return t.mass<n?(i.addColorStop(0,"rgb(".concat(20,", ",20,", ",255,")")),i.addColorStop(o(1-t.mass/n,0,1),"rgb(".concat(50,", ",20,", ",200,")")),i.addColorStop(1,"rgb(".concat(255,", ",20,", ",20,")"))):(i.addColorStop(0,"rgb(".concat(255,", ",20,", ",20,")")),i.addColorStop(o(1-n/t.mass,0,1),"rgb(".concat(200,", ",20,", ",50,")")),i.addColorStop(1,"rgb(".concat(20,", ",20,", ",255,")"))),i}})),d(this,"draw",(function(e,a){if(!(t.mass<=0))if(isNaN(t.xpos)||isNaN(t.ypos))t.mass=0;else{t.adjustRadius();var o=t.relativePos(a),r=t.radius/a.realBoardWidth*1e3*a.currentZoom,s=t.colorize(e,o.x,o.y,r,a.baseMass);e.beginPath(),e.arc(o.x,o.y,r,0,2*Math.PI),e.fillStyle=s,e.fill()}})),this.mass=n||Math.floor(1e5*Math.random()+1e4),this.radius=Math.sqrt(this.mass/Math.PI),this.xpos=r||Math.floor(Math.random()*(u.realBoardWidth-this.radius))+this.radius,this.ypos=s||Math.floor(Math.random()*(u.realBoardHeight-this.radius))+this.radius,this.momentum=i||{x:Math.floor(1e6*Math.random())-5e5,y:Math.floor(1e6*Math.random())-5e5},this.nextMomentum=Object.assign({},this.momentum),this.color="blue"};l.prototype.momentumDelta=1,l.prototype.massDelta=.5,l.prototype.momentumMax=10;var c=l;function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,a){return(p=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function g(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var w=function(e){function a(e){var t,r,s,n=e.x,i=e.y,u=e.mass,m=e.momentum,d=e.boardVars;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,s=f(a).call(this,{x:n,y:i,mass:u,momentum:m,boardVars:d}),t=!s||"object"!==h(s)&&"function"!=typeof s?b(r):s,g(b(t),"colorize",(function(e,a,o,r){if(!(t.mass<=0)){var s=e.createRadialGradient(a,o,r,a,o,0);return s.addColorStop(0,"rgb(".concat(0,", ",255,", ",0,")")),s.addColorStop(1,"rgb(".concat(0,", ",150,", ",0,")")),s}})),g(b(t),"propel",(function(e,a,r){if(!(t.mass<=0)){var s=t.mousePosX-window.innerWidth/2,n=t.mousePosY-window.innerHeight/2,i=Math.atan2(n,s),u=Math.cos(i),m=Math.sin(i),d=t.mass*o((Date.now()-t.mouseVars.mouseDownTime)/3e4,.01,.1);t.mass-=d;var l=Math.sqrt(d/Math.PI),h=t.xpos+u*t.radius+(u>0?l:-1*l),f=t.ypos+m*t.radius+(m>0?l:-1*l),b={x:50*d*u*2,y:50*d*m*2};a.push(new c({x:h,y:f,mass:d,momentum:b,boardVars:r})),t.nextMomentum.x+=-1*b.x*3,t.nextMomentum.y+=-1*b.y*3;Math.sqrt(Math.pow(s,2)+Math.pow(n,2))}})),t.mousePosX=null,t.mousePosY=null,t}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&p(e,a)}(a,e),a}(c);function x(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var y=function e(a){var t=this,o=a.x,r=a.y,s=a.width,n=a.height,i=a.level,u=void 0===i?0:i;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,"split",(function(){var a=Math.floor(t.width/2),o=Math.floor(t.height/2);t.quadrants.push(new e({x:t.x,y:t.y,width:a,height:o,level:t.level+1})),t.quadrants.push(new e({x:t.x+a,y:t.y,width:a,height:o,level:t.level+1})),t.quadrants.push(new e({x:t.x,y:t.y+o,width:a,height:o,level:t.level+1})),t.quadrants.push(new e({x:t.x+a,y:t.y+o,width:a,height:o,level:t.level+1}))})),x(this,"clear",(function(){t.dataPoints=[];for(var e=0;e<t.quadrants.length;e++)t.quadrants[e].clear(),t.quadrants[e]=null;0===t.level&&(t.quadrants=[])})),x(this,"insert1",(function(e){var a=t.getIndex(e);if(t.quadrants.length>0&&-1!==a)return t.quadrants[a].insert1(e);if(t.dataPoints.push(e),0===t.quadrants.length&&t.dataPoints.length>t.maxAmoebas){t.split();for(var o=[],r=0;r<t.dataPoints.length;r++)-1!==(a=t.getIndex(t.dataPoints[r]))?t.quadrants[a].insert1(t.dataPoints[r]):o.push(t.dataPoints[r]);t.dataPoints=o}})),x(this,"getIndex",(function(e){return e.xpos-e.radius>t.x&&e.xpos+e.radius<t.halfX&&e.ypos-e.radius>t.y&&e.ypos+e.radius<t.halfY?0:e.xpos-e.radius>t.halfX&&e.xpos+e.radius<t.endX&&e.ypos-e.radius>t.y&&e.ypos+e.radius<t.halfY?1:e.xpos-e.radius>t.x&&e.xpos+e.radius<t.halfX&&e.ypos-e.radius>t.halfY&&e.ypos+e.radius<t.endY?2:e.xpos-e.radius>t.halfX&&e.xpos+e.radius<t.endX&&e.ypos-e.radius>t.halfY&&e.ypos+e.radius<t.endY?3:-1})),x(this,"checkAllCollisions",(function(e){for(var a=0,o=t.dataPoints.length;a<o;a++){for(var r=a+1;r<o;r++)e(t.dataPoints[a],t.dataPoints[r]);for(var s=0,n=t.quadrants.length;s<n;s++)t.quadrants[s].checkCollision(e,t.dataPoints[a])}for(var i=0,u=t.quadrants.length;i<u;i++)t.quadrants[i].checkAllCollisions(e)})),x(this,"checkCollision",(function(e,a){for(var o=0,r=t.dataPoints.length;o<r;o++)e(a,t.dataPoints[o]);for(var s=0,n=t.quadrants.length;s<n;s++)t.quadrants[s].checkCollision(e,a)})),this.quadrants=[],this.x=o,this.y=r,this.width=s,this.height=n,this.endX=this.x+this.width,this.endY=this.y+this.height,this.halfX=this.x+Math.floor(this.width/2),this.halfY=this.y+Math.floor(this.height/2),this.level=u,this.dataPoints=[]};y.prototype.maxAmoebas=10;var V=y;var v=function e(a){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.realBoardWidth=a.realBoardWidth,this.realBoardHeight=a.realBoardHeight,this.baseMass=a.baseMass,this.maxZoom=a.maxZoom,this.absoluteMaxZoom=a.absoluteMaxZoom,this.minZoom=a.minZoom,this.currentZoom=a.currentZoom,this.boardWidth=a.boardWidth,this.boardHeight=a.boardHeight,this.boardFocus=a.boardFocus};var S=function e(a){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.timeBase=a.timeBase,this.timeCoefficient=a.timeCoefficient};function M(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function A(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var P=function e(a){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e4,d=arguments.length>3?arguments[3]:void 0;M(this,e),A(this,"setupMouse",(function(){t.mouseVars={},t.mouseVars.mouseDownTime=null,t.mouseVars.mouseOffset={x:0,y:0},c.prototype.mouseVars=t.mouseVars})),A(this,"setupTime",(function(){t.timeVars=new S({timeBase:10,timeCoefficient:1}),c.prototype.timeVars=t.timeVars})),A(this,"setupProportions",(function(e,a){t.boardSize=e/3e4;var o=parseInt(50/Math.sqrt(1e5/Math.PI)*e/1e3),r=o,s=s;t.boardVars=new v({realBoardWidth:e,realBoardHeight:a,baseMass:5e4,maxZoom:o,absoluteMaxZoom:r,minZoom:.7,currentZoom:s,boardWidth:e/s,boardHeight:a/s,boardFocus:{x:e/2,y:a/2}})})),A(this,"setupImages",(function(){t.iconImages={};["githubLogo","linkedInLogo","folderIcon","volume","volumeReverse","mute","muteReverse"].forEach((function(e){return t.setupImage(e)}))})),A(this,"setupImage",(function(e){t.iconImages[e]=new Image,t.iconImages[e].src="./assets/images/".concat(e,".png")})),A(this,"addAmoebas",(function(e,a,o){for(var r=0;r<e;r++){for(var s=a(),n=Math.sqrt(s/Math.PI),i=Math.floor(Math.random()*(t.boardVars.realBoardWidth-n))+n,m=Math.floor(Math.random()*(t.boardVars.realBoardHeight-n))+n,d={x:Math.floor(Math.random()*o)-o/2,y:Math.floor(Math.random()*o)-o/2},l=new c({x:i,y:m,mass:s,momentum:d,boardVars:t.boardVars});t.amoeboi&&u(t.amoeboi,l);)l.xpos=Math.floor(Math.random()*(t.boardVars.realBoardWidth-n))+n,l.ypos=Math.floor(Math.random()*(t.boardVars.realBoardHeight-n))+n;t.amoebas.push(l)}})),A(this,"setupAmoebas",(function(e){var a,o;t.amoebas=[],t.amoeboi=e?new w({x:t.boardVars.realBoardWidth/2,y:t.boardVars.realBoardHeight/2,mass:1e7,momentum:{x:0,y:0},boardVars:t.boardVars}):null,t.quadTree=new V({x:0,y:0,width:t.boardVars.realBoardWidth,height:t.boardVars.realBoardHeight}),o=function(){return a=Math.pow(t.boardVars.realBoardHeight/30*Math.PI,2),Math.floor(Math.random()*a*4+a)},t.addAmoebas(parseInt(2*t.boardSize),o,1e6),o=function(){return Math.floor(4e6*Math.random()*Math.pow(t.boardSize,2)+1e6*Math.pow(t.boardSize,2))},t.addAmoebas(parseInt(20*t.boardSize),o,1e6),o=function(){return Math.floor(4e5*Math.random()+1e5)},t.addAmoebas(parseInt(700*t.boardSize),o,1e6),o=function(){return Math.floor(4e5*Math.random()+1e4)},t.addAmoebas(parseInt(50*t.boardSize),o,1e6),o=function(){return Math.floor(1e4*Math.random()+1e4)},t.addAmoebas(parseInt(1e4*t.boardSize),o,1e5);for(var r=0;r<t.amoebas.length;r++)t.quadTree.insert1(t.amoebas[r]);e&&(t.amoeboi.mass/=100,t.amoeboi.adjustRadius())})),A(this,"animate",(function(){if(t.ctx.clearRect(0,0,innerWidth,innerHeight),t.makeGrid(t.ctx),"reset"===t.currentStatus)return t.boardVars.maxZoom=4,t.boardVars.currentZoom=2,t.timeVars.timeCoefficient=.5,t.boardVars.boardHeight=t.boardVars.realBoardHeight/t.boardVars.currentZoom,t.boardVars.boardWidth=t.boardVars.realBoardWidth/t.boardVars.currentZoom,t.boardVars.baseMass=5e4,t.setupAmoebas(!1),t.boardVars.boardFocus={x:t.boardVars.realBoardWidth/2,y:t.boardVars.realBoardHeight/2},t.currentStatus="homepage",requestAnimationFrame(t.animate);if("setup"===t.currentStatus)return t.setupProportions(3e4,3e4),t.setupAmoebas(!0),t.homepageYOffset=0,t.boardVars.currentZoom=4,t.timeVars.timeCoefficient=.5,t.boardVars.boardHeight=t.boardVars.realBoardHeight/t.boardVars.currentZoom,t.boardVars.boardWidth=t.boardVars.realBoardWidth/t.boardVars.currentZoom,t.boardVars.baseMass=t.amoeboi.mass,t.boardVars.boardFocus={x:t.amoeboi.xpos,y:t.amoeboi.ypos},t.currentStatus="playing",t.showInstructions=!0,t.audio.playbackRate=.5+1/(1+Math.pow(Math.E,-10*r(10,t.timeVars.timeCoefficient)))*3.5,requestAnimationFrame(t.animate);if("nextLevel"===t.currentStatus)return t.homepageYOffset=0,t.boardVars.currentZoom=4,t.timeVars.timeCoefficient=.5,t.setupProportions(1.2*t.boardVars.realBoardWidth+(500-1.2*t.boardVars.realBoardWidth%500),1.2*t.boardVars.realBoardHeight+(500-1.2*t.boardVars.realBoardHeight%500)),t.setupAmoebas(!0),t.boardVars.baseMass=t.amoeboi.mass,t.boardVars.boardFocus={x:t.amoeboi.xpos,y:t.amoeboi.ypos},t.currentStatus="playing",t.showInstructions=!0,t.audio.playbackRate=.5+1/(1+Math.pow(Math.E,-10*r(10,t.timeVars.timeCoefficient)))*3.5,requestAnimationFrame(t.animate);if("homepage"===t.currentStatus)return t.moveAmoebas(t.ctx),t.makeHomepage(t.ctx),requestAnimationFrame(t.animate);if("movingToInstructions"===t.currentStatus)return t.homepageYOffset>-1e3?t.homepageYOffset-=20:t.currentStatus="instructions",t.moveAmoebas(t.ctx),t.makeHomepage(t.ctx),requestAnimationFrame(t.animate);if("instructions"===t.currentStatus)return t.moveAmoebas(t.ctx),t.makeHomepage(t.ctx),requestAnimationFrame(t.animate);if("movingToHomePage"===t.currentStatus)return t.homepageYOffset<0?t.homepageYOffset+=20:t.currentStatus="homepage",t.moveAmoebas(t.ctx),t.makeHomepage(t.ctx),requestAnimationFrame(t.animate);if("coloringLoseScreen"===t.currentStatus)return t.boardVars.boardFocus.x+=t.boardVars.boardFocus.x<t.boardVars.realBoardWidth/2?10:-10,t.boardVars.boardFocus.y+=t.boardVars.boardFocus.y<t.boardVars.realBoardHeight/2?10:-10,t.boardVars.currentZoom=t.boardVars.currentZoom>1?.9*t.boardVars.currentZoom:t.boardVars.currentZoom,t.boardVars.boardHeight=t.boardVars.realBoardHeight/t.boardVars.currentZoom,t.boardVars.boardWidth=t.boardVars.realBoardWidth/t.boardVars.currentZoom,t.boardVars.baseMass=0,t.moveAmoebas(t.ctx),t.homepageAlpha<.5?(t.homepageAlpha+=.05,t.ctx.globalAlpha=t.homepageAlpha,t.ctx.fillStyle="black",t.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),requestAnimationFrame(t.animate)):(t.ctx.globalAlpha=t.homepageAlpha,t.ctx.fillStyle="black",t.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),t.homepageYOffset=1500,t.homepageAlpha=0,t.currentStatus="movingToLoseScreen",requestAnimationFrame(t.animate));if("movingToLoseScreen"===t.currentStatus)return t.homepageYOffset>1e3?t.homepageYOffset-=20:t.currentStatus="losescreen",t.moveAmoebas(t.ctx),t.makeHomepage(t.ctx),requestAnimationFrame(t.animate);if("losescreen"===t.currentStatus)return t.moveAmoebas(t.ctx),t.makeHomepage(t.ctx),requestAnimationFrame(t.animate);if("losescreenToHomePage"===t.currentStatus)return t.homepageYOffset>0?t.homepageYOffset-=20:t.currentStatus="homepage",t.moveAmoebas(t.ctx),t.makeHomepage(t.ctx),requestAnimationFrame(t.animate);if(t.paused)return t.amoebas.forEach((function(e){e.draw(t.ctx,t.boardVars)})),t.amoeboi.draw(t.ctx,t.boardVars),t.makePause(t.ctx),requestAnimationFrame(t.animate);if("playing"===t.currentStatus&&t.checkWin()&&(t.currentStatus="coloringWinScreen"),"coloringWinScreen"===t.currentStatus)return t.boardVars.boardFocus.x+=t.boardVars.boardFocus.x<t.boardVars.realBoardWidth/2?10:-10,t.boardVars.boardFocus.y+=t.boardVars.boardFocus.y<t.boardVars.realBoardHeight/2?10:-10,t.boardVars.currentZoom=t.boardVars.currentZoom>1?.9*t.boardVars.currentZoom:t.boardVars.currentZoom,t.boardVars.boardHeight=t.boardVars.realBoardHeight/t.boardVars.currentZoom,t.boardVars.boardWidth=t.boardVars.realBoardWidth/t.boardVars.currentZoom,t.boardVars.baseMass=t.amoeboi.mass,t.moveAmoebas(t.ctx),t.homepageAlpha<.5?(t.homepageAlpha+=.05,t.ctx.globalAlpha=t.homepageAlpha,t.ctx.fillStyle="black",t.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),requestAnimationFrame(t.animate)):(t.ctx.globalAlpha=t.homepageAlpha,t.ctx.fillStyle="black",t.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),t.homepageYOffset=1500,t.homepageAlpha=0,t.currentStatus="movingToWinScreen",requestAnimationFrame(t.animate));if("movingToWinScreen"===t.currentStatus)return t.homepageYOffset>1e3?t.homepageYOffset-=20:t.currentStatus="winScreen",t.boardVars.baseMass=t.amoeboi.mass,t.moveAmoebas(t.ctx),t.makeWinScreen(t.ctx),requestAnimationFrame(t.animate);if("winScreen"===t.currentStatus)return t.boardVars.baseMass=t.amoeboi.mass,t.moveAmoebas(t.ctx),t.makeWinScreen(t.ctx),requestAnimationFrame(t.animate);if(t.moveAmoebas(t.ctx),t.makeMargins(t.ctx),t.makeMassDisplay(t.ctx),t.makeInstructions(t.ctx),t.autoscaleTime){var e=t.amoebas[0];t.amoebas.forEach((function(a){e=e.radius<a.radius?a:e})),t.timeVars.timeCoefficient=t.amoeboi.radius/e.radius*t.timeVars.timeBase*.75}t.amoeboi.mass>0?(t.boardVars.boardFocus={x:t.amoeboi.xpos,y:t.amoeboi.ypos},t.boardVars.baseMass=t.amoeboi.mass,t.amoeboi.radius/t.boardVars.realBoardWidth*1e3*t.boardVars.currentZoom>75&&(t.boardVars.maxZoom=o(75/(t.amoeboi.radius/t.boardVars.realBoardWidth*1e3),1,t.boardVars.absoluteMaxZoom),t.boardVars.currentZoom=o(.9999999*t.boardVars.currentZoom,t.boardVars.minZoom,t.boardVars.maxZoom),t.boardVars.boardHeight=t.boardVars.realBoardHeight/t.boardVars.currentZoom,t.boardVars.boardWidth=t.boardVars.realBoardWidth/t.boardVars.currentZoom),t.amoeboi.radius/t.boardVars.realBoardWidth*1e3*t.boardVars.maxZoom<75&&(t.boardVars.maxZoom=o(75/(t.amoeboi.radius/t.boardVars.realBoardWidth*1e3),1,t.boardVars.absoluteMaxZoom))):t.currentStatus="coloringLoseScreen",requestAnimationFrame(t.animate)})),A(this,"moveAmoebas",(function(e){t.amoebas=t.amoebas.filter((function(e){return e.mass>0})),t.quadTree.clear();for(var a=0;a<t.amoebas.length;a++)t.quadTree.insert1(t.amoebas[a]);e.globalAlpha=.8,t.amoebas.forEach((function(e){e.move(t.timeVars.timeCoefficient),e.draw(t.ctx,t.boardVars)})),t.amoeboi&&t.amoeboi.move(t.timeVars.timeCoefficient),t.amoeboi&&t.amoeboi.draw(t.ctx,t.boardVars),e.globalAlpha=1,t.quadTree.checkAllCollisions(s(t.timeVars.timeCoefficient)),t.amoebas.forEach((function(e){t.amoeboi&&s(t.timeVars.timeCoefficient)(t.amoeboi,e),t.amoeboi&&s(t.timeVars.timeCoefficient)(e,t.amoeboi),m(e,t.boardVars)})),t.amoeboi&&m(t.amoeboi,t.boardVars)})),A(this,"checkWin",(function(){for(var e=0,a=t.amoebas.length;e<a;e++)if(t.amoeboi.mass<t.amoebas[e].mass)return!1;return!0})),A(this,"makePause",(function(e){e.globalAlpha=.5,e.fillStyle="black",e.fillRect(0,0,window.innerWidth,window.innerHeight);var a=t.mousePos.x/window.innerWidth*50,o=t.mousePos.y/window.innerHeight*50;Math.sin((Date.now()-t.homepageTime)%1500/1500*Math.PI);e.globalAlpha=1,e.fillStyle="white",e.font="70px Impact";var r=window.innerWidth/2-75-a,s=window.innerHeight/2+50-o+t.homepageYOffset;e.fillText("PAUSED",r,s)})),A(this,"makeClock",(function(e){e.globalAlpha=.7,e.beginPath(),e.arc(120,120,65,0,(r(t.timeVars.timeBase,t.timeVars.timeCoefficient)+1)/2*Math.PI*2),e.strokeStyle="orange",e.lineWidth=5,e.stroke(),e.beginPath(),e.arc(120,120,60,0,2*Math.PI),e.strokeStyle="black",e.lineWidth=3,e.stroke(),e.globalAlpha=.8,e.fillStyle="white",e.fill(),e.beginPath(),e.moveTo(120,120),e.lineTo(120+60*Math.cos(t.clockAngle*Math.PI/180),120+60*Math.sin(t.clockAngle*Math.PI/180)),e.fillStyle="black",e.stroke(),t.clockAngle=(t.clockAngle+t.timeVars.timeCoefficient)%360,e.globalAlpha=1})),A(this,"makeGrid",(function(e){e.globalAlpha=.4;for(var a=0,o=(0-t.boardVars.boardFocus.y)/(t.boardVars.boardHeight/2)*500+window.innerHeight/2+t.mouseVars.mouseOffset.y,r=(t.boardVars.realBoardHeight-t.boardVars.boardFocus.y)/(t.boardVars.boardHeight/2)*500+window.innerHeight/2+t.mouseVars.mouseOffset.y;a<=t.boardVars.realBoardWidth;){e.fillStyle=a===t.boardVars.realBoardWidth||0===a?"red":"black";var s=(a-t.boardVars.boardFocus.x)/(t.boardVars.boardWidth/2)*500+window.innerWidth/2;e.fillRect(s+t.mouseVars.mouseOffset.x,o,2,r-o),a+=500}for(var n=0,i=(0-t.boardVars.boardFocus.x)/(t.boardVars.boardWidth/2)*500+window.innerWidth/2+t.mouseVars.mouseOffset.x,u=(t.boardVars.realBoardWidth-t.boardVars.boardFocus.x)/(t.boardVars.boardWidth/2)*500+window.innerWidth/2+t.mouseVars.mouseOffset.x;n<=t.boardVars.realBoardHeight;){e.fillStyle=n===t.boardVars.realBoardHeight||0===n?"red":"black";var m=(n-t.boardVars.boardFocus.y)/(t.boardVars.boardHeight/2)*500+window.innerHeight/2;e.fillRect(i,m+t.mouseVars.mouseOffset.y,u-i,2),n+=500}e.globalAlpha=1})),A(this,"makeMassDisplay",(function(e){var a;e.globalAlpha=.7,e.fillStyle="black",a=t.amoeboi.mass>0?130+15*o(Math.floor(Math.log10(t.amoeboi.mass/100),1,1e4)):145,e.fillRect(window.innerWidth-220,65,a,50),e.globalAlpha=1,e.fillStyle="white",e.font="30px Impact",e.fillText("Mass: ".concat(Math.floor(t.amoeboi.mass/100)),window.innerWidth-200,100)})),A(this,"makeInstructions",(function(e){if(e.globalAlpha=.7,e.fillStyle="black",!t.showInstructions)return e.fillRect(50,65,340,50),e.globalAlpha=1,e.fillStyle="white",e.font="20px Arial Black",void e.fillText("PRESS I FOR INSTRUCTIONS",60,100);e.globalAlpha=.7,e.fillStyle="black",e.fillRect(50,65,365,320),e.globalAlpha=1,e.fillStyle="white",e.font="20px Arial Black",e.fillText("SPACE   :  Pause",60,95),e.fillText(" SHIFT   :  Look Around",61,135),e.fillText("SCROLL :  Zoom In/Out",60,170),e.fillText("     H      :  Main Menu",65,215),e.fillText("     R      :  Restart",65,255),e.fillText("     I       :  Toggle Instructions",67,295),e.fillText("     M      :  Toggle Volume (".concat(t.muted?"OFF":"ON",")"),63,335),e.fillText("     A      :  Autoscale Time (".concat(t.autoscaleTime?"ON":"OFF",")"),63,375)})),A(this,"makeMargins",(function(e){e.globalAlpha=.7,e.fillStyle="black";var a=Math.floor(window.innerHeight/8),o=window.innerWidth/2-250,s=window.innerHeight-a/2-25,n=(r(t.timeVars.timeBase,t.timeVars.timeCoefficient)+1)/2;e.fillStyle="black",e.fillRect(o-10,s,520,50),e.fillStyle="white",e.fillRect(o+500*n-10,s,20,50),e.globalAlpha=1})),A(this,"makeWinScreen",(function(e){e.globalAlpha=.5,e.fillStyle="black",e.fillRect(0,0,window.innerWidth,window.innerHeight);var a=t.mousePos.x/window.innerWidth*50,o=t.mousePos.y/window.innerHeight*50,r=window.innerWidth/2-195-a,s=window.innerHeight/2-80-o+t.homepageYOffset;e.globalAlpha=1,e.fillStyle="white",e.font="70px Impact",e.fillText("YOU'VE WON",r+55,s-920),e.font="40px Impact",e.fillText("Press C to continue",r+65,s-840)})),A(this,"makeHomepage",(function(e){e.globalAlpha=.5,e.fillStyle="black",e.fillRect(0,0,window.innerWidth,window.innerHeight);var a=t.mousePos.x/window.innerWidth*50,o=t.mousePos.y/window.innerHeight*50,r=Math.sin((Date.now()-t.homepageTime)%1500/1500*Math.PI);e.globalAlpha=1,e.fillStyle="white",e.font="120px Impact";var s=window.innerWidth/2-195-a,n=window.innerHeight/2-80-o+t.homepageYOffset;e.fillText("AmoeBoi",s,n),e.globalAlpha=.7,e.fillStyle="rgb(0,0,50)",e.fillRect(s-300,n+885,1050,530),e.globalAlpha=1,e.fillStyle="rgb(240,240,240)",e.font="".concat(30+2*r,"px Impact"),e.fillText("PRESS ENTER TO START",s+85-5*r,n+100+2*r),e.font="50px Impact",e.fillText("⬇ INSTRUCTIONS ⬇",s+15,n+360),e.fillText("⬆ MAIN MENU ⬆",s+50,n+850),e.font="25px Arial Black",e.fillText("Become the Biggest!",s+80,n+930),e.fillText("Absorb smaller amoebas, avoid the bigger ones,",s-105,n+1e3),e.fillText("and become the biggest blob in the land.",s-55,n+1030),e.fillText("Aim and hold the left mouse button to shoot out smaller amoebas",s-222.5,n+1100),e.fillText("and propel yourself the other way... but be careful!",s-120,n+1130),e.fillText("Every shot uses a little bit of your own mass.",s-80,n+1160),e.fillText("You can speed up or slow down time using the left/right arrow keys.",s-240,n+1230),e.fillText("Press space to pause the game",s+10,n+1300),e.fillText("and press H to return to the Main Menu at any time.",s-130,n+1330),e.fillText("PRESS ENTER TO START",s+50,n+1400),e.drawImage(t.iconImages.githubLogo,s-50,n+170,80,80),e.drawImage(t.iconImages.linkedInLogo,s+180,n+170,72,72),e.drawImage(t.iconImages.folderIcon,s+380,n+170,88,88),e.drawImage(t.muted?t.iconImages.mute:t.iconImages.volume,s-5,n+(t.muted?60:65),50,50),e.drawImage(t.muted?t.iconImages.muteReverse:t.iconImages.volumeReverse,s+400,n+(t.muted?60:65),50,50),e.fillStyle="white",e.font="70px Impact",e.fillText("YOU'VE LOST",s+55,n-920),e.font="40px Impact",e.fillText("Press R to play again",s+50,n-840),e.fillText("Press H to return to Main Menu",s-27.5,n-760)})),this.ctx=a,this.audio=d,this.muted=!1,this.setupImages(),this.setupProportions(n,i),this.setupTime(),this.setupMouse(),this.homepageClock=null,this.clockAngle=0,this.mouseDownTime=null,this.mouseDownInterval=null,this.paused=!1,this.currentStatus="reset",this.homepageYOffset=0,this.homepageTime=null,this.mousePos={x:0,y:0},this.shiftDown=!1,this.homepageAlpha=0,this.showInstructions=!0,this.autoscaleTime=!0};document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("background"),a=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;var t=document.getElementById("audio"),s=new P(a,3e4,3e4,t);t.playbackRate=.5+1/(1+Math.pow(Math.E,-10*r(10,s.timeVars.timeCoefficient)))*3.5,t.volume=.5,window.onresize=function(){e.width=window.innerWidth,e.height=window.innerHeight},window.addEventListener("click",(function(e){if("homepage"===s.currentStatus){var a=s.mousePos.x/window.innerWidth*50,o=s.mousePos.y/window.innerHeight*50,r=window.innerWidth/2-195-a,n=window.innerHeight/2-80-o+s.homepageYOffset;e.pageX>r-40&&e.pageX<r+40&&e.pageY>n+170&&e.pageY<n+250?window.location="https://github.com/1stepremoved":e.pageX>r+180&&e.pageX<r+252&&e.pageY>n+170&&e.pageY<n+242?window.location="https://linkedin.com/in/hamilton-sands":e.pageX>r+380&&e.pageX<r+468&&e.pageY>n+170&&e.pageY<n+258?window.location="https://1stepremoved.github.io/portfolio/":e.pageX>r+75&&e.pageX<r+365&&e.pageY>n+315&&e.pageY<n+360?(s.currentStatus="movingToInstructions",document.body.style.cursor="default"):e.pageX>r-5&&e.pageX<r+45&&e.pageY>n+60&&e.pageY<n+110?0===t.volume?(t.volume=.5,s.muted=!1):(t.volume=0,s.muted=!0):e.pageX>r+400&&e.pageX<r+450&&e.pageY>n+60&&e.pageY<n+110&&(0===t.volume?(t.volume=.5,s.muted=!1):(t.volume=0,s.muted=!0))}else if("instructions"===s.currentStatus){var i=s.mousePos.x/window.innerWidth*50,u=s.mousePos.y/window.innerHeight*50,m=window.innerWidth/2-195-i,d=window.innerHeight/2-80-u+s.homepageYOffset;e.pageX>m+110&&e.pageX<m+335&&e.pageY>d+805&&e.pageY<d+850&&(s.currentStatus="movingToHomePage",document.body.style.cursor="default")}})),window.addEventListener("touchstart",(function(e){if("playing"===s.currentStatus){if(clearInterval(s.mouseDownInterval),s.paused||2===e.button||"playing"!==s.currentStatus)return;s.mouseVars.mouseDownTime=Date.now(),s.amoeboi.mousePosX=e.touches[0].pageX,s.amoeboi.mousePosY=e.touches[0].pageY,s.amoeboi.propel(e,s.amoebas,s.boardVars),s.mouseDownInterval=setInterval((function(){s.amoeboi.propel(e,s.amoebas,s.boardVars)}),200)}})),window.addEventListener("touchmove",(function(e){"playing"===s.currentStatus&&(s.amoeboi.mousePosX=e.touches[0].pageX,s.amoeboi.mousePosY=e.touches[0].pageY)})),window.addEventListener("touchend",(function(e){e.touches.length>1||("homepage"===s.currentStatus?(s.currentStatus="setup",s.homepageYOffset=0):"losescreen"===s.currentStatus?(document.body.style.cursor="default",s.currentStatus="losescreenToHomePage"):"winScreen"===s.currentStatus?s.currentStatus="nextLevel":"playing"===s.currentStatus&&(s.mouseVars.mouseDownTime=null,clearInterval(s.mouseDownInterval)))})),window.addEventListener("mousedown",(function(e){clearInterval(s.mouseDownInterval),s.paused||2===e.button||"playing"!==s.currentStatus||(s.mouseVars.mouseDownTime=Date.now(),s.amoeboi.mousePosX=e.pageX,s.amoeboi.mousePosY=e.pageY,s.amoeboi.propel(e,s.amoebas,s.boardVars),s.mouseDownInterval=setInterval((function(){s.amoeboi.propel(e,s.amoebas,s.boardVars)}),200))})),window.addEventListener("mousemove",(function(e){if("homepage"===s.currentStatus){var a=s.mousePos.x/window.innerWidth*50,t=s.mousePos.y/window.innerHeight*50,o=window.innerWidth/2-195-a,r=window.innerHeight/2-80-t+s.homepageYOffset;e.pageX>o-40&&e.pageX<o+40&&e.pageY>r+170&&e.pageY<r+250?document.body.style.cursor="pointer":e.pageX>o+180&&e.pageX<o+252&&e.pageY>r+170&&e.pageY<r+242?document.body.style.cursor="pointer":e.pageX>o+380&&e.pageX<o+468&&e.pageY>r+170&&e.pageY<r+258?document.body.style.cursor="pointer":e.pageX>o+75&&e.pageX<o+365&&e.pageY>r+315&&e.pageY<r+360?document.body.style.cursor="pointer":e.pageX>o-5&&e.pageX<o+45&&e.pageY>r+60&&e.pageY<r+110?document.body.style.cursor="pointer":e.pageX>o+400&&e.pageX<o+450&&e.pageY>r+60&&e.pageY<r+110?document.body.style.cursor="pointer":document.body.style.cursor="default",window.innerHeight-e.pageY<30&&(s.currentStatus="movingToInstructions")}else if("instructions"===s.currentStatus){var n=s.mousePos.x/window.innerWidth*50,i=s.mousePos.y/window.innerHeight*50,u=window.innerWidth/2-195-n,m=window.innerHeight/2-80-i+s.homepageYOffset;e.pageX>u+110&&e.pageX<u+335&&e.pageY>m+805&&e.pageY<m+850?document.body.style.cursor="pointer":document.body.style.cursor="default",e.pageY<30&&(s.currentStatus="movingToHomePage")}else"playing"===s.currentStatus&&s.shiftDown&&(s.mouseVars.mouseOffset.x=(window.innerWidth/2-e.pageX)/2,s.mouseVars.mouseOffset.y=(window.innerHeight/2-e.pageY)/2);s.mousePos.x=e.pageX,s.mousePos.y=e.pageY,s.mouseVars.mouseDownTime&&(s.amoeboi.mousePosX=e.pageX,s.amoeboi.mousePosY=e.pageY)})),window.addEventListener("mouseup",(function(e){s.mouseVars.mouseDownTime=null,clearInterval(s.mouseDownInterval)})),window.addEventListener("keydown",(function(e){switch(e.keyCode){case 39:if(s.paused||"playing"!==s.currentStatus||s.autoscaleTime)return;return s.timeVars.timeCoefficient=Math.min(1.1*s.timeVars.timeCoefficient,s.timeVars.timeBase),void(t.playbackRate=.5+1/(1+Math.pow(Math.E,-10*r(10,s.timeVars.timeCoefficient)))*3.5);case 37:if(s.paused||"playing"!==s.currentStatus||s.autoscaleTime)return;return s.timeVars.timeCoefficient=Math.max(.9*s.timeVars.timeCoefficient,Math.pow(s.timeVars.timeBase,-1)),void(t.playbackRate=.5+1/(1+Math.pow(Math.E,-10*r(10,s.timeVars.timeCoefficient)))*3.5);case 65:if(s.paused||"playing"!==s.currentStatus)return;return void(s.autoscaleTime=!s.autoscaleTime);case 32:if("playing"!==s.currentStatus)return;return s.paused=!s.paused,void(s.mouseVars.mouseDownTime=null);case 72:return"instructions"===s.currentStatus?(document.body.style.cursor="default",void(s.currentStatus="movingToHomePage")):"losescreen"===s.currentStatus?(document.body.style.cursor="default",void(s.currentStatus="losescreenToHomePage")):(s.currentStatus="reset",void(s.paused=!1));case 73:return void(s.showInstructions=!s.showInstructions);case 82:return void("playing"!==s.currentStatus&&"losescreen"!==s.currentStatus&&"winScreen"!==s.currentStatus||(s.currentStatus="setup"));case 13:if(s.homepageTime=null,"homepage"!==s.currentStatus&&"instructions"!==s.currentStatus)return;return s.currentStatus="setup",void(s.homepageYOffset=0);case 16:return void(s.shiftDown=!0);case 67:return void("winScreen"===s.currentStatus&&(s.currentStatus="nextLevel"));case 77:0===t.volume?(t.volume=.5,s.muted=!1):(t.volume=0,s.muted=!0);default:return}})),window.addEventListener("keyup",(function(e){switch(e.keyCode){case 16:return s.mouseVars.mouseOffset.x=0,s.mouseVars.mouseOffset.y=0,void(s.shiftDown=!1);default:return}}));var n=/Firefox/i.test(navigator.userAgent)?"wheel":"mousewheel";document.addEventListener(n,(function(e){if(e.preventDefault(),!s.paused&&"playing"===s.currentStatus){var a=e.deltaY/-1e3;s.boardVars.currentZoom=o(s.boardVars.currentZoom+a,s.boardVars.minZoom,s.boardVars.maxZoom),s.boardVars.boardHeight=s.boardVars.realBoardHeight/s.boardVars.currentZoom,s.boardVars.boardWidth=s.boardVars.realBoardWidth/s.boardVars.currentZoom}})),s.animate()}))}]);
//# sourceMappingURL=bundle.js.map