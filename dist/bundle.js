!function(e){var a={};function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,a,t){o.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,a){if(1&a&&(e=o(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)o.d(t,r,function(a){return e[a]}.bind(null,r));return t},o.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(a,"a",a),a},o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},o.p="",o(o.s=0)}([function(e,a,o){"use strict";o.r(a);var t=function(e,a,o){return e>o?o:e<a?a:e},r=function(e,a){return Math.log(a)/Math.log(e)};function s(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}var i=function e(a,o,r,i,n){var u=this;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"move",(function(){u.momentum=Object.assign({},u.nextMomentum);var e=u.mass>0?u.momentum.x/u.mass:0,a=u.mass>0?u.momentum.y/u.mass:0;u.xpos+=e*u.timeVars.timeCoefficient,u.ypos+=a*u.timeVars.timeCoefficient})),s(this,"adjustRadius",(function(){u.radius=Math.sqrt(u.mass/Math.PI)})),s(this,"aabbCheck",(function(e){e.xpos+e.radius+u.radius>u.xpos&&e.xpos<u.xpos+u.radius+e.radius&&e.ypos+e.radius+u.radius>u.ypos&&e.ypos<u.ypos+u.radius+e.radius&&u.collision(e)})),s(this,"collision",(function(e){var a=u.radius+e.radius,o=Math.sqrt(Math.pow(u.xpos-e.xpos,2)+Math.pow(u.ypos-e.ypos,2));if(a>o){var r;if(u.nextMomentum.x+=t(e.momentum.x*e.mass*(o/a)*u.timeVars.timeCoefficient,-50,50),e.nextMomentum.x=e.nextMomentum.x*t(e.mass/u.mass,.99,1),e.nextMomentum.x+=t(u.momentum.x*u.mass*(o/a)*u.timeVars.timeCoefficient,-50,50),u.nextMomentum.x=u.nextMomentum.x*t(u.mass/e.mass,.99,1),u.nextMomentum.y+=t(e.momentum.y*e.mass*(o/a)*u.timeVars.timeCoefficient,-50,50),e.nextMomentum.y=e.nextMomentum.y*t(e.mass/u.mass,.99,1),e.nextMomentum.y+=t(u.momentum.y*u.mass*(o/a)*u.timeVars.timeCoefficient,-50,50),u.nextMomentum.y=u.nextMomentum.y*t(u.mass/e.mass,.99,1),o-(r=u.mass<=e.mass?{big:e,small:u}:{big:u,small:e}).big.radius<0||r.small.mass<100)return r.big.mass+=r.small.mass,r.small.mass=0,r.big.nextMomentum.x+=r.small.nextMomentum.x,void(r.big.nextMomentum.y+=r.small.nextMomentum.y);var s=r.small.massDelta*r.small.mass*t((r.small.radius-(o-r.big.radius))/r.small.radius,.01,.1)*t(u.timeVars.timeCoefficient,.5,2);r.small.mass-=s,r.big.mass+=s}})),s(this,"collidesWith",(function(e){return u.radius+e.radius>Math.sqrt(Math.pow(u.xpos-e.xpos,2)+Math.pow(u.ypos-e.ypos,2))})),s(this,"wallCollision",(function(){u.xpos+u.radius>=u.boardVars.realBoardWidth?(u.nextMomentum.x=-1*u.momentum.x,u.xpos=u.boardVars.realBoardWidth-u.radius-1):u.xpos-u.radius<=0&&(u.nextMomentum.x=-1*u.momentum.x,u.xpos=0+u.radius+1),u.ypos+u.radius>=u.boardVars.realBoardHeight?(u.nextMomentum.y=-1*u.momentum.y,u.ypos=u.boardVars.realBoardHeight-u.radius-1):u.ypos-u.radius<=0&&(u.nextMomentum.y=-1*u.momentum.y,u.ypos=0+u.radius+1)})),s(this,"colorize",(function(e,a,o){if(!(u.mass<=0)){var r=u.ctx.createRadialGradient(e,a,o,e,a,0);return u.mass<u.boardVars.baseMass?(r.addColorStop(0,"rgb(".concat(20,", ",20,", ",255,")")),r.addColorStop(t(1-u.mass/u.boardVars.baseMass,0,1),"rgb(".concat(50,", ",20,", ",200,")")),r.addColorStop(1,"rgb(".concat(255,", ",20,", ",20,")"))):(r.addColorStop(0,"rgb(".concat(255,", ",20,", ",20,")")),r.addColorStop(t(1-u.boardVars.baseMass/u.mass,0,1),"rgb(".concat(200,", ",20,", ",50,")")),r.addColorStop(1,"rgb(".concat(20,", ",20,", ",255,")"))),r}})),s(this,"relativePos",(function(){return{x:(u.xpos-u.boardVars.boardFocus.x)/(u.boardVars.boardWidth/2)*500+window.innerWidth/2+u.mouseVars.mouseOffset.x,y:(u.ypos-u.boardVars.boardFocus.y)/(u.boardVars.boardHeight/2)*500+window.innerHeight/2+u.mouseVars.mouseOffset.y}})),s(this,"draw",(function(){if(!(u.mass<=0))if(isNaN(u.xpos)||isNaN(u.ypos))u.mass=0;else{u.adjustRadius();var e=u.relativePos(),a=u.radius/u.boardVars.realBoardWidth*1e3*u.boardVars.currentZoom,o=u.colorize(e.x,e.y,a);u.ctx.beginPath(),u.ctx.arc(e.x,e.y,a,0,2*Math.PI),u.ctx.fillStyle=o,u.ctx.fill()}})),this.ctx=a,this.mass=i||Math.floor(1e5*Math.random()+1e4),this.radius=Math.sqrt(this.mass/Math.PI),this.xpos=o||Math.floor(Math.random()*(this.boardVars.realBoardWidth-this.radius))+this.radius,this.ypos=r||Math.floor(Math.random()*(this.boardVars.realBoardHeight-this.radius))+this.radius,this.momentum=n||{x:Math.floor(1e6*Math.random())-5e5,y:Math.floor(1e6*Math.random())-5e5},this.nextMomentum=Object.assign({},this.momentum),this.color="blue"};i.prototype.momentumDelta=1,i.prototype.massDelta=.5,i.prototype.momentumMax=10;var n=i;function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,a){return(d=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function c(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}var h=function(e){function a(e,o,r,s,i){var d,h,b;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),h=this,b=m(a).call(this,e,o,r,s,i),d=!b||"object"!==u(b)&&"function"!=typeof b?l(h):b,c(l(d),"colorize",(function(e,a,o){if(!(d.mass<=0)){var t=d.ctx.createRadialGradient(e,a,o,e,a,0);return t.addColorStop(0,"rgb(".concat(0,", ",255,", ",0,")")),t.addColorStop(1,"rgb(".concat(0,", ",150,", ",0,")")),t}})),c(l(d),"propel",(function(e,a){if(!(d.mass<=0)){var o=d.mousePosX-window.innerWidth/2,r=d.mousePosY-window.innerHeight/2,s=Math.atan2(r,o),i=Math.cos(s),u=Math.sin(s),m=d.mass*t((Date.now()-d.mouseVars.mouseDownTime)/3e4,.01,.1);d.mass-=m;var l=Math.sqrt(m/Math.PI),c=d.xpos+i*d.radius+(i>0?l:-1*l),h=d.ypos+u*d.radius+(u>0?l:-1*l),b={x:50*m*i*2,y:50*m*u*2};a.push(new n(d.ctx,c,h,m,b)),d.nextMomentum.x+=-1*b.x*3,d.nextMomentum.y+=-1*b.y*3;Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}})),d.mousePosX=null,d.mousePosY=null,d}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&d(e,a)}(a,e),a}(n);function b(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function f(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}var p=function e(a,o,t,r){var s=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;b(this,e),f(this,"split",(function(){var a=Math.floor(s.width/2),o=Math.floor(s.height/2);s.children.push(new e(s.x,s.y,a,o,s.level+1)),s.children.push(new e(s.x+a,s.y,a,o,s.level+1)),s.children.push(new e(s.x,s.y+o,a,o,s.level+1)),s.children.push(new e(s.x+a,s.y+o,a,o,s.level+1))})),f(this,"clear",(function(){s.amoebas=[];for(var e=0;e<s.children.length;e++)s.children[e].clear(),s.children[e]=null;0===s.level&&(s.children=[])})),f(this,"insert1",(function(e){var a=s.getIndex(e);if(s.children.length>0&&-1!==a)return s.children[a].insert1(e);if(s.amoebas.push(e),0===s.children.length&&s.amoebas.length>s.maxAmoebas){s.split();for(var o=[],t=0;t<s.amoebas.length;t++)-1!==(a=s.getIndex(s.amoebas[t]))?s.children[a].insert1(s.amoebas[t]):o.push(s.amoebas[t]);s.amoebas=o}})),f(this,"getIndex",(function(e){return e.xpos-e.radius>s.x&&e.xpos+e.radius<s.halfX&&e.ypos-e.radius>s.y&&e.ypos+e.radius<s.halfY?0:e.xpos-e.radius>s.halfX&&e.xpos+e.radius<s.endX&&e.ypos-e.radius>s.y&&e.ypos+e.radius<s.halfY?1:e.xpos-e.radius>s.x&&e.xpos+e.radius<s.halfX&&e.ypos-e.radius>s.halfY&&e.ypos+e.radius<s.endY?2:e.xpos-e.radius>s.halfX&&e.xpos+e.radius<s.endX&&e.ypos-e.radius>s.halfY&&e.ypos+e.radius<s.endY?3:-1})),f(this,"checkAllCollisions",(function(){for(var e=0,a=s.amoebas.length;e<a;e++){for(var o=e+1;o<a;o++)s.amoebas[e].aabbCheck(s.amoebas[o]);for(var t=0,r=s.children.length;t<r;t++)s.children[t].checkCollision(s.amoebas[e])}for(var i=0,n=s.children.length;i<n;i++)s.children[i].checkAllCollisions()})),f(this,"checkCollision",(function(e){for(var a=0,o=s.amoebas.length;a<o;a++)e.aabbCheck(s.amoebas[a]);for(var t=0,r=s.children.length;t<r;t++)s.children[t].checkCollision(e)})),this.children=[],this.x=a,this.y=o,this.width=t,this.height=r,this.endX=this.x+this.width,this.endY=this.y+this.height,this.halfX=this.x+Math.floor(this.width/2),this.halfY=this.y+Math.floor(this.height/2),this.level=i,this.amoebas=[]};p.prototype.maxAmoebas=10;var g=p;function w(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function x(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}var y=function e(a){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e4,u=arguments.length>3?arguments[3]:void 0;w(this,e),x(this,"setupMouse",(function(){o.mouseVars={},o.mouseVars.mouseDownTime=null,o.mouseVars.mouseOffset={x:0,y:0},n.prototype.mouseVars=o.mouseVars})),x(this,"setupTime",(function(){o.timeVars={},o.timeVars.timeBase=10,o.timeVars.timeCoefficient=1,n.prototype.timeVars=o.timeVars})),x(this,"setupProportions",(function(e,a){o.boardSize=e/3e4,o.boardVars={},o.boardVars.realBoardWidth=e,o.boardVars.realBoardHeight=a,o.boardVars.baseMass=5e4,o.boardVars.maxZoom=parseInt(50/Math.sqrt(1e5/Math.PI)*e/1e3),o.boardVars.absoluteMaxZoom=o.boardVars.maxZoom,o.boardVars.minZoom=.7,o.boardVars.currentZoom=o.boardVars.maxZoom,o.boardVars.boardWidth=o.boardVars.realBoardWidth/o.boardVars.currentZoom,o.boardVars.boardHeight=o.boardVars.realBoardHeight/o.boardVars.currentZoom,o.boardVars.boardFocus={x:o.boardVars.realBoardWidth/2,y:o.boardVars.realBoardHeight/2},n.prototype.boardVars=o.boardVars})),x(this,"setupImages",(function(){o.iconImages={};["githubLogo","linkedInLogo","folderIcon","volume","volumeReverse","mute","muteReverse"].forEach((function(e){return o.setupImage(e)}))})),x(this,"setupImage",(function(e){o.iconImages[e]=new Image,o.iconImages[e].src="./assets/images/".concat(e,".png")})),x(this,"addAmoebas",(function(e,a,t){for(var r=0;r<e;r++){for(var s=a(),i=Math.sqrt(s/Math.PI),u=Math.floor(Math.random()*(o.boardVars.realBoardWidth-i))+i,m=Math.floor(Math.random()*(o.boardVars.realBoardHeight-i))+i,l={x:Math.floor(Math.random()*t)-t/2,y:Math.floor(Math.random()*t)-t/2},d=new n(o.ctx,u,m,s,l);o.amoeboi&&o.amoeboi.collidesWith(d);)d.xpos=Math.floor(Math.random()*(o.boardVars.realBoardWidth-i))+i,d.ypos=Math.floor(Math.random()*(o.boardVars.realBoardHeight-i))+i;o.amoebas.push(d)}})),x(this,"setupAmoebas",(function(e){var a,t;o.amoebas=[],o.amoeboi=e?new h(o.ctx,o.boardVars.realBoardWidth/2,o.boardVars.realBoardHeight/2,1e7,{x:0,y:0}):null,o.quadTree=new g(0,0,o.boardVars.realBoardWidth,o.boardVars.realBoardHeight),t=function(){return a=Math.pow(o.boardVars.realBoardHeight/30*Math.PI,2),Math.floor(Math.random()*a*4+a)},o.addAmoebas(parseInt(2*o.boardSize),t,1e6),t=function(){return Math.floor(4e6*Math.random()*Math.pow(o.boardSize,2)+1e6*Math.pow(o.boardSize,2))},o.addAmoebas(parseInt(20*o.boardSize),t,1e6),t=function(){return Math.floor(4e5*Math.random()+1e5)},o.addAmoebas(parseInt(700*o.boardSize),t,1e6),t=function(){return Math.floor(4e5*Math.random()+1e4)},o.addAmoebas(parseInt(50*o.boardSize),t,1e6),t=function(){return Math.floor(1e4*Math.random()+1e4)},o.addAmoebas(parseInt(1e4*o.boardSize),t,1e5);for(var r=0;r<o.amoebas.length;r++)o.quadTree.insert1(o.amoebas[r]);e&&(o.amoeboi.mass/=100,o.amoeboi.adjustRadius())})),x(this,"animate",(function(){if(o.ctx.clearRect(0,0,innerWidth,innerHeight),o.makeGrid(o.ctx),"reset"===o.currentStatus)return o.boardVars.maxZoom=4,o.boardVars.currentZoom=2,o.timeVars.timeCoefficient=.5,o.boardVars.boardHeight=o.boardVars.realBoardHeight/o.boardVars.currentZoom,o.boardVars.boardWidth=o.boardVars.realBoardWidth/o.boardVars.currentZoom,o.boardVars.baseMass=5e4,o.setupAmoebas(!1),o.boardVars.boardFocus={x:o.boardVars.realBoardWidth/2,y:o.boardVars.realBoardHeight/2},o.currentStatus="homepage",requestAnimationFrame(o.animate);if("setup"===o.currentStatus)return o.setupProportions(3e4,3e4),o.setupAmoebas(!0),o.homepageYOffset=0,o.boardVars.currentZoom=4,o.timeVars.timeCoefficient=.5,o.boardVars.boardHeight=o.boardVars.realBoardHeight/o.boardVars.currentZoom,o.boardVars.boardWidth=o.boardVars.realBoardWidth/o.boardVars.currentZoom,o.boardVars.baseMass=o.amoeboi.mass,o.boardVars.boardFocus={x:o.amoeboi.xpos,y:o.amoeboi.ypos},o.currentStatus="playing",o.showInstructions=!0,o.audio.playbackRate=.5+1/(1+Math.pow(Math.E,-10*r(10,o.timeVars.timeCoefficient)))*3.5,requestAnimationFrame(o.animate);if("nextLevel"===o.currentStatus)return o.homepageYOffset=0,o.boardVars.currentZoom=4,o.timeVars.timeCoefficient=.5,o.setupProportions(1.2*o.boardVars.realBoardWidth+(500-1.2*o.boardVars.realBoardWidth%500),1.2*o.boardVars.realBoardHeight+(500-1.2*o.boardVars.realBoardHeight%500)),o.setupAmoebas(!0),o.boardVars.baseMass=o.amoeboi.mass,o.boardVars.boardFocus={x:o.amoeboi.xpos,y:o.amoeboi.ypos},o.currentStatus="playing",o.showInstructions=!0,o.audio.playbackRate=.5+1/(1+Math.pow(Math.E,-10*r(10,o.timeVars.timeCoefficient)))*3.5,requestAnimationFrame(o.animate);if("homepage"===o.currentStatus)return o.moveAmoebas(o.ctx),o.makeHomepage(o.ctx),requestAnimationFrame(o.animate);if("movingToInstructions"===o.currentStatus)return o.homepageYOffset>-1e3?o.homepageYOffset-=20:o.currentStatus="instructions",o.moveAmoebas(o.ctx),o.makeHomepage(o.ctx),requestAnimationFrame(o.animate);if("instructions"===o.currentStatus)return o.moveAmoebas(o.ctx),o.makeHomepage(o.ctx),requestAnimationFrame(o.animate);if("movingToHomePage"===o.currentStatus)return o.homepageYOffset<0?o.homepageYOffset+=20:o.currentStatus="homepage",o.moveAmoebas(o.ctx),o.makeHomepage(o.ctx),requestAnimationFrame(o.animate);if("coloringLoseScreen"===o.currentStatus)return o.boardVars.boardFocus.x+=o.boardVars.boardFocus.x<o.boardVars.realBoardWidth/2?10:-10,o.boardVars.boardFocus.y+=o.boardVars.boardFocus.y<o.boardVars.realBoardHeight/2?10:-10,o.boardVars.currentZoom=o.boardVars.currentZoom>1?.9*o.boardVars.currentZoom:o.boardVars.currentZoom,o.boardVars.boardHeight=o.boardVars.realBoardHeight/o.boardVars.currentZoom,o.boardVars.boardWidth=o.boardVars.realBoardWidth/o.boardVars.currentZoom,o.boardVars.baseMass=0,o.moveAmoebas(o.ctx),o.homepageAlpha<.5?(o.homepageAlpha+=.05,o.ctx.globalAlpha=o.homepageAlpha,o.ctx.fillStyle="black",o.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),requestAnimationFrame(o.animate)):(o.ctx.globalAlpha=o.homepageAlpha,o.ctx.fillStyle="black",o.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),o.homepageYOffset=1500,o.homepageAlpha=0,o.currentStatus="movingToLoseScreen",requestAnimationFrame(o.animate));if("movingToLoseScreen"===o.currentStatus)return o.homepageYOffset>1e3?o.homepageYOffset-=20:o.currentStatus="losescreen",o.moveAmoebas(o.ctx),o.makeHomepage(o.ctx),requestAnimationFrame(o.animate);if("losescreen"===o.currentStatus)return o.moveAmoebas(o.ctx),o.makeHomepage(o.ctx),requestAnimationFrame(o.animate);if("losescreenToHomePage"===o.currentStatus)return o.homepageYOffset>0?o.homepageYOffset-=20:o.currentStatus="homepage",o.moveAmoebas(o.ctx),o.makeHomepage(o.ctx),requestAnimationFrame(o.animate);if(o.paused)return o.amoebas.forEach((function(e){e.draw()})),o.amoeboi.draw(),o.makePause(o.ctx),requestAnimationFrame(o.animate);if("playing"===o.currentStatus&&o.checkWin()&&(o.currentStatus="coloringWinScreen"),"coloringWinScreen"===o.currentStatus)return o.boardVars.boardFocus.x+=o.boardVars.boardFocus.x<o.boardVars.realBoardWidth/2?10:-10,o.boardVars.boardFocus.y+=o.boardVars.boardFocus.y<o.boardVars.realBoardHeight/2?10:-10,o.boardVars.currentZoom=o.boardVars.currentZoom>1?.9*o.boardVars.currentZoom:o.boardVars.currentZoom,o.boardVars.boardHeight=o.boardVars.realBoardHeight/o.boardVars.currentZoom,o.boardVars.boardWidth=o.boardVars.realBoardWidth/o.boardVars.currentZoom,o.boardVars.baseMass=o.amoeboi.mass,o.moveAmoebas(o.ctx),o.homepageAlpha<.5?(o.homepageAlpha+=.05,o.ctx.globalAlpha=o.homepageAlpha,o.ctx.fillStyle="black",o.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),requestAnimationFrame(o.animate)):(o.ctx.globalAlpha=o.homepageAlpha,o.ctx.fillStyle="black",o.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),o.homepageYOffset=1500,o.homepageAlpha=0,o.currentStatus="movingToWinScreen",requestAnimationFrame(o.animate));if("movingToWinScreen"===o.currentStatus)return o.homepageYOffset>1e3?o.homepageYOffset-=20:o.currentStatus="winScreen",o.boardVars.baseMass=o.amoeboi.mass,o.moveAmoebas(o.ctx),o.makeWinScreen(o.ctx),requestAnimationFrame(o.animate);if("winScreen"===o.currentStatus)return o.boardVars.baseMass=o.amoeboi.mass,o.moveAmoebas(o.ctx),o.makeWinScreen(o.ctx),requestAnimationFrame(o.animate);if(o.moveAmoebas(o.ctx),o.makeMargins(o.ctx),o.makeMassDisplay(o.ctx),o.makeInstructions(o.ctx),o.autoscaleTime){var e=o.amoebas[0];o.amoebas.forEach((function(a){e=e.radius<a.radius?a:e})),o.timeVars.timeCoefficient=o.amoeboi.radius/e.radius*o.timeVars.timeBase*.75}o.amoeboi.mass>0?(o.boardVars.boardFocus={x:o.amoeboi.xpos,y:o.amoeboi.ypos},o.boardVars.baseMass=o.amoeboi.mass,o.amoeboi.radius/o.boardVars.realBoardWidth*1e3*o.boardVars.currentZoom>75&&(o.boardVars.maxZoom=t(75/(o.amoeboi.radius/o.boardVars.realBoardWidth*1e3),1,o.boardVars.absoluteMaxZoom),o.boardVars.currentZoom=t(.9999999*o.boardVars.currentZoom,o.boardVars.minZoom,o.boardVars.maxZoom),o.boardVars.boardHeight=o.boardVars.realBoardHeight/o.boardVars.currentZoom,o.boardVars.boardWidth=o.boardVars.realBoardWidth/o.boardVars.currentZoom),o.amoeboi.radius/o.boardVars.realBoardWidth*1e3*o.boardVars.maxZoom<75&&(o.boardVars.maxZoom=t(75/(o.amoeboi.radius/o.boardVars.realBoardWidth*1e3),1,o.boardVars.absoluteMaxZoom))):o.currentStatus="coloringLoseScreen",requestAnimationFrame(o.animate)})),x(this,"moveAmoebas",(function(e){o.amoebas=o.amoebas.filter((function(e){return e.mass>0})),o.quadTree.clear();for(var a=0;a<o.amoebas.length;a++)o.quadTree.insert1(o.amoebas[a]);e.globalAlpha=.8,o.amoebas.forEach((function(e){e.move(),e.draw()})),o.amoeboi&&o.amoeboi.move(),o.amoeboi&&o.amoeboi.draw(),e.globalAlpha=1,o.quadTree.checkAllCollisions(),o.amoebas.forEach((function(e){o.amoeboi&&o.amoeboi.aabbCheck(e),o.amoeboi&&e.aabbCheck(o.amoeboi),e.wallCollision()})),o.amoeboi&&o.amoeboi.wallCollision()})),x(this,"checkWin",(function(){for(var e=0,a=o.amoebas.length;e<a;e++)if(o.amoeboi.mass<o.amoebas[e].mass)return!1;return!0})),x(this,"makePause",(function(e){e.globalAlpha=.5,e.fillStyle="black",e.fillRect(0,0,window.innerWidth,window.innerHeight);var a=o.mousePos.x/window.innerWidth*50,t=o.mousePos.y/window.innerHeight*50;Math.sin((Date.now()-o.homepageTime)%1500/1500*Math.PI);e.globalAlpha=1,e.fillStyle="white",e.font="70px Impact";var r=window.innerWidth/2-75-a,s=window.innerHeight/2+50-t+o.homepageYOffset;e.fillText("PAUSED",r,s)})),x(this,"makeClock",(function(e){e.globalAlpha=.7,e.beginPath(),e.arc(120,120,65,0,(r(o.timeVars.timeBase,o.timeVars.timeCoefficient)+1)/2*Math.PI*2),e.strokeStyle="orange",e.lineWidth=5,e.stroke(),e.beginPath(),e.arc(120,120,60,0,2*Math.PI),e.strokeStyle="black",e.lineWidth=3,e.stroke(),e.globalAlpha=.8,e.fillStyle="white",e.fill(),e.beginPath(),e.moveTo(120,120),e.lineTo(120+60*Math.cos(o.clockAngle*Math.PI/180),120+60*Math.sin(o.clockAngle*Math.PI/180)),e.fillStyle="black",e.stroke(),o.clockAngle=(o.clockAngle+o.timeVars.timeCoefficient)%360,e.globalAlpha=1})),x(this,"makeGrid",(function(e){e.globalAlpha=.4;for(var a=0,t=(0-o.boardVars.boardFocus.y)/(o.boardVars.boardHeight/2)*500+window.innerHeight/2+o.mouseVars.mouseOffset.y,r=(o.boardVars.realBoardHeight-o.boardVars.boardFocus.y)/(o.boardVars.boardHeight/2)*500+window.innerHeight/2+o.mouseVars.mouseOffset.y;a<=o.boardVars.realBoardWidth;){e.fillStyle=a===o.boardVars.realBoardWidth||0===a?"red":"black";var s=(a-o.boardVars.boardFocus.x)/(o.boardVars.boardWidth/2)*500+window.innerWidth/2;e.fillRect(s+o.mouseVars.mouseOffset.x,t,2,r-t),a+=500}for(var i=0,n=(0-o.boardVars.boardFocus.x)/(o.boardVars.boardWidth/2)*500+window.innerWidth/2+o.mouseVars.mouseOffset.x,u=(o.boardVars.realBoardWidth-o.boardVars.boardFocus.x)/(o.boardVars.boardWidth/2)*500+window.innerWidth/2+o.mouseVars.mouseOffset.x;i<=o.boardVars.realBoardHeight;){e.fillStyle=i===o.boardVars.realBoardHeight||0===i?"red":"black";var m=(i-o.boardVars.boardFocus.y)/(o.boardVars.boardHeight/2)*500+window.innerHeight/2;e.fillRect(n,m+o.mouseVars.mouseOffset.y,u-n,2),i+=500}e.globalAlpha=1})),x(this,"makeMassDisplay",(function(e){var a;e.globalAlpha=.7,e.fillStyle="black",a=o.amoeboi.mass>0?130+15*t(Math.floor(Math.log10(o.amoeboi.mass/100),1,1e4)):145,e.fillRect(window.innerWidth-220,65,a,50),e.globalAlpha=1,e.fillStyle="white",e.font="30px Impact",e.fillText("Mass: ".concat(Math.floor(o.amoeboi.mass/100)),window.innerWidth-200,100)})),x(this,"makeInstructions",(function(e){if(e.globalAlpha=.7,e.fillStyle="black",!o.showInstructions)return e.fillRect(50,65,340,50),e.globalAlpha=1,e.fillStyle="white",e.font="20px Arial Black",void e.fillText("PRESS I FOR INSTRUCTIONS",60,100);e.globalAlpha=.7,e.fillStyle="black",e.fillRect(50,65,365,320),e.globalAlpha=1,e.fillStyle="white",e.font="20px Arial Black",e.fillText("SPACE   :  Pause",60,95),e.fillText(" SHIFT   :  Look Around",61,135),e.fillText("SCROLL :  Zoom In/Out",60,170),e.fillText("     H      :  Main Menu",65,215),e.fillText("     R      :  Restart",65,255),e.fillText("     I       :  Toggle Instructions",67,295),e.fillText("     M      :  Toggle Volume (".concat(o.muted?"OFF":"ON",")"),63,335),e.fillText("     A      :  Autoscale Time (".concat(o.autoscaleTime?"ON":"OFF",")"),63,375)})),x(this,"makeMargins",(function(e){e.globalAlpha=.7,e.fillStyle="black";var a=Math.floor(window.innerHeight/8),t=window.innerWidth/2-250,s=window.innerHeight-a/2-25,i=(r(o.timeVars.timeBase,o.timeVars.timeCoefficient)+1)/2;e.fillStyle="black",e.fillRect(t-10,s,520,50),e.fillStyle="white",e.fillRect(t+500*i-10,s,20,50),e.globalAlpha=1})),x(this,"makeWinScreen",(function(e){e.globalAlpha=.5,e.fillStyle="black",e.fillRect(0,0,window.innerWidth,window.innerHeight);var a=o.mousePos.x/window.innerWidth*50,t=o.mousePos.y/window.innerHeight*50,r=window.innerWidth/2-195-a,s=window.innerHeight/2-80-t+o.homepageYOffset;e.globalAlpha=1,e.fillStyle="white",e.font="70px Impact",e.fillText("YOU'VE WON",r+55,s-920),e.font="40px Impact",e.fillText("Press C to continue",r+65,s-840)})),x(this,"makeHomepage",(function(e){e.globalAlpha=.5,e.fillStyle="black",e.fillRect(0,0,window.innerWidth,window.innerHeight);var a=o.mousePos.x/window.innerWidth*50,t=o.mousePos.y/window.innerHeight*50,r=Math.sin((Date.now()-o.homepageTime)%1500/1500*Math.PI);e.globalAlpha=1,e.fillStyle="white",e.font="120px Impact";var s=window.innerWidth/2-195-a,i=window.innerHeight/2-80-t+o.homepageYOffset;e.fillText("AmoeBoi",s,i),e.globalAlpha=.7,e.fillStyle="rgb(0,0,50)",e.fillRect(s-300,i+885,1050,530),e.globalAlpha=1,e.fillStyle="rgb(240,240,240)",e.font="".concat(30+2*r,"px Impact"),e.fillText("PRESS ENTER TO START",s+85-5*r,i+100+2*r),e.font="50px Impact",e.fillText("⬇ INSTRUCTIONS ⬇",s+15,i+360),e.fillText("⬆ MAIN MENU ⬆",s+50,i+850),e.font="25px Arial Black",e.fillText("Become the Biggest!",s+80,i+930),e.fillText("Absorb smaller amoebas, avoid the bigger ones,",s-105,i+1e3),e.fillText("and become the biggest blob in the land.",s-55,i+1030),e.fillText("Aim and hold the left mouse button to shoot out smaller amoebas",s-222.5,i+1100),e.fillText("and propel yourself the other way... but be careful!",s-120,i+1130),e.fillText("Every shot uses a little bit of your own mass.",s-80,i+1160),e.fillText("You can speed up or slow down time using the left/right arrow keys.",s-240,i+1230),e.fillText("Press space to pause the game",s+10,i+1300),e.fillText("and press H to return to the Main Menu at any time.",s-130,i+1330),e.fillText("PRESS ENTER TO START",s+50,i+1400),e.drawImage(o.iconImages.githubLogo,s-50,i+170,80,80),e.drawImage(o.iconImages.linkedInLogo,s+180,i+170,72,72),e.drawImage(o.iconImages.folderIcon,s+380,i+170,88,88),e.drawImage(o.muted?o.iconImages.mute:o.iconImages.volume,s-5,i+(o.muted?60:65),50,50),e.drawImage(o.muted?o.iconImages.muteReverse:o.iconImages.volumeReverse,s+400,i+(o.muted?60:65),50,50),e.fillStyle="white",e.font="70px Impact",e.fillText("YOU'VE LOST",s+55,i-920),e.font="40px Impact",e.fillText("Press R to play again",s+50,i-840),e.fillText("Press H to return to Main Menu",s-27.5,i-760)})),this.ctx=a,this.audio=u,this.muted=!1,this.setupImages(),this.setupProportions(s,i),this.setupTime(),this.setupMouse(),this.homepageClock=null,this.clockAngle=0,this.mouseDownTime=null,this.mouseDownInterval=null,this.paused=!1,this.currentStatus="reset",this.homepageYOffset=0,this.homepageTime=null,this.mousePos={x:0,y:0},this.shiftDown=!1,this.homepageAlpha=0,this.showInstructions=!0,this.autoscaleTime=!0};document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("background"),a=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;var o=document.getElementById("audio"),s=new y(a,3e4,3e4,o);o.playbackRate=.5+1/(1+Math.pow(Math.E,-10*r(10,s.timeVars.timeCoefficient)))*3.5,o.volume=.5,window.onresize=function(){e.width=window.innerWidth,e.height=window.innerHeight},window.addEventListener("click",(function(e){if("homepage"===s.currentStatus){var a=s.mousePos.x/window.innerWidth*50,t=s.mousePos.y/window.innerHeight*50,r=window.innerWidth/2-195-a,i=window.innerHeight/2-80-t+s.homepageYOffset;e.pageX>r-40&&e.pageX<r+40&&e.pageY>i+170&&e.pageY<i+250?window.location="https://github.com/1stepremoved":e.pageX>r+180&&e.pageX<r+252&&e.pageY>i+170&&e.pageY<i+242?window.location="https://linkedin.com/in/hamilton-sands":e.pageX>r+380&&e.pageX<r+468&&e.pageY>i+170&&e.pageY<i+258?window.location="https://1stepremoved.github.io/portfolio/":e.pageX>r+75&&e.pageX<r+365&&e.pageY>i+315&&e.pageY<i+360?(s.currentStatus="movingToInstructions",document.body.style.cursor="default"):e.pageX>r-5&&e.pageX<r+45&&e.pageY>i+60&&e.pageY<i+110?0===o.volume?(o.volume=.5,s.muted=!1):(o.volume=0,s.muted=!0):e.pageX>r+400&&e.pageX<r+450&&e.pageY>i+60&&e.pageY<i+110&&(0===o.volume?(o.volume=.5,s.muted=!1):(o.volume=0,s.muted=!0))}else if("instructions"===s.currentStatus){var n=s.mousePos.x/window.innerWidth*50,u=s.mousePos.y/window.innerHeight*50,m=window.innerWidth/2-195-n,l=window.innerHeight/2-80-u+s.homepageYOffset;e.pageX>m+110&&e.pageX<m+335&&e.pageY>l+805&&e.pageY<l+850&&(s.currentStatus="movingToHomePage",document.body.style.cursor="default")}})),window.addEventListener("touchstart",(function(e){if("playing"===s.currentStatus){if(clearInterval(s.mouseDownInterval),s.paused||2===e.button||"playing"!==s.currentStatus)return;s.mouseVars.mouseDownTime=Date.now(),s.amoeboi.mousePosX=e.touches[0].pageX,s.amoeboi.mousePosY=e.touches[0].pageY,s.amoeboi.propel(e,s.amoebas),s.mouseDownInterval=setInterval((function(){s.amoeboi.propel(e,s.amoebas)}),200)}})),window.addEventListener("touchmove",(function(e){"playing"===s.currentStatus&&(s.amoeboi.mousePosX=e.touches[0].pageX,s.amoeboi.mousePosY=e.touches[0].pageY)})),window.addEventListener("touchend",(function(e){e.touches.length>1||("homepage"===s.currentStatus?(s.currentStatus="setup",s.homepageYOffset=0):"losescreen"===s.currentStatus?(document.body.style.cursor="default",s.currentStatus="losescreenToHomePage"):"winScreen"===s.currentStatus?s.currentStatus="nextLevel":"playing"===s.currentStatus&&(s.mouseVars.mouseDownTime=null,clearInterval(s.mouseDownInterval)))})),window.addEventListener("mousedown",(function(e){clearInterval(s.mouseDownInterval),s.paused||2===e.button||"playing"!==s.currentStatus||(s.mouseVars.mouseDownTime=Date.now(),s.amoeboi.mousePosX=e.pageX,s.amoeboi.mousePosY=e.pageY,s.amoeboi.propel(e,s.amoebas),s.mouseDownInterval=setInterval((function(){s.amoeboi.propel(e,s.amoebas)}),200))})),window.addEventListener("mousemove",(function(e){if("homepage"===s.currentStatus){var a=s.mousePos.x/window.innerWidth*50,o=s.mousePos.y/window.innerHeight*50,t=window.innerWidth/2-195-a,r=window.innerHeight/2-80-o+s.homepageYOffset;e.pageX>t-40&&e.pageX<t+40&&e.pageY>r+170&&e.pageY<r+250?document.body.style.cursor="pointer":e.pageX>t+180&&e.pageX<t+252&&e.pageY>r+170&&e.pageY<r+242?document.body.style.cursor="pointer":e.pageX>t+380&&e.pageX<t+468&&e.pageY>r+170&&e.pageY<r+258?document.body.style.cursor="pointer":e.pageX>t+75&&e.pageX<t+365&&e.pageY>r+315&&e.pageY<r+360?document.body.style.cursor="pointer":e.pageX>t-5&&e.pageX<t+45&&e.pageY>r+60&&e.pageY<r+110?document.body.style.cursor="pointer":e.pageX>t+400&&e.pageX<t+450&&e.pageY>r+60&&e.pageY<r+110?document.body.style.cursor="pointer":document.body.style.cursor="default",window.innerHeight-e.pageY<30&&(s.currentStatus="movingToInstructions")}else if("instructions"===s.currentStatus){var i=s.mousePos.x/window.innerWidth*50,n=s.mousePos.y/window.innerHeight*50,u=window.innerWidth/2-195-i,m=window.innerHeight/2-80-n+s.homepageYOffset;e.pageX>u+110&&e.pageX<u+335&&e.pageY>m+805&&e.pageY<m+850?document.body.style.cursor="pointer":document.body.style.cursor="default",e.pageY<30&&(s.currentStatus="movingToHomePage")}else"playing"===s.currentStatus&&s.shiftDown&&(s.mouseVars.mouseOffset.x=(window.innerWidth/2-e.pageX)/2,s.mouseVars.mouseOffset.y=(window.innerHeight/2-e.pageY)/2);s.mousePos.x=e.pageX,s.mousePos.y=e.pageY,s.mouseVars.mouseDownTime&&(s.amoeboi.mousePosX=e.pageX,s.amoeboi.mousePosY=e.pageY)})),window.addEventListener("mouseup",(function(e){s.mouseVars.mouseDownTime=null,clearInterval(s.mouseDownInterval)})),window.addEventListener("keydown",(function(e){switch(e.keyCode){case 39:if(s.paused||"playing"!==s.currentStatus||s.autoscaleTime)return;return s.timeVars.timeCoefficient=Math.min(1.1*s.timeVars.timeCoefficient,s.timeVars.timeBase),void(o.playbackRate=.5+1/(1+Math.pow(Math.E,-10*r(10,s.timeVars.timeCoefficient)))*3.5);case 37:if(s.paused||"playing"!==s.currentStatus||s.autoscaleTime)return;return s.timeVars.timeCoefficient=Math.max(.9*s.timeVars.timeCoefficient,Math.pow(s.timeVars.timeBase,-1)),void(o.playbackRate=.5+1/(1+Math.pow(Math.E,-10*r(10,s.timeVars.timeCoefficient)))*3.5);case 65:if(s.paused||"playing"!==s.currentStatus)return;return void(s.autoscaleTime=!s.autoscaleTime);case 32:if("playing"!==s.currentStatus)return;return s.paused=!s.paused,void(s.mouseVars.mouseDownTime=null);case 72:return"instructions"===s.currentStatus?(document.body.style.cursor="default",void(s.currentStatus="movingToHomePage")):"losescreen"===s.currentStatus?(document.body.style.cursor="default",void(s.currentStatus="losescreenToHomePage")):(s.currentStatus="reset",void(s.paused=!1));case 73:return void(s.showInstructions=!s.showInstructions);case 82:return void("playing"!==s.currentStatus&&"losescreen"!==s.currentStatus&&"winScreen"!==s.currentStatus||(s.currentStatus="setup"));case 13:if(s.homepageTime=null,"homepage"!==s.currentStatus&&"instructions"!==s.currentStatus)return;return s.currentStatus="setup",void(s.homepageYOffset=0);case 16:return void(s.shiftDown=!0);case 67:return void("winScreen"===s.currentStatus&&(s.currentStatus="nextLevel"));case 77:0===o.volume?(o.volume=.5,s.muted=!1):(o.volume=0,s.muted=!0);default:return}})),window.addEventListener("keyup",(function(e){switch(e.keyCode){case 16:return s.mouseVars.mouseOffset.x=0,s.mouseVars.mouseOffset.y=0,void(s.shiftDown=!1);default:return}}));var i=/Firefox/i.test(navigator.userAgent)?"wheel":"mousewheel";document.addEventListener(i,(function(e){if(e.preventDefault(),!s.paused&&"playing"===s.currentStatus){var a=e.deltaY/-1e3;s.boardVars.currentZoom=t(s.boardVars.currentZoom+a,s.boardVars.minZoom,s.boardVars.maxZoom),s.boardVars.boardHeight=s.boardVars.realBoardHeight/s.boardVars.currentZoom,s.boardVars.boardWidth=s.boardVars.realBoardWidth/s.boardVars.currentZoom}})),s.animate()}))}]);
//# sourceMappingURL=bundle.js.map