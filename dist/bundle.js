!function(t){var e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);const i=(t,e,s)=>t>s?s:t<e?e:t,a=(t,e)=>Math.log(e)/Math.log(t);class o{constructor(t,e,s,i,a){this.ctx=t,this.mass=i||Math.floor(1e5*Math.random()+1e4),this.radius=Math.sqrt(this.mass/Math.PI),this.xpos=e||Math.floor(Math.random()*(this.boardVars.realBoardWidth-this.radius))+this.radius,this.ypos=s||Math.floor(Math.random()*(this.boardVars.realBoardHeight-this.radius))+this.radius,this.momentum=a||{x:Math.floor(1e6*Math.random())-5e5,y:Math.floor(1e6*Math.random())-5e5},this.nextMomentum=Object.assign({},this.momentum),this.draw=this.draw.bind(this),this.collision=this.collision.bind(this),this.adjustRadius=this.adjustRadius.bind(this),this.colorize=this.colorize.bind(this),this.relativePos=this.relativePos.bind(this),this.color="blue"}move(){this.momentum=Object.assign({},this.nextMomentum);let t=this.mass>0?this.momentum.x/this.mass:0,e=this.mass>0?this.momentum.y/this.mass:0;this.xpos+=t*this.timeVars.timeCoefficient,this.ypos+=e*this.timeVars.timeCoefficient}adjustRadius(){this.radius=Math.sqrt(this.mass/Math.PI)}aabbCheck(t){t.xpos+t.radius+this.radius>this.xpos&&t.xpos<this.xpos+this.radius+t.radius&&t.ypos+t.radius+this.radius>this.ypos&&t.ypos<this.ypos+this.radius+t.radius&&this.collision(t)}collision(t){let e=this.radius+t.radius,s=Math.sqrt(Math.pow(this.xpos-t.xpos,2)+Math.pow(this.ypos-t.ypos,2));if(e>s){let a;if(this.nextMomentum.x+=i(t.momentum.x*t.mass*(s/e)*this.timeVars.timeCoefficient,-50,50),t.nextMomentum.x=t.nextMomentum.x*i(t.mass/this.mass,.99,1),t.nextMomentum.x+=i(this.momentum.x*this.mass*(s/e)*this.timeVars.timeCoefficient,-50,50),this.nextMomentum.x=this.nextMomentum.x*i(this.mass/t.mass,.99,1),this.nextMomentum.y+=i(t.momentum.y*t.mass*(s/e)*this.timeVars.timeCoefficient,-50,50),t.nextMomentum.y=t.nextMomentum.y*i(t.mass/this.mass,.99,1),t.nextMomentum.y+=i(this.momentum.y*this.mass*(s/e)*this.timeVars.timeCoefficient,-50,50),this.nextMomentum.y=this.nextMomentum.y*i(this.mass/t.mass,.99,1),a=this.mass<=t.mass?{big:t,small:this}:{big:this,small:t},s-a.big.radius<0||a.small.mass<100)return a.big.mass+=a.small.mass,a.small.mass=0,a.big.nextMomentum.x+=a.small.nextMomentum.x,void(a.big.nextMomentum.y+=a.small.nextMomentum.y);let o=a.small.massDelta*a.small.mass*i((a.small.radius-(s-a.big.radius))/a.small.radius,.01,.1)*i(this.timeVars.timeCoefficient,.5,2);a.small.mass-=o,a.big.mass+=o}}collidesWith(t){return this.radius+t.radius>Math.sqrt(Math.pow(this.xpos-t.xpos,2)+Math.pow(this.ypos-t.ypos,2))}wallCollision(){this.xpos+this.radius>=this.boardVars.realBoardWidth?(this.nextMomentum.x=-1*this.momentum.x,this.xpos=this.boardVars.realBoardWidth-this.radius-1):this.xpos-this.radius<=0&&(this.nextMomentum.x=-1*this.momentum.x,this.xpos=0+this.radius+1),this.ypos+this.radius>=this.boardVars.realBoardHeight?(this.nextMomentum.y=-1*this.momentum.y,this.ypos=this.boardVars.realBoardHeight-this.radius-1):this.ypos-this.radius<=0&&(this.nextMomentum.y=-1*this.momentum.y,this.ypos=0+this.radius+1)}colorize(t,e,s){if(this.mass<=0)return;let a=this.ctx.createRadialGradient(t,e,s,t,e,0);return this.mass<this.boardVars.baseMass?(a.addColorStop(0,"rgb(20, 20, 255)"),a.addColorStop(i(1-this.mass/this.boardVars.baseMass,0,1),"rgb(50, 20, 200)"),a.addColorStop(1,"rgb(255, 20, 20)")):(a.addColorStop(0,"rgb(255, 20, 20)"),a.addColorStop(i(1-this.boardVars.baseMass/this.mass,0,1),"rgb(200, 20, 50)"),a.addColorStop(1,"rgb(20, 20, 255)")),a}relativePos(){return{x:(this.xpos-this.boardVars.boardFocus.x)/(this.boardVars.boardWidth/2)*500+window.innerWidth/2+this.mouseVars.mouseOffset.x,y:(this.ypos-this.boardVars.boardFocus.y)/(this.boardVars.boardHeight/2)*500+window.innerHeight/2+this.mouseVars.mouseOffset.y}}draw(){if(this.mass<=0)return;if(isNaN(this.xpos)||isNaN(this.ypos))return void(this.mass=0);this.adjustRadius();let t=this.relativePos(),e=this.radius/this.boardVars.realBoardWidth*1e3*this.boardVars.currentZoom,s=this.colorize(t.x,t.y,e);this.ctx.beginPath(),this.ctx.arc(t.x,t.y,e,0,2*Math.PI),this.ctx.fillStyle=s,this.ctx.fill()}}o.prototype.momentumDelta=1,o.prototype.massDelta=.5,o.prototype.momentumMax=10;var r=o;var h=class extends r{constructor(t,e,s,i,a){super(t,e,s,i,a),this.mousePosX=null,this.mousePosY=null}colorize(t,e,s){if(this.mass<=0)return;let i=this.ctx.createRadialGradient(t,e,s,t,e,0);return i.addColorStop(0,"rgb(0, 255, 0)"),i.addColorStop(1,"rgb(0, 150, 0)"),i}propel(t,e){if(this.mass<=0)return;let s=this.mousePosX-window.innerWidth/2,a=this.mousePosY-window.innerHeight/2,o=Math.atan2(a,s),h=Math.cos(o),n=Math.sin(o),m=this.mass*i((Date.now()-this.mouseVars.mouseDownTime)/3e4,.01,.1);this.mass-=m;let l=Math.sqrt(m/Math.PI),d=this.xpos+h*this.radius+(h>0?l:-1*l),u=this.ypos+n*this.radius+(n>0?l:-1*l),c={x:50*m*h*2,y:50*m*n*2};e.push(new r(this.ctx,d,u,m,c)),this.nextMomentum.x+=-1*c.x*3,this.nextMomentum.y+=-1*c.y*3;Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}};class n{constructor(t,e,s,i,a=0){this.children=[],this.x=t,this.y=e,this.width=s,this.height=i,this.endX=this.x+this.width,this.endY=this.y+this.height,this.halfX=this.x+Math.floor(this.width/2),this.halfY=this.y+Math.floor(this.height/2),this.level=a,this.amoebas=[]}split(){let t=Math.floor(this.width/2),e=Math.floor(this.height/2);this.children.push(new n(this.x,this.y,t,e,this.level+1)),this.children.push(new n(this.x+t,this.y,t,e,this.level+1)),this.children.push(new n(this.x,this.y+e,t,e,this.level+1)),this.children.push(new n(this.x+t,this.y+e,t,e,this.level+1))}clear(){this.amoebas=[];for(let t=0;t<this.children.length;t++)this.children[t].clear(),this.children[t]=null;0===this.level&&(this.children=[])}insert1(t){let e=this.getIndex(t);if(this.children.length>0&&-1!==e)return this.children[e].insert1(t);if(this.amoebas.push(t),0===this.children.length&&this.amoebas.length>this.maxAmoebas){this.split();let t=[];for(let s=0;s<this.amoebas.length;s++)e=this.getIndex(this.amoebas[s]),-1!==e?this.children[e].insert1(this.amoebas[s]):t.push(this.amoebas[s]);this.amoebas=t}}getIndex(t){return t.xpos-t.radius>this.x&&t.xpos+t.radius<this.halfX&&t.ypos-t.radius>this.y&&t.ypos+t.radius<this.halfY?0:t.xpos-t.radius>this.halfX&&t.xpos+t.radius<this.endX&&t.ypos-t.radius>this.y&&t.ypos+t.radius<this.halfY?1:t.xpos-t.radius>this.x&&t.xpos+t.radius<this.halfX&&t.ypos-t.radius>this.halfY&&t.ypos+t.radius<this.endY?2:t.xpos-t.radius>this.halfX&&t.xpos+t.radius<this.endX&&t.ypos-t.radius>this.halfY&&t.ypos+t.radius<this.endY?3:-1}checkAllCollisions(){for(let t=0,e=this.amoebas.length;t<e;t++){for(let s=t+1;s<e;s++)this.amoebas[t].aabbCheck(this.amoebas[s]);for(let e=0,s=this.children.length;e<s;e++)this.children[e].checkCollision(this.amoebas[t])}for(let t=0,e=this.children.length;t<e;t++)this.children[t].checkAllCollisions()}checkCollision(t){for(let e=0,s=this.amoebas.length;e<s;e++)t.aabbCheck(this.amoebas[e]);for(let e=0,s=this.children.length;e<s;e++)this.children[e].checkCollision(t)}}n.prototype.maxAmoebas=10;var m=n;var l=class{constructor(t,e=2e4,s=2e4,i){this.ctx=t,this.audio=i,this.muted=!1,this.setupImages(),this.setupProportions(e,s),this.setupTime(),this.setupMouse(),this.homepageClock=null,this.clockAngle=0,this.mouseDownTime=null,this.mouseDownInterval=null,this.paused=!1,this.currentStatus="reset",this.homepageYOffset=0,this.homepageTime=null,this.mousePos={x:0,y:0},this.shiftDown=!1,this.homepageAlpha=0,this.showInstructions=!0,this.autoscaleTime=!0,this.animate=this.animate.bind(this),this.moveAmoebas=this.moveAmoebas.bind(this),this.makePause=this.makePause.bind(this),this.makeClock=this.makeClock.bind(this),this.makeGrid=this.makeGrid.bind(this),this.makeMassDisplay=this.makeMassDisplay.bind(this),this.makeMargins=this.makeMargins.bind(this),this.makeHomepage=this.makeHomepage.bind(this)}setupMouse(){this.mouseVars={},this.mouseVars.mouseDownTime=null,this.mouseVars.mouseOffset={x:0,y:0},r.prototype.mouseVars=this.mouseVars}setupTime(){this.timeVars={},this.timeVars.timeBase=10,this.timeVars.timeCoefficient=1,r.prototype.timeVars=this.timeVars}setupProportions(t,e){this.boardSize=t/3e4,this.boardVars={},this.boardVars.realBoardWidth=t,this.boardVars.realBoardHeight=e,this.boardVars.baseMass=5e4,this.boardVars.maxZoom=parseInt(50/Math.sqrt(1e5/Math.PI)*t/1e3),this.boardVars.absoluteMaxZoom=this.boardVars.maxZoom,this.boardVars.minZoom=.7,this.boardVars.currentZoom=this.boardVars.maxZoom,this.boardVars.boardWidth=this.boardVars.realBoardWidth/this.boardVars.currentZoom,this.boardVars.boardHeight=this.boardVars.realBoardHeight/this.boardVars.currentZoom,this.boardVars.boardFocus={x:this.boardVars.realBoardWidth/2,y:this.boardVars.realBoardHeight/2},r.prototype.boardVars=this.boardVars}setupImages(){this.iconImages={};["githubLogo","linkedInLogo","folderIcon","volume","volumeReverse","mute","muteReverse"].forEach(t=>this.setupImage(t))}setupImage(t){this.iconImages[t]=new Image,this.iconImages[t].src=`./assets/images/${t}.png`}addAmoebas(t,e,s){for(let i=0;i<t;i++){let t=e(),i=Math.sqrt(t/Math.PI),a=Math.floor(Math.random()*(this.boardVars.realBoardWidth-i))+i,o=Math.floor(Math.random()*(this.boardVars.realBoardHeight-i))+i,h={x:Math.floor(Math.random()*s)-s/2,y:Math.floor(Math.random()*s)-s/2},n=new r(this.ctx,a,o,t,h);for(;this.amoeboi&&this.amoeboi.collidesWith(n);)n.xpos=Math.floor(Math.random()*(this.boardVars.realBoardWidth-i))+i,n.ypos=Math.floor(Math.random()*(this.boardVars.realBoardHeight-i))+i;this.amoebas.push(n)}}setupAmoebas(t){let e,s;this.amoebas=[],this.amoeboi=t?new h(this.ctx,this.boardVars.realBoardWidth/2,this.boardVars.realBoardHeight/2,1e7,{x:0,y:0}):null,this.quadTree=new m(0,0,this.boardVars.realBoardWidth,this.boardVars.realBoardHeight),s=()=>(e=Math.pow(this.boardVars.realBoardHeight/30*Math.PI,2),Math.floor(Math.random()*e*4+e)),this.addAmoebas(parseInt(2*this.boardSize),s,1e6),s=()=>Math.floor(4e6*Math.random()*Math.pow(this.boardSize,2)+1e6*Math.pow(this.boardSize,2)),this.addAmoebas(parseInt(20*this.boardSize),s,1e6),s=()=>Math.floor(4e5*Math.random()+1e5),this.addAmoebas(parseInt(700*this.boardSize),s,1e6),s=()=>Math.floor(4e5*Math.random()+1e4),this.addAmoebas(parseInt(50*this.boardSize),s,1e6),s=()=>Math.floor(1e4*Math.random()+1e4),this.addAmoebas(parseInt(1e4*this.boardSize),s,1e5);for(let t=0;t<this.amoebas.length;t++)this.quadTree.insert1(this.amoebas[t]);t&&(this.amoeboi.mass/=100,this.amoeboi.adjustRadius())}animate(){if(this.ctx.clearRect(0,0,innerWidth,innerHeight),this.makeGrid(this.ctx),"reset"===this.currentStatus)return this.boardVars.maxZoom=4,this.boardVars.currentZoom=2,this.timeVars.timeCoefficient=.5,this.boardVars.boardHeight=this.boardVars.realBoardHeight/this.boardVars.currentZoom,this.boardVars.boardWidth=this.boardVars.realBoardWidth/this.boardVars.currentZoom,this.boardVars.baseMass=5e4,this.setupAmoebas(!1),this.boardVars.boardFocus={x:this.boardVars.realBoardWidth/2,y:this.boardVars.realBoardHeight/2},this.currentStatus="homepage",requestAnimationFrame(this.animate);if("setup"===this.currentStatus)return this.setupProportions(3e4,3e4),this.setupAmoebas(!0),this.homepageYOffset=0,this.boardVars.currentZoom=4,this.timeVars.timeCoefficient=.5,this.boardVars.boardHeight=this.boardVars.realBoardHeight/this.boardVars.currentZoom,this.boardVars.boardWidth=this.boardVars.realBoardWidth/this.boardVars.currentZoom,this.boardVars.baseMass=this.amoeboi.mass,this.boardVars.boardFocus={x:this.amoeboi.xpos,y:this.amoeboi.ypos},this.currentStatus="playing",this.showInstructions=!0,this.audio.playbackRate=.5+1/(1+Math.pow(Math.E,-10*a(10,this.timeVars.timeCoefficient)))*3.5,requestAnimationFrame(this.animate);if("nextLevel"===this.currentStatus)return this.homepageYOffset=0,this.boardVars.currentZoom=4,this.timeVars.timeCoefficient=.5,this.setupProportions(1.2*this.boardVars.realBoardWidth+(500-1.2*this.boardVars.realBoardWidth%500),1.2*this.boardVars.realBoardHeight+(500-1.2*this.boardVars.realBoardHeight%500)),this.setupAmoebas(!0),this.boardVars.baseMass=this.amoeboi.mass,this.boardVars.boardFocus={x:this.amoeboi.xpos,y:this.amoeboi.ypos},this.currentStatus="playing",this.showInstructions=!0,this.audio.playbackRate=.5+1/(1+Math.pow(Math.E,-10*a(10,this.timeVars.timeCoefficient)))*3.5,requestAnimationFrame(this.animate);if("homepage"===this.currentStatus)return this.moveAmoebas(this.ctx),this.makeHomepage(this.ctx),requestAnimationFrame(this.animate);if("movingToInstructions"===this.currentStatus)return this.homepageYOffset>-1e3?this.homepageYOffset-=20:this.currentStatus="instructions",this.moveAmoebas(this.ctx),this.makeHomepage(this.ctx),requestAnimationFrame(this.animate);if("instructions"===this.currentStatus)return this.moveAmoebas(this.ctx),this.makeHomepage(this.ctx),requestAnimationFrame(this.animate);if("movingToHomePage"===this.currentStatus)return this.homepageYOffset<0?this.homepageYOffset+=20:this.currentStatus="homepage",this.moveAmoebas(this.ctx),this.makeHomepage(this.ctx),requestAnimationFrame(this.animate);if("coloringLoseScreen"===this.currentStatus)return this.boardVars.boardFocus.x+=this.boardVars.boardFocus.x<this.boardVars.realBoardWidth/2?10:-10,this.boardVars.boardFocus.y+=this.boardVars.boardFocus.y<this.boardVars.realBoardHeight/2?10:-10,this.boardVars.currentZoom=this.boardVars.currentZoom>1?.9*this.boardVars.currentZoom:this.boardVars.currentZoom,this.boardVars.boardHeight=this.boardVars.realBoardHeight/this.boardVars.currentZoom,this.boardVars.boardWidth=this.boardVars.realBoardWidth/this.boardVars.currentZoom,this.boardVars.baseMass=0,this.moveAmoebas(this.ctx),this.homepageAlpha<.5?(this.homepageAlpha+=.05,this.ctx.globalAlpha=this.homepageAlpha,this.ctx.fillStyle="black",this.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),requestAnimationFrame(this.animate)):(this.ctx.globalAlpha=this.homepageAlpha,this.ctx.fillStyle="black",this.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),this.homepageYOffset=1500,this.homepageAlpha=0,this.currentStatus="movingToLoseScreen",requestAnimationFrame(this.animate));if("movingToLoseScreen"===this.currentStatus)return this.homepageYOffset>1e3?this.homepageYOffset-=20:this.currentStatus="losescreen",this.moveAmoebas(this.ctx),this.makeHomepage(this.ctx),requestAnimationFrame(this.animate);if("losescreen"===this.currentStatus)return this.moveAmoebas(this.ctx),this.makeHomepage(this.ctx),requestAnimationFrame(this.animate);if("losescreenToHomePage"===this.currentStatus)return this.homepageYOffset>0?this.homepageYOffset-=20:this.currentStatus="homepage",this.moveAmoebas(this.ctx),this.makeHomepage(this.ctx),requestAnimationFrame(this.animate);if(this.paused)return this.amoebas.forEach(t=>{t.draw()}),this.amoeboi.draw(),this.makePause(this.ctx),requestAnimationFrame(this.animate);if("playing"===this.currentStatus&&this.checkWin()&&(this.currentStatus="coloringWinScreen"),"coloringWinScreen"===this.currentStatus)return this.boardVars.boardFocus.x+=this.boardVars.boardFocus.x<this.boardVars.realBoardWidth/2?10:-10,this.boardVars.boardFocus.y+=this.boardVars.boardFocus.y<this.boardVars.realBoardHeight/2?10:-10,this.boardVars.currentZoom=this.boardVars.currentZoom>1?.9*this.boardVars.currentZoom:this.boardVars.currentZoom,this.boardVars.boardHeight=this.boardVars.realBoardHeight/this.boardVars.currentZoom,this.boardVars.boardWidth=this.boardVars.realBoardWidth/this.boardVars.currentZoom,this.boardVars.baseMass=this.amoeboi.mass,this.moveAmoebas(this.ctx),this.homepageAlpha<.5?(this.homepageAlpha+=.05,this.ctx.globalAlpha=this.homepageAlpha,this.ctx.fillStyle="black",this.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),requestAnimationFrame(this.animate)):(this.ctx.globalAlpha=this.homepageAlpha,this.ctx.fillStyle="black",this.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),this.homepageYOffset=1500,this.homepageAlpha=0,this.currentStatus="movingToWinScreen",requestAnimationFrame(this.animate));if("movingToWinScreen"===this.currentStatus)return this.homepageYOffset>1e3?this.homepageYOffset-=20:this.currentStatus="winScreen",this.boardVars.baseMass=this.amoeboi.mass,this.moveAmoebas(this.ctx),this.makeWinScreen(this.ctx),requestAnimationFrame(this.animate);if("winScreen"===this.currentStatus)return this.boardVars.baseMass=this.amoeboi.mass,this.moveAmoebas(this.ctx),this.makeWinScreen(this.ctx),requestAnimationFrame(this.animate);if(this.moveAmoebas(this.ctx),this.makeMargins(this.ctx),this.makeMassDisplay(this.ctx),this.makeInstructions(this.ctx),this.autoscaleTime){let t=this.amoebas[0];this.amoebas.forEach(e=>{t=t.radius<e.radius?e:t}),this.timeVars.timeCoefficient=this.amoeboi.radius/t.radius*this.timeVars.timeBase*.75}this.amoeboi.mass>0?(this.boardVars.boardFocus={x:this.amoeboi.xpos,y:this.amoeboi.ypos},this.boardVars.baseMass=this.amoeboi.mass,this.amoeboi.radius/this.boardVars.realBoardWidth*1e3*this.boardVars.currentZoom>75&&(this.boardVars.maxZoom=i(75/(this.amoeboi.radius/this.boardVars.realBoardWidth*1e3),1,this.boardVars.absoluteMaxZoom),this.boardVars.currentZoom=i(.9999999*this.boardVars.currentZoom,this.boardVars.minZoom,this.boardVars.maxZoom),this.boardVars.boardHeight=this.boardVars.realBoardHeight/this.boardVars.currentZoom,this.boardVars.boardWidth=this.boardVars.realBoardWidth/this.boardVars.currentZoom),this.amoeboi.radius/this.boardVars.realBoardWidth*1e3*this.boardVars.maxZoom<75&&(this.boardVars.maxZoom=i(75/(this.amoeboi.radius/this.boardVars.realBoardWidth*1e3),1,this.boardVars.absoluteMaxZoom))):this.currentStatus="coloringLoseScreen",requestAnimationFrame(this.animate)}moveAmoebas(t){this.amoebas=this.amoebas.filter(t=>t.mass>0),this.quadTree.clear();for(let t=0;t<this.amoebas.length;t++)this.quadTree.insert1(this.amoebas[t]);t.globalAlpha=.8,this.amoebas.forEach(t=>{t.move(),t.draw()}),this.amoeboi&&this.amoeboi.move(),this.amoeboi&&this.amoeboi.draw(),t.globalAlpha=1,this.quadTree.checkAllCollisions(),this.amoebas.forEach(t=>{this.amoeboi&&this.amoeboi.aabbCheck(t),this.amoeboi&&t.aabbCheck(this.amoeboi),t.wallCollision()}),this.amoeboi&&this.amoeboi.wallCollision()}checkWin(){for(let t=0,e=this.amoebas.length;t<e;t++)if(this.amoeboi.mass<this.amoebas[t].mass)return!1;return!0}makePause(t){t.globalAlpha=.5,t.fillStyle="black",t.fillRect(0,0,window.innerWidth,window.innerHeight);let e=this.mousePos.x/window.innerWidth*50,s=this.mousePos.y/window.innerHeight*50;Math.sin((Date.now()-this.homepageTime)%1500/1500*Math.PI);t.globalAlpha=1,t.fillStyle="white",t.font="70px Impact";let i=window.innerWidth/2-75-e,a=window.innerHeight/2+50-s+this.homepageYOffset;t.fillText("PAUSED",i,a)}makeClock(t){t.globalAlpha=.7,t.beginPath(),t.arc(120,120,65,0,(a(this.timeVars.timeBase,this.timeVars.timeCoefficient)+1)/2*Math.PI*2),t.strokeStyle="orange",t.lineWidth=5,t.stroke(),t.beginPath(),t.arc(120,120,60,0,2*Math.PI),t.strokeStyle="black",t.lineWidth=3,t.stroke(),t.globalAlpha=.8,t.fillStyle="white",t.fill(),t.beginPath(),t.moveTo(120,120),t.lineTo(120+60*Math.cos(this.clockAngle*Math.PI/180),120+60*Math.sin(this.clockAngle*Math.PI/180)),t.fillStyle="black",t.stroke(),this.clockAngle=(this.clockAngle+this.timeVars.timeCoefficient)%360,t.globalAlpha=1}makeGrid(t){t.globalAlpha=.4;let e=0,s=(0-this.boardVars.boardFocus.y)/(this.boardVars.boardHeight/2)*500+window.innerHeight/2+this.mouseVars.mouseOffset.y,i=(this.boardVars.realBoardHeight-this.boardVars.boardFocus.y)/(this.boardVars.boardHeight/2)*500+window.innerHeight/2+this.mouseVars.mouseOffset.y;for(;e<=this.boardVars.realBoardWidth;){t.fillStyle=e===this.boardVars.realBoardWidth||0===e?"red":"black";let a=(e-this.boardVars.boardFocus.x)/(this.boardVars.boardWidth/2)*500+window.innerWidth/2;t.fillRect(a+this.mouseVars.mouseOffset.x,s,2,i-s),e+=500}let a=0,o=(0-this.boardVars.boardFocus.x)/(this.boardVars.boardWidth/2)*500+window.innerWidth/2+this.mouseVars.mouseOffset.x,r=(this.boardVars.realBoardWidth-this.boardVars.boardFocus.x)/(this.boardVars.boardWidth/2)*500+window.innerWidth/2+this.mouseVars.mouseOffset.x;for(;a<=this.boardVars.realBoardHeight;){t.fillStyle=a===this.boardVars.realBoardHeight||0===a?"red":"black";let e=(a-this.boardVars.boardFocus.y)/(this.boardVars.boardHeight/2)*500+window.innerHeight/2;t.fillRect(o,e+this.mouseVars.mouseOffset.y,r-o,2),a+=500}t.globalAlpha=1}makeMassDisplay(t){let e;t.globalAlpha=.7,t.fillStyle="black",e=this.amoeboi.mass>0?130+15*i(Math.floor(Math.log10(this.amoeboi.mass/100),1,1e4)):145,t.fillRect(window.innerWidth-220,65,e,50),t.globalAlpha=1,t.fillStyle="white",t.font="30px Impact",t.fillText(`Mass: ${Math.floor(this.amoeboi.mass/100)}`,window.innerWidth-200,100)}makeInstructions(t){if(t.globalAlpha=.7,t.fillStyle="black",!this.showInstructions)return t.fillRect(50,65,340,50),t.globalAlpha=1,t.fillStyle="white",t.font="20px Arial Black",void t.fillText("PRESS I FOR INSTRUCTIONS",60,100);t.globalAlpha=.7,t.fillStyle="black",t.fillRect(50,65,365,320),t.globalAlpha=1,t.fillStyle="white",t.font="20px Arial Black",t.fillText("SPACE   :  Pause",60,95),t.fillText(" SHIFT   :  Look Around",61,135),t.fillText("SCROLL :  Zoom In/Out",60,170),t.fillText("     H      :  Main Menu",65,215),t.fillText("     R      :  Restart",65,255),t.fillText("     I       :  Toggle Instructions",67,295),t.fillText(`     M      :  Toggle Volume (${this.muted?"OFF":"ON"})`,63,335),t.fillText(`     A      :  Autoscale Time (${this.autoscaleTime?"ON":"OFF"})`,63,375)}makeMargins(t){t.globalAlpha=.7,t.fillStyle="black";let e=Math.floor(window.innerHeight/8),s=(Math.floor(window.innerWidth/8),window.innerWidth/2-250),i=window.innerHeight-e/2-25,o=(a(this.timeVars.timeBase,this.timeVars.timeCoefficient)+1)/2;t.fillStyle="black",t.fillRect(s-10,i,520,50),t.fillStyle="white",t.fillRect(s+500*o-10,i,20,50),t.globalAlpha=1}makeWinScreen(t){t.globalAlpha=.5,t.fillStyle="black",t.fillRect(0,0,window.innerWidth,window.innerHeight);let e=this.mousePos.x/window.innerWidth*50,s=this.mousePos.y/window.innerHeight*50,i=window.innerWidth/2-195-e,a=window.innerHeight/2-80-s+this.homepageYOffset;t.globalAlpha=1,t.fillStyle="white",t.font="70px Impact",t.fillText("YOU'VE WON",i+55,a-920),t.font="40px Impact",t.fillText("Press C to continue",i+65,a-840)}makeHomepage(t){t.globalAlpha=.5,t.fillStyle="black",t.fillRect(0,0,window.innerWidth,window.innerHeight);let e=this.mousePos.x/window.innerWidth*50,s=this.mousePos.y/window.innerHeight*50,i=Math.sin((Date.now()-this.homepageTime)%1500/1500*Math.PI);t.globalAlpha=1,t.fillStyle="white",t.font="120px Impact";let a=window.innerWidth/2-195-e,o=window.innerHeight/2-80-s+this.homepageYOffset;t.fillText("AmoeBoi",a,o),t.globalAlpha=.7,t.fillStyle="rgb(0,0,50)",t.fillRect(a-300,o+885,1050,530),t.globalAlpha=1,t.fillStyle="rgb(240,240,240)",t.font=`${30+2*i}px Impact`,t.fillText("PRESS ENTER TO START",a+85-5*i,o+100+2*i),t.font="50px Impact",t.fillText("⬇ INSTRUCTIONS ⬇",a+15,o+360),t.fillText("⬆ MAIN MENU ⬆",a+50,o+850),t.font="25px Arial Black",t.fillText("Become the Biggest!",a+80,o+930),t.fillText("Absorb smaller amoebas, avoid the bigger ones,",a-105,o+1e3),t.fillText("and become the biggest blob in the land.",a-55,o+1030),t.fillText("Aim and hold the left mouse button to shoot out smaller amoebas",a-222.5,o+1100),t.fillText("and propel yourself the other way... but be careful!",a-120,o+1130),t.fillText("Every shot uses a little bit of your own mass.",a-80,o+1160),t.fillText("You can speed up or slow down time using the left/right arrow keys.",a-240,o+1230),t.fillText("Press space to pause the game",a+10,o+1300),t.fillText("and press H to return to the Main Menu at any time.",a-130,o+1330),t.fillText("PRESS ENTER TO START",a+50,o+1400),t.drawImage(this.iconImages.githubLogo,a-50,o+170,80,80),t.drawImage(this.iconImages.linkedInLogo,a+180,o+170,72,72),t.drawImage(this.iconImages.folderIcon,a+380,o+170,88,88),t.drawImage(this.muted?this.iconImages.mute:this.iconImages.volume,a-5,o+(this.muted?60:65),50,50),t.drawImage(this.muted?this.iconImages.muteReverse:this.iconImages.volumeReverse,a+400,o+(this.muted?60:65),50,50),t.fillStyle="white",t.font="70px Impact",t.fillText("YOU'VE LOST",a+55,o-920),t.font="40px Impact",t.fillText("Press R to play again",a+50,o-840),t.fillText("Press H to return to Main Menu",a-27.5,o-760)}};document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("background"),e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;let s=document.getElementById("audio"),o=new l(e,3e4,3e4,s);s.playbackRate=.5+1/(1+Math.pow(Math.E,-10*a(10,o.timeVars.timeCoefficient)))*3.5,s.volume=.5,window.onresize=()=>{t.width=window.innerWidth,t.height=window.innerHeight},window.addEventListener("click",t=>{if("homepage"===o.currentStatus){let e=o.mousePos.x/window.innerWidth*50,i=o.mousePos.y/window.innerHeight*50,a=window.innerWidth/2-195-e,r=window.innerHeight/2-80-i+o.homepageYOffset;t.pageX>a-40&&t.pageX<a+40&&t.pageY>r+170&&t.pageY<r+250?window.location="https://github.com/1stepremoved":t.pageX>a+180&&t.pageX<a+252&&t.pageY>r+170&&t.pageY<r+242?window.location="https://linkedin.com/in/hamilton-sands":t.pageX>a+380&&t.pageX<a+468&&t.pageY>r+170&&t.pageY<r+258?window.location="https://1stepremoved.github.io/portfolio/":t.pageX>a+75&&t.pageX<a+365&&t.pageY>r+315&&t.pageY<r+360?(o.currentStatus="movingToInstructions",document.body.style.cursor="default"):t.pageX>a-5&&t.pageX<a+45&&t.pageY>r+60&&t.pageY<r+110?0===s.volume?(s.volume=.5,o.muted=!1):(s.volume=0,o.muted=!0):t.pageX>a+400&&t.pageX<a+450&&t.pageY>r+60&&t.pageY<r+110&&(0===s.volume?(s.volume=.5,o.muted=!1):(s.volume=0,o.muted=!0))}else if("instructions"===o.currentStatus){let e=o.mousePos.x/window.innerWidth*50,s=o.mousePos.y/window.innerHeight*50,i=window.innerWidth/2-195-e,a=window.innerHeight/2-80-s+o.homepageYOffset;t.pageX>i+110&&t.pageX<i+335&&t.pageY>a+805&&t.pageY<a+850&&(o.currentStatus="movingToHomePage",document.body.style.cursor="default")}}),window.addEventListener("touchstart",t=>{if("playing"===o.currentStatus){if(clearInterval(o.mouseDownInterval),o.paused||2===t.button||"playing"!==o.currentStatus)return;o.mouseVars.mouseDownTime=Date.now(),o.amoeboi.mousePosX=t.touches[0].pageX,o.amoeboi.mousePosY=t.touches[0].pageY,o.amoeboi.propel(t,o.amoebas),o.mouseDownInterval=setInterval(()=>{o.amoeboi.propel(t,o.amoebas)},200)}}),window.addEventListener("touchmove",t=>{"playing"===o.currentStatus&&(o.amoeboi.mousePosX=t.touches[0].pageX,o.amoeboi.mousePosY=t.touches[0].pageY)}),window.addEventListener("touchend",t=>{t.touches.length>1||("homepage"===o.currentStatus?(o.currentStatus="setup",o.homepageYOffset=0):"losescreen"===o.currentStatus?(document.body.style.cursor="default",o.currentStatus="losescreenToHomePage"):"winScreen"===o.currentStatus?o.currentStatus="nextLevel":"playing"===o.currentStatus&&(o.mouseVars.mouseDownTime=null,clearInterval(o.mouseDownInterval)))}),window.addEventListener("mousedown",t=>{clearInterval(o.mouseDownInterval),o.paused||2===t.button||"playing"!==o.currentStatus||(o.mouseVars.mouseDownTime=Date.now(),o.amoeboi.mousePosX=t.pageX,o.amoeboi.mousePosY=t.pageY,o.amoeboi.propel(t,o.amoebas),o.mouseDownInterval=setInterval(()=>{o.amoeboi.propel(t,o.amoebas)},200))}),window.addEventListener("mousemove",t=>{if("homepage"===o.currentStatus){let e=o.mousePos.x/window.innerWidth*50,s=o.mousePos.y/window.innerHeight*50,i=window.innerWidth/2-195-e,a=window.innerHeight/2-80-s+o.homepageYOffset;t.pageX>i-40&&t.pageX<i+40&&t.pageY>a+170&&t.pageY<a+250?document.body.style.cursor="pointer":t.pageX>i+180&&t.pageX<i+252&&t.pageY>a+170&&t.pageY<a+242?document.body.style.cursor="pointer":t.pageX>i+380&&t.pageX<i+468&&t.pageY>a+170&&t.pageY<a+258?document.body.style.cursor="pointer":t.pageX>i+75&&t.pageX<i+365&&t.pageY>a+315&&t.pageY<a+360?document.body.style.cursor="pointer":t.pageX>i-5&&t.pageX<i+45&&t.pageY>a+60&&t.pageY<a+110?document.body.style.cursor="pointer":t.pageX>i+400&&t.pageX<i+450&&t.pageY>a+60&&t.pageY<a+110?document.body.style.cursor="pointer":document.body.style.cursor="default",window.innerHeight-t.pageY<30&&(o.currentStatus="movingToInstructions")}else if("instructions"===o.currentStatus){let e=o.mousePos.x/window.innerWidth*50,s=o.mousePos.y/window.innerHeight*50,i=window.innerWidth/2-195-e,a=window.innerHeight/2-80-s+o.homepageYOffset;t.pageX>i+110&&t.pageX<i+335&&t.pageY>a+805&&t.pageY<a+850?document.body.style.cursor="pointer":document.body.style.cursor="default",t.pageY<30&&(o.currentStatus="movingToHomePage")}else"playing"===o.currentStatus&&o.shiftDown&&(o.mouseVars.mouseOffset.x=(window.innerWidth/2-t.pageX)/2,o.mouseVars.mouseOffset.y=(window.innerHeight/2-t.pageY)/2);o.mousePos.x=t.pageX,o.mousePos.y=t.pageY,o.mouseVars.mouseDownTime&&(o.amoeboi.mousePosX=t.pageX,o.amoeboi.mousePosY=t.pageY)}),window.addEventListener("mouseup",t=>{o.mouseVars.mouseDownTime=null,clearInterval(o.mouseDownInterval)}),window.addEventListener("keydown",t=>{switch(t.keyCode){case 39:if(o.paused||"playing"!==o.currentStatus||o.autoscaleTime)return;return o.timeVars.timeCoefficient=Math.min(1.1*o.timeVars.timeCoefficient,o.timeVars.timeBase),void(s.playbackRate=.5+1/(1+Math.pow(Math.E,-10*a(10,o.timeVars.timeCoefficient)))*3.5);case 37:if(o.paused||"playing"!==o.currentStatus||o.autoscaleTime)return;return o.timeVars.timeCoefficient=Math.max(.9*o.timeVars.timeCoefficient,Math.pow(o.timeVars.timeBase,-1)),void(s.playbackRate=.5+1/(1+Math.pow(Math.E,-10*a(10,o.timeVars.timeCoefficient)))*3.5);case 65:if(o.paused||"playing"!==o.currentStatus)return;return void(o.autoscaleTime=!o.autoscaleTime);case 32:if("playing"!==o.currentStatus)return;return o.paused=!o.paused,void(o.mouseVars.mouseDownTime=null);case 72:return"instructions"===o.currentStatus?(document.body.style.cursor="default",void(o.currentStatus="movingToHomePage")):"losescreen"===o.currentStatus?(document.body.style.cursor="default",void(o.currentStatus="losescreenToHomePage")):(o.currentStatus="reset",void(o.paused=!1));case 73:return void(o.showInstructions=!o.showInstructions);case 82:return void("playing"!==o.currentStatus&&"losescreen"!==o.currentStatus&&"winScreen"!==o.currentStatus||(o.currentStatus="setup"));case 13:if(o.homepageTime=null,"homepage"!==o.currentStatus&&"instructions"!==o.currentStatus)return;return o.currentStatus="setup",void(o.homepageYOffset=0);case 16:return void(o.shiftDown=!0);case 67:return void("winScreen"===o.currentStatus&&(o.currentStatus="nextLevel"));case 77:0===s.volume?(s.volume=.5,o.muted=!1):(s.volume=0,o.muted=!0);default:return}}),window.addEventListener("keyup",t=>{switch(t.keyCode){case 16:return o.mouseVars.mouseOffset.x=0,o.mouseVars.mouseOffset.y=0,void(o.shiftDown=!1);default:return}});let r=/Firefox/i.test(navigator.userAgent)?"wheel":"mousewheel";document.addEventListener(r,t=>{if(t.preventDefault(),o.paused||"playing"!==o.currentStatus)return;let e=t.deltaY/-1e3;o.boardVars.currentZoom=i(o.boardVars.currentZoom+e,o.boardVars.minZoom,o.boardVars.maxZoom),o.boardVars.boardHeight=o.boardVars.realBoardHeight/o.boardVars.currentZoom,o.boardVars.boardWidth=o.boardVars.realBoardWidth/o.boardVars.currentZoom}),o.animate()})}]);
//# sourceMappingURL=bundle.js.map