{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/v1/util.js","webpack:///./lib/v1/amoeba.js","webpack:///./lib/v1/amoeboi.js","webpack:///./lib/v1/quadtree.js","webpack:///./lib/v1/game.js","webpack:///./lib/v1/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","boundNum","num","min","max","baseLog","x","y","Math","log","Amoeba","mass","momentum","assign","nextMomentum","xDelta","yDelta","xpos","timeVars","timeCoefficient","ypos","radius","sqrt","PI","amoeba","collision","distance","currentDistance","pow","amoebae","big","small","bubble","massDelta","boardVars","realBoardWidth","realBoardHeight","boardFocus","boardWidth","window","innerWidth","mouseVars","mouseOffset","boardHeight","innerHeight","ctx","relativeX","relativeY","relativeRadius","gradient","createRadialGradient","baseMass","addColorStop","isNaN","adjustRadius","relativeCoors","relativePos","currentZoom","colorize","beginPath","arc","fillStyle","fill","this","floor","random","color","momentumDelta","momentumMax","Amoeboi","e","amoebas","diffX","mousePosX","diffY","mousePosY","angle","atan2","dirX","cos","dirY","sin","Date","now","mouseDownTime","push","QuadTree","width","height","level","halfWidth","halfHeight","children","length","clear","index","getIndex","insert1","maxAmoebas","split","newAmoebas","halfX","halfY","endX","endY","amoebaeLen","j","aabbCheck","childrenLen","checkCollision","checkAllCollisions","Game","audio","timeBase","boardSize","maxZoom","parseInt","absoluteMaxZoom","minZoom","iconImages","forEach","fileName","setupImage","Image","src","massFunc","inertia","amoeboi","collidesWith","quadTree","addAmoebas","clearRect","makeGrid","currentStatus","setupAmoebas","requestAnimationFrame","animate","setupProportions","homepageYOffset","showInstructions","playbackRate","E","moveAmoebas","makeHomepage","homepageAlpha","globalAlpha","fillRect","paused","draw","makePause","checkWin","makeWinScreen","makeMargins","makeMassDisplay","makeInstructions","autoscaleTime","largest","a","filter","move","wallCollision","mouseOffsetX","mousePos","mouseOffsetY","homepageTime","font","titlePosX","titlePosY","fillText","strokeStyle","lineWidth","stroke","moveTo","lineTo","clockAngle","realX","topBorderY","bottomBorderY","lineX","realY","leftBorderX","rightBorderX","lineY","displayWidth","log10","muted","marginHeight","timebarX","timebarWidth","timebarY","timebarHeight","time0to1","homepageWave","drawImage","githubLogo","linkedInLogo","folderIcon","mute","volume","muteReverse","volumeReverse","setupImages","setupTime","setupMouse","homepageClock","mouseDownInterval","shiftDown","document","addEventListener","canvas","getElementById","getContext","game","onresize","pageX","pageY","location","body","style","cursor","clearInterval","button","touches","propel","setInterval","keyCode","mousewheelevent","test","navigator","userAgent","preventDefault","zoomDelta","deltaY"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export const boundNum = (num, min, max) => {\n  if (num > max) {\n    return max;\n  } else if (num < min) {\n    return min;\n  } else {\n    return num;\n  }\n};\n\nexport const baseLog = (x, y) => {\n  return Math.log(y) / Math.log(x);\n};\n\nexport const transitionVar = (variable, start, stop, rate = .01) => {\n  const isGoingUp = (start < stop);\n  const transitionRate = (isGoingUp) ? 1 + rate : 1 - rate;\n  if ((isGoingUp && start > stop * .99) || (!isGoingUp && start < stop * 1.01)) {\n    return variable;\n  } else {\n    return variable * transitionRate;\n  }\n};\n","import { boundNum } from './util';\n\nclass Amoeba {\n  constructor(x, y, mass, momentum) {\n    this.mass = mass || Math.floor((Math.random() * 100000) + 10000);\n    this.radius = Math.sqrt(this.mass / (Math.PI));\n    this.xpos = x || Math.floor(Math.random() * (this.boardVars.realBoardWidth - this.radius)) + this.radius;\n    this.ypos = y || Math.floor(Math.random() * (this.boardVars.realBoardHeight - this.radius)) + this.radius;\n    this.momentum = momentum || {x: Math.floor(Math.random() * 1000000) - 500000, y: Math.floor(Math.random() * 1000000) - 500000};\n    this.nextMomentum = Object.assign({}, this.momentum);\n    this.color = \"blue\";\n  }\n\n  move = () => {\n    this.momentum = Object.assign({}, this.nextMomentum);\n    let xDelta = (this.mass > 0 ? this.momentum['x'] / this.mass : 0);\n    let yDelta = (this.mass > 0 ? this.momentum['y'] / this.mass : 0);\n    this.xpos += xDelta * this.timeVars.timeCoefficient;\n    this.ypos += yDelta * this.timeVars.timeCoefficient;\n  };\n\n  adjustRadius = () => {\n    this.radius = Math.sqrt(this.mass / (Math.PI));\n  };\n\n  aabbCheck = (amoeba) => {\n    if (amoeba.xpos + amoeba.radius + this.radius > this.xpos\n     && amoeba.xpos < this.xpos + this.radius + amoeba.radius\n     && amoeba.ypos + amoeba.radius + this.radius > this.ypos\n     && amoeba.ypos < this.ypos + this.radius + amoeba.radius) {\n      this.collision(amoeba);\n     }\n  };\n\n  collision = (amoeba) => {\n    let distance = this.radius + amoeba.radius;\n    let currentDistance = Math.sqrt(\n      Math.pow(this.xpos - amoeba.xpos ,2)  + Math.pow(this.ypos - amoeba.ypos ,2)\n    );\n    if (distance > currentDistance){\n\n      this.nextMomentum['x'] += boundNum(amoeba.momentum['x']\n        * amoeba.mass * (currentDistance / distance) * this.timeVars.timeCoefficient, -50, 50);\n      amoeba.nextMomentum['x'] = amoeba.nextMomentum['x']\n        * boundNum(amoeba.mass / this.mass, .99, 1);\n\n      amoeba.nextMomentum['x'] += boundNum(this.momentum['x']\n        * this.mass * (currentDistance / distance) * this.timeVars.timeCoefficient, -50, 50);\n      this.nextMomentum['x'] = this.nextMomentum['x']\n        * boundNum(this.mass / amoeba.mass, .99, 1);\n\n      this.nextMomentum['y'] += boundNum(amoeba.momentum['y']\n        * amoeba.mass * (currentDistance / distance) * this.timeVars.timeCoefficient, -50, 50);\n      amoeba.nextMomentum['y'] = amoeba.nextMomentum['y']\n        * boundNum(amoeba.mass / this.mass, .99, 1);\n\n      amoeba.nextMomentum['y'] += boundNum(this.momentum['y']\n        * this.mass * (currentDistance / distance) * this.timeVars.timeCoefficient, -50, 50);\n      this.nextMomentum['y'] = this.nextMomentum['y']\n        * boundNum(this.mass / amoeba.mass, .99, 1);\n\n      let amoebae;\n      if (this.mass <= amoeba.mass) {\n        amoebae = {big: amoeba, small: this};\n      } else {\n        amoebae = {big: this, small: amoeba};\n      }\n        if ((currentDistance - amoebae['big'].radius) < 0 || amoebae['small'].mass < 100) {\n          amoebae['big'].mass += amoebae['small'].mass;\n          amoebae['small'].mass = 0;\n          amoebae['big'].nextMomentum['x'] += amoebae['small'].nextMomentum['x'];\n          amoebae['big'].nextMomentum['y'] += amoebae['small'].nextMomentum['y'];\n          return;\n        }\n\n        let bubble = amoebae['small'].massDelta * amoebae['small'].mass\n            * boundNum( (amoebae['small'].radius - (currentDistance - amoebae['big'].radius)) / amoebae['small'].radius, .01, .1)\n            * boundNum(this.timeVars.timeCoefficient, 0.5, 2);\n\n        amoebae['small'].mass -= bubble;\n        amoebae['big'].mass += bubble;\n    }\n  };\n\n  collidesWith = (amoeba) => {\n    let distance = this.radius + amoeba.radius;\n    let currentDistance = Math.sqrt(\n      Math.pow(this.xpos - amoeba.xpos ,2)  + Math.pow(this.ypos - amoeba.ypos ,2)\n    );\n    if (distance > currentDistance) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  wallCollision = () => {\n    if (this.xpos + this.radius >= this.boardVars.realBoardWidth) {\n      this.nextMomentum['x'] = -1 * this.momentum['x'];\n      this.xpos = this.boardVars.realBoardWidth - this.radius - 1;\n    } else if (this.xpos - this.radius <= 0) {\n      this.nextMomentum['x'] = -1 * this.momentum['x'];\n      this.xpos = 0 + this.radius + 1;\n    }\n    if (this.ypos + this.radius >= this.boardVars.realBoardHeight) {\n      this.nextMomentum['y'] = -1 * this.momentum['y'];\n      this.ypos = this.boardVars.realBoardHeight - this.radius - 1;\n    } else if (this.ypos - this.radius <= 0) {\n      this.nextMomentum['y'] = -1 * this.momentum['y'];\n      this.ypos = 0 + this.radius + 1;\n    }\n  };\n\n  relativePos = () => {\n    let relativeX = (((this.xpos - this.boardVars.boardFocus['x']) / (this.boardVars.boardWidth / 2)) * 500)\n                       + (window.innerWidth / 2) + this.mouseVars.mouseOffset['x'];\n    let relativeY = (((this.ypos - this.boardVars.boardFocus['y']) / (this.boardVars.boardHeight/ 2)) * 500)\n                       + (window.innerHeight / 2) + this.mouseVars.mouseOffset['y'];\n    return {x: relativeX, y: relativeY};\n  };\n\n  colorize = (ctx, relativeX, relativeY, relativeRadius) => {\n    if (this.mass <= 0) {\n      return;\n    }\n\n    let gradient = ctx.createRadialGradient(relativeX, relativeY,relativeRadius, relativeX, relativeY, 0);\n    if (this.mass < this.boardVars.baseMass) {\n      gradient.addColorStop(0, `rgb(${20}, ${20}, ${255})`);\n      gradient.addColorStop(boundNum(1 - (this.mass / this.boardVars.baseMass),0, 1) , `rgb(${50}, ${20}, ${200})`);\n      gradient.addColorStop(1 , `rgb(${255}, ${20}, ${20})`);\n    } else {\n      gradient.addColorStop(0, `rgb(${255}, ${20}, ${20})`);\n      gradient.addColorStop(boundNum(1 -(this.boardVars.baseMass / this.mass), 0, 1) , `rgb(${200}, ${20}, ${50})` );\n      gradient.addColorStop(1 , `rgb(${20}, ${20}, ${255})`);\n    }\n    return gradient;\n  };\n\n  draw = (ctx) => {\n    if (this.mass <= 0) {\n      return;\n    }\n    if (isNaN(this.xpos) || isNaN(this.ypos) ){\n      // DEBUG: somehow these get turned into NaN when absorbed completely by another amoeba\n      this.mass = 0;\n      return;\n    }\n\n    this.adjustRadius();\n\n    let relativeCoors = this.relativePos();\n\n    let relativeRadius = this.radius / this.boardVars.realBoardWidth * 1000 * this.boardVars.currentZoom;\n\n    //radius cannot be kept proportional to window.innerWidth, it will throw off their size on screen\n\n    let gradient = this.colorize(ctx, relativeCoors['x'], relativeCoors['y'],relativeRadius);\n\n    ctx.beginPath();\n    ctx.arc(relativeCoors['x'], relativeCoors['y'], relativeRadius, 0, Math.PI * 2);\n    ctx.fillStyle=gradient;\n    ctx.fill();\n  };\n}\n\nAmoeba.prototype.momentumDelta = 1;\nAmoeba.prototype.massDelta =  1 / 2;\nAmoeba.prototype.momentumMax = 10;\n\nexport default Amoeba;\n","import Amoeba from './amoeba';\nimport { boundNum } from './util';\n\nclass Amoeboi extends Amoeba {\n  constructor(x, y, mass, momentum) {\n    super(x, y, mass, momentum);\n    this.mousePosX = null;\n    this.mousePosY = null;\n  }\n\n  colorize = (ctx, relativeX, relativeY, relativeRadius) => {\n    if (this.mass <= 0) {\n      return;\n    }\n    let gradient = ctx.createRadialGradient(relativeX, relativeY,relativeRadius, relativeX, relativeY, 0);\n    gradient.addColorStop(0, `rgb(${0}, ${255}, ${0})`);\n    gradient.addColorStop(1, `rgb(${0}, ${150}, ${0})`);\n    return gradient;\n  };\n\n  propel = (e, amoebas) => {\n    if (this.mass <= 0) {\n      return;\n    }\n    let diffX = this.mousePosX - (window.innerWidth / 2);\n    let diffY = this.mousePosY - (window.innerHeight / 2);\n    let angle = Math.atan2(diffY, diffX);\n    let dirX = Math.cos(angle);\n    let dirY = Math.sin(angle);\n\n    let mass = this.mass * boundNum(((Date.now() - this.mouseVars.mouseDownTime) / 30000), .01, .1);\n    this.mass -= mass;\n    let radius = Math.sqrt(mass / (Math.PI));\n    let xpos = this.xpos + (dirX * this.radius) + ((dirX > 0 ) ? radius : -1 * radius);\n    let ypos = this.ypos + (dirY * this.radius) + ((dirY > 0 ) ? radius : -1 * radius);\n    let momentum = {x: mass * 50 * dirX * 2, y: mass * 50 * dirY * 2};\n    amoebas.push(new Amoeba(xpos, ypos, mass, momentum));\n    this.nextMomentum['x'] += momentum['x'] * -1 * 3;\n    this.nextMomentum['y'] += momentum['y'] * -1 * 3;\n    let distance = Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2) );\n  };\n\n}\n\nexport default Amoeboi;\n","import Amoeba from './amoeba';\nimport AmoeBoi from './amoeboi';\n\nclass QuadTree {\n  constructor(x, y, width,height,level = 0) {\n    this.children = [];\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.endX = this.x + this.width;\n    this.endY = this.y + this.height;\n    this.halfX = this.x +  Math.floor(this.width / 2);\n    this.halfY = this.y +  Math.floor(this.height / 2);\n    this.level = level;\n\n    this.amoebas = [];\n  }\n\n  split = () => {\n    let halfWidth = Math.floor(this.width / 2);\n    let halfHeight = Math.floor(this.height / 2);\n    this.children.push(new QuadTree(this.x, this.y, halfWidth , halfHeight, this.level + 1));\n    this.children.push(new QuadTree(this.x + halfWidth, this.y, halfWidth , halfHeight, this.level + 1));\n    this.children.push(new QuadTree(this.x, this.y + halfHeight, halfWidth , halfHeight, this.level + 1));\n    this.children.push(new QuadTree(this.x + halfWidth, this.y + halfHeight, halfWidth , halfHeight, this.level + 1));\n  };\n\n  clear = () => {\n    this.amoebas = [];\n    for (let i = 0; i < this.children.length; i++) {\n      this.children[i].clear();\n      this.children[i] = null;\n    }\n    if (this.level === 0) {\n      this.children = [];\n    }\n  };\n\n  insert1 = (amoeba) => {\n    let index = this.getIndex(amoeba);\n    if (this.children.length > 0 && index !== -1) {\n      return this.children[index].insert1(amoeba);\n    }\n\n    this.amoebas.push(amoeba);\n\n    if (this.children.length === 0 && this.amoebas.length > this.maxAmoebas) {\n      this.split();\n      let newAmoebas = [];\n      for (let i = 0; i < this.amoebas.length; i++) {\n        index = this.getIndex(this.amoebas[i]);\n        if (index !== -1) {\n          this.children[index].insert1(this.amoebas[i]);\n        } else {\n          newAmoebas.push(this.amoebas[i]);\n        }\n      }\n      this.amoebas = newAmoebas;\n    }\n  };\n\n  getIndex = (amoeba) => {\n    if ((amoeba.xpos - amoeba.radius) > this.x && (amoeba.xpos + amoeba.radius) < this.halfX\n     && (amoeba.ypos - amoeba.radius) > this.y && (amoeba.ypos + amoeba.radius) < this.halfY) {\n       return 0;\n    } else if ((amoeba.xpos - amoeba.radius) > this.halfX && (amoeba.xpos + amoeba.radius) < this.endX\n     && (amoeba.ypos - amoeba.radius) > this.y && (amoeba.ypos + amoeba.radius) < this.halfY) {\n       return 1;\n    } else if ((amoeba.xpos - amoeba.radius) > this.x && (amoeba.xpos + amoeba.radius) < this.halfX\n     && (amoeba.ypos - amoeba.radius) > this.halfY && (amoeba.ypos + amoeba.radius) < this.endY) {\n       return 2;\n    } else if ((amoeba.xpos - amoeba.radius) > this.halfX && (amoeba.xpos + amoeba.radius) < this.endX\n     && (amoeba.ypos - amoeba.radius) > this.halfY && (amoeba.ypos + amoeba.radius) < this.endY) {\n       return 3;\n    } else {\n      return -1;\n    }\n  };\n\n  checkAllCollisions = () => {\n    for (let i = 0, amoebaeLen = this.amoebas.length; i < amoebaeLen; i++) {\n      for (let j = i + 1; j < amoebaeLen; j++) {\n        this.amoebas[i].aabbCheck(this.amoebas[j]);\n      }\n      for (let j = 0, childrenLen = this.children.length; j < childrenLen; j++) {\n        this.children[j].checkCollision(this.amoebas[i]);\n      }\n    }\n\n    for (let i = 0, childrenLen = this.children.length; i <childrenLen; i++) {\n      this.children[i].checkAllCollisions();\n    }\n  };\n\n  checkCollision = (amoeba) => {\n    for (let i = 0, amoebaeLen = this.amoebas.length; i < amoebaeLen; i++) {\n      amoeba.aabbCheck(this.amoebas[i]);\n    }\n\n    for (let i = 0,  childrenLen = this.children.length; i < childrenLen; i++) {\n      this.children[i].checkCollision(amoeba);\n    }\n  };\n\n}\n\nQuadTree.prototype.maxAmoebas = 10;\n\nexport default QuadTree;\n","import { boundNum, baseLog } from './util';\nimport Amoeba from './amoeba.js';\nimport Amoeboi from './amoeboi.js';\nimport QuadTree from './quadtree.js';\n\nclass Game {\n  constructor(ctx, realBoardWidth=20000, realBoardHeight=20000, audio) {\n    this.ctx = ctx;\n    this.audio = audio;\n    this.muted = false;\n\n    this.setupImages();\n    this.setupProportions(realBoardWidth, realBoardHeight);\n    this.setupTime();\n    this.setupMouse();\n\n    this.homepageClock = null;\n    this.clockAngle = 0;\n    this.mouseDownTime = null;\n    this.mouseDownInterval = null;\n    this.paused = false;\n    this.currentStatus = \"reset\";\n    this.homepageYOffset = 0;\n    this.homepageTime = null;\n    this.mousePos = {x: 0, y: 0};\n    this.shiftDown = false;\n    this.homepageAlpha = 0;\n    this.showInstructions = true;\n    this.autoscaleTime = true;\n  }\n\n  setupMouse = () => {\n    this.mouseVars = {};\n    this.mouseVars.mouseDownTime = null;\n    this.mouseVars.mouseOffset = {x: 0, y: 0};\n\n    Amoeba.prototype.mouseVars = this.mouseVars;\n  };\n\n  setupTime = () => {\n    this.timeVars = {};\n    this.timeVars.timeBase = 10;\n    this.timeVars.timeCoefficient = 1;\n\n    Amoeba.prototype.timeVars = this.timeVars;\n  };\n\n  setupProportions = (realBoardWidth, realBoardHeight) => {\n    this.boardSize = (realBoardWidth / 30000);\n\n    this.boardVars = {};\n    this.boardVars.realBoardWidth = realBoardWidth;\n    this.boardVars.realBoardHeight = realBoardHeight;\n    this.boardVars.baseMass = 50000;\n    this.boardVars.maxZoom = parseInt(50 / Math.sqrt(100000 / Math.PI) * realBoardWidth / 1000); //100000 is the starting mass for amoeboi\n    this.boardVars.absoluteMaxZoom = this.boardVars.maxZoom;\n    this.boardVars.minZoom = 0.7;\n    this.boardVars.currentZoom = this.boardVars.maxZoom;\n    this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n    this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n    this.boardVars.boardFocus = {x: this.boardVars.realBoardWidth / 2, y: this.boardVars.realBoardHeight / 2};\n\n    Amoeba.prototype.boardVars = this.boardVars;\n  };\n\n  setupImages = () => {\n    this.iconImages = {};\n    let fileNames = ['githubLogo', 'linkedInLogo', 'folderIcon', 'volume','volumeReverse','mute', 'muteReverse'];\n    fileNames.forEach(fileName => this.setupImage(fileName));\n  };\n\n  setupImage = (fileName) => {\n    this.iconImages[fileName] = new Image();\n    this.iconImages[fileName].src = `./assets/images/${fileName}.png`;\n  };\n\n  addAmoebas = (num, massFunc, inertia) => {\n    for (let i = 0; i < num; i++) {\n      let mass = massFunc();\n      let radius = Math.sqrt(mass / (Math.PI));\n      let xpos = Math.floor(Math.random() * (this.boardVars.realBoardWidth - radius)) + radius;\n      let ypos = Math.floor(Math.random() * (this.boardVars.realBoardHeight - radius)) + radius;\n      let momentum = {x: Math.floor(Math.random() * inertia) - (inertia / 2), y: Math.floor(Math.random() * inertia) - (inertia / 2)};\n      let amoeba = new Amoeba(xpos, ypos, mass, momentum);\n      while (this.amoeboi && this.amoeboi.collidesWith(amoeba)) {\n        amoeba.xpos = Math.floor(Math.random() * (this.boardVars.realBoardWidth - radius)) + radius;\n        amoeba.ypos = Math.floor(Math.random() * (this.boardVars.realBoardHeight - radius)) + radius;\n      }\n      this.amoebas.push(amoeba);\n    }\n  };\n\n  setupAmoebas = (amoeboi) => {\n    this.amoebas = [];\n    this.amoeboi = !amoeboi ? null : new Amoeboi(this.boardVars.realBoardWidth / 2,\n                                                 this.boardVars.realBoardHeight / 2,\n                                                 10000000, {x: 0, y: 0});\n    this.quadTree = new QuadTree(0,0, this.boardVars.realBoardWidth, this.boardVars.realBoardHeight);\n    let mass, radius, xpos, ypos, momentum, amoeba, massFunc;\n\n    massFunc = () => {\n      mass = Math.pow(this.boardVars.realBoardHeight / 30 * Math.PI,2);\n      return Math.floor((Math.random() * mass * 4) + mass);\n    };\n    this.addAmoebas(parseInt(2 * this.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 4000000 * Math.pow(this.boardSize,2)) + (1000000 * Math.pow(this.boardSize, 2)));\n    this.addAmoebas(parseInt(20 * this.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 400000) + 100000);\n    this.addAmoebas(parseInt(700 * this.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 400000) + 10000);\n    this.addAmoebas(parseInt(50 * this.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 10000) + 10000);\n    this.addAmoebas(parseInt(10000 * this.boardSize), massFunc, 100000);\n\n    for (let i = 0; i < this.amoebas.length; i++) {\n      this.quadTree.insert1(this.amoebas[i]);\n    }\n\n    if (amoeboi) {\n      this.amoeboi.mass /= 100;\n      this.amoeboi.adjustRadius();\n    }\n  };\n\n  animate = () => {\n    this.ctx.clearRect(0,0, innerWidth, innerHeight);\n    this.makeGrid(this.ctx);\n\n    if (this.currentStatus === \"reset\") {\n      this.boardVars.maxZoom = 4;\n      this.boardVars.currentZoom = 2;\n      this.timeVars.timeCoefficient = 0.5;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = 50000;\n\n      this.setupAmoebas(false);\n\n      this.boardVars.boardFocus = {x: this.boardVars.realBoardWidth / 2, y: this.boardVars.realBoardHeight / 2};\n      this.currentStatus = \"homepage\";\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"setup\") {\n      this.setupProportions(30000,30000); //this will undo any leveling\n      this.setupAmoebas(true);\n      this.homepageYOffset = 0;\n      this.boardVars.currentZoom = 4;\n      this.timeVars.timeCoefficient = 0.5;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.boardVars.boardFocus = {x: this.amoeboi.xpos, y: this.amoeboi.ypos};\n      this.currentStatus = \"playing\";\n      this.showInstructions = true;\n      this.audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,this.timeVars.timeCoefficient)))) * 3.5);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"nextLevel\") {\n      this.homepageYOffset = 0;\n      this.boardVars.currentZoom = 4;\n      this.timeVars.timeCoefficient = 0.5;\n      this.setupProportions(\n        (this.boardVars.realBoardWidth * 1.2) + (500 - ((this.boardVars.realBoardWidth * 1.2) % 500)),\n        (this.boardVars.realBoardHeight * 1.2) + (500 - ((this.boardVars.realBoardHeight * 1.2) % 500)));\n      this.setupAmoebas(true);\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.boardVars.boardFocus = {x: this.amoeboi.xpos, y: this.amoeboi.ypos};\n      this.currentStatus = \"playing\";\n      this.showInstructions = true;\n      this.audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,this.timeVars.timeCoefficient)))) * 3.5);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"homepage\") {\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"movingToInstructions\") {\n      if (this.homepageYOffset > -1000) {\n        this.homepageYOffset -= 20;\n      } else {\n        this.currentStatus = \"instructions\";\n      }\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"instructions\") {\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"movingToHomePage\") {\n      if (this.homepageYOffset < 0) {\n        this.homepageYOffset += 20;\n      } else {\n        this.currentStatus = \"homepage\";\n      }\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"coloringLoseScreen\") {\n      this.boardVars.boardFocus['x'] += (this.boardVars.boardFocus['x'] < this.boardVars.realBoardWidth / 2) ? 10 : -10;\n      this.boardVars.boardFocus['y'] += (this.boardVars.boardFocus['y'] < this.boardVars.realBoardHeight / 2) ? 10 : -10;\n      this.boardVars.currentZoom = this.boardVars.currentZoom > 1 ? this.boardVars.currentZoom * 0.9 : this.boardVars.currentZoom;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = 0;\n      this.moveAmoebas(this.ctx);\n      if (this.homepageAlpha < 0.5) {\n        this.homepageAlpha += .05;\n      } else {\n        this.ctx.globalAlpha = this.homepageAlpha;\n        this.ctx.fillStyle = 'black';\n        this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n        this.homepageYOffset = 1500;\n        this.homepageAlpha = 0;\n        this.currentStatus = \"movingToLoseScreen\";\n        return requestAnimationFrame(this.animate);\n      }\n      this.ctx.globalAlpha = this.homepageAlpha;\n      this.ctx.fillStyle = 'black';\n      this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"movingToLoseScreen\") {\n      if (this.homepageYOffset > 1000) {\n        this.homepageYOffset -= 20;\n      } else {\n        this.currentStatus = \"losescreen\";\n      }\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"losescreen\") {\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"losescreenToHomePage\") {\n      if (this.homepageYOffset > 0) {\n        this.homepageYOffset -= 20;\n      } else {\n        this.currentStatus = \"homepage\";\n      }\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.paused) {\n      this.amoebas.forEach(amoeba => {\n        amoeba.draw(this.ctx);\n      });\n      this.amoeboi.draw(this.ctx);\n\n      this.makePause(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"playing\" && this.checkWin()) {\n      this.currentStatus = \"coloringWinScreen\";\n    }\n\n    if (this.currentStatus === \"coloringWinScreen\") {\n      this.boardVars.boardFocus['x'] += (this.boardVars.boardFocus['x'] < this.boardVars.realBoardWidth / 2) ? 10 : -10;\n      this.boardVars.boardFocus['y'] += (this.boardVars.boardFocus['y'] < this.boardVars.realBoardHeight / 2) ? 10 : -10;\n      this.boardVars.currentZoom = this.boardVars.currentZoom > 1 ? this.boardVars.currentZoom * 0.9 : this.boardVars.currentZoom;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.moveAmoebas(this.ctx);\n      if (this.homepageAlpha < 0.5) {\n        this.homepageAlpha += .05;\n      } else {\n        this.ctx.globalAlpha = this.homepageAlpha;\n        this.ctx.fillStyle = 'black';\n        this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n        this.homepageYOffset = 1500;\n        this.homepageAlpha = 0;\n        this.currentStatus = \"movingToWinScreen\";\n        return requestAnimationFrame(this.animate);\n      }\n      this.ctx.globalAlpha = this.homepageAlpha;\n      this.ctx.fillStyle = 'black';\n      this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"movingToWinScreen\") {\n      if (this.homepageYOffset > 1000) {\n        this.homepageYOffset -= 20;\n      } else {\n        this.currentStatus = \"winScreen\";\n      }\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.moveAmoebas(this.ctx);\n      this.makeWinScreen(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"winScreen\") {\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.moveAmoebas(this.ctx);\n      this.makeWinScreen(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    this.moveAmoebas(this.ctx);\n\n    this.makeMargins(this.ctx);\n    this.makeMassDisplay(this.ctx);\n    this.makeInstructions(this.ctx);\n    if (this.autoscaleTime) {\n      let largest = this.amoebas[0];\n      this.amoebas.forEach(a => {largest = largest.radius < a.radius ? a : largest;});\n      this.timeVars.timeCoefficient = (this.amoeboi.radius / largest.radius) * this.timeVars.timeBase * .75;\n    }\n    // this.makeClock(this.ctx);\n    if (this.amoeboi.mass > 0) {\n      this.boardVars.boardFocus = {x: this.amoeboi.xpos, y: this.amoeboi.ypos};\n      this.boardVars.baseMass = this.amoeboi.mass;\n      if (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000 * this.boardVars.currentZoom > 75) {\n        this.boardVars.maxZoom = boundNum(75 / (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000), 1, this.boardVars.absoluteMaxZoom);\n        this.boardVars.currentZoom = boundNum(this.boardVars.currentZoom * 0.9999999, this.boardVars.minZoom, this.boardVars.maxZoom);\n        this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n        this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      }\n      if (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000 * this.boardVars.maxZoom < 75) {\n        this.boardVars.maxZoom = boundNum(75 / (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000), 1, this.boardVars.absoluteMaxZoom);\n      }\n    } else {\n      this.currentStatus = \"coloringLoseScreen\";\n    }\n    requestAnimationFrame(this.animate);\n  };\n\n  moveAmoebas = (ctx) => {\n    this.amoebas = this.amoebas.filter(amoeba => {\n      return amoeba.mass > 0;\n    });\n    this.quadTree.clear();\n    for (let i = 0; i < this.amoebas.length; i++) {\n      this.quadTree.insert1(this.amoebas[i]);\n    }\n    ctx.globalAlpha = 0.8;\n    this.amoebas.forEach(amoeba => {\n      amoeba.move();\n      amoeba.draw(this.ctx);\n    });\n    this.amoeboi ? this.amoeboi.move() : null;\n    this.amoeboi ? this.amoeboi.draw(this.ctx) : null;\n    ctx.globalAlpha = 1;\n    this.quadTree.checkAllCollisions();\n    this.amoebas.forEach(amoeba => {\n      this.amoeboi ? this.amoeboi.aabbCheck(amoeba) : null;\n      this.amoeboi ? amoeba.aabbCheck(this.amoeboi) : null;\n      amoeba.wallCollision();\n    });\n    this.amoeboi ? this.amoeboi.wallCollision() : null;\n  };\n\n  checkWin = () => {\n    for (let i = 0, num = this.amoebas.length; i < num; i++) {\n      if (this.amoeboi.mass < this.amoebas[i].mass) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  makePause = (ctx) => {\n    ctx.globalAlpha = 0.5;\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n    let mouseOffsetX = this.mousePos['x'] / window.innerWidth * 50;\n    let mouseOffsetY = this.mousePos['y'] / window.innerHeight * 50;\n\n    let homepageWave = Math.sin(((Date.now() - this.homepageTime) % 1500) / 1500 * Math.PI);\n\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = 'white';\n    ctx.font = '70px Impact';\n    let titlePosX = (window.innerWidth / 2) - 75 - mouseOffsetX;\n    let titlePosY = (window.innerHeight / 2) + 50 - mouseOffsetY + this.homepageYOffset;\n    ctx.fillText(`PAUSED`, titlePosX, titlePosY);\n  };\n\n  makeClock = (ctx) => {\n    ctx.globalAlpha = 0.7;\n\n    ctx.beginPath();\n    ctx.arc(120, 120, 65, 0, ((baseLog(this.timeVars.timeBase, this.timeVars.timeCoefficient) + 1) / 2 * Math.PI * 2));\n    ctx.strokeStyle = 'orange';\n    ctx.lineWidth = 5;\n    ctx.stroke();\n\n    ctx.beginPath();\n    ctx.arc(120, 120, 60, 0, Math.PI * 2);\n    ctx.strokeStyle = 'black';\n    ctx.lineWidth = 3;\n    ctx.stroke();\n    ctx.globalAlpha = 0.8;\n    ctx.fillStyle = 'white';\n    ctx.fill();\n\n    ctx.beginPath();\n    ctx.moveTo(120,120);\n    ctx.lineTo(120 + (60*Math.cos(this.clockAngle * Math.PI / 180)), 120 + (60*Math.sin(this.clockAngle * Math.PI / 180)));\n    ctx.fillStyle = 'black';\n    ctx.stroke();\n    this.clockAngle = (this.clockAngle + (this.timeVars.timeCoefficient)) % 360;\n    ctx.globalAlpha = 1;\n  };\n\n  makeGrid = (ctx) => {\n    // let currentLineX = this.boardFocus['x'] - (this.boardWidth / 2);\n    ctx.globalAlpha = 0.4;\n\n    let interval = 500;\n    let realX = 0;\n    let topBorderY =  (((0 - this.boardVars.boardFocus['y'])  / (this.boardVars.boardHeight / 2)) * 500) + (window.innerHeight / 2) + this.mouseVars.mouseOffset['y'];\n    let bottomBorderY =  (((this.boardVars.realBoardHeight - this.boardVars.boardFocus['y']) / (this.boardVars.boardHeight / 2)) * 500) + (window.innerHeight / 2)  + this.mouseVars.mouseOffset['y'];\n    while (realX <= this.boardVars.realBoardWidth) {\n      ctx.fillStyle = (realX ===this.boardVars.realBoardWidth || realX === 0) ? \"red\" :\"black\";\n      let lineX = (((realX - this.boardVars.boardFocus['x']) / (this.boardVars.boardWidth / 2)) * 500) + (window.innerWidth / 2);\n      ctx.fillRect(lineX + this.mouseVars.mouseOffset['x'],topBorderY, 2, bottomBorderY - topBorderY);\n      realX += interval;\n    }\n\n    let realY = 0;\n    let leftBorderX = (((0 - this.boardVars.boardFocus['x']) / (this.boardVars.boardWidth / 2)) * 500) + (window.innerWidth / 2) + this.mouseVars.mouseOffset['x'];\n    let rightBorderX = (((this.boardVars.realBoardWidth - this.boardVars.boardFocus['x']) / (this.boardVars.boardWidth / 2)) * 500) + (window.innerWidth / 2) + this.mouseVars.mouseOffset['x'];\n    while (realY <= this.boardVars.realBoardHeight) {\n      ctx.fillStyle = (realY ===this.boardVars.realBoardHeight || realY === 0) ? \"red\" :\"black\";\n      let lineY = (((realY - this.boardVars.boardFocus['y']) / (this.boardVars.boardHeight / 2)) * 500) + (window.innerHeight / 2);\n      ctx.fillRect(leftBorderX,lineY + this.mouseVars.mouseOffset['y'], rightBorderX - leftBorderX, 2);\n      realY += interval;\n    }\n\n    ctx.globalAlpha = 1;\n  };\n\n  makeMassDisplay = (ctx) => {\n    ctx.globalAlpha = 0.7;\n    ctx.fillStyle = 'black';\n    let displayWidth;\n    if (this.amoeboi.mass > 0) {\n      displayWidth = 130 + (15 * boundNum(Math.floor(Math.log10(this.amoeboi.mass / 100),1, 10000)));\n    } else {\n      displayWidth = 145;\n    }\n    ctx.fillRect(window.innerWidth - 220, 65, displayWidth, 50);\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = 'white';\n    ctx.font = '30px Impact';\n    ctx.fillText(`Mass: ${Math.floor(this.amoeboi.mass / 100) }`, window.innerWidth - 200, 100);\n  };\n\n  makeInstructions = (ctx) => {\n    ctx.globalAlpha = 0.7;\n    ctx.fillStyle = 'black';\n    if (!this.showInstructions) {\n      ctx.fillRect(50, 65, 340, 50);\n      ctx.globalAlpha = 1;\n      ctx.fillStyle = 'white';\n      ctx.font = '20px Arial Black';\n      ctx.fillText(`PRESS I FOR INSTRUCTIONS`, 60, 100);\n      return;\n    }\n    ctx.globalAlpha = 0.7;\n    ctx.fillStyle = 'black';\n    ctx.fillRect(50, 65, 365, 320);\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = 'white';\n    ctx.font = '20px Arial Black';\n    ctx.fillText(`SPACE   :  Pause`, 60, 95);\n    ctx.fillText(` SHIFT   :  Look Around`, 61, 135);\n    ctx.fillText(`SCROLL :  Zoom In/Out`, 60, 170);\n    ctx.fillText(`     H      :  Main Menu`, 65, 215);\n    ctx.fillText(`     R      :  Restart`, 65, 255);\n    ctx.fillText(`     I       :  Toggle Instructions`, 67, 295);\n    ctx.fillText(`     M      :  Toggle Volume (${this.muted ? \"OFF\" : \"ON\"})`, 63, 335);\n    ctx.fillText(`     A      :  Autoscale Time (${this.autoscaleTime ? \"ON\" : \"OFF\"})`, 63, 375);\n  };\n\n  makeMargins = (ctx) => {\n    ctx.globalAlpha = 0.7;\n    ctx.fillStyle = \"black\";\n    let marginHeight = Math.floor(window.innerHeight / 8);\n\n\n    let timebarWidth = 500;\n    let timebarHeight = 50;\n    let timebarX = (window.innerWidth / 2) - (timebarWidth / 2);\n    let timebarY = window.innerHeight - (marginHeight / 2) - (timebarHeight / 2);\n    let time0to1 = (baseLog(this.timeVars.timeBase, this.timeVars.timeCoefficient) + 1) / 2;\n\n    ctx.fillStyle = `black`;\n    ctx.fillRect(timebarX - 10, timebarY, timebarWidth + 20, timebarHeight);\n    ctx.fillStyle = `white`;\n    ctx.fillRect(timebarX + (timebarWidth * time0to1) - 10, timebarY, 20, timebarHeight);\n    ctx.globalAlpha = 1;\n  };\n\n  makeWinScreen = (ctx) => {\n    ctx.globalAlpha = 0.5;\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n    let mouseOffsetX = this.mousePos['x'] / window.innerWidth * 50;\n    let mouseOffsetY = this.mousePos['y'] / window.innerHeight * 50;\n    let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n    let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + this.homepageYOffset;\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = 'white';\n    ctx.font = '70px Impact';\n    ctx.fillText(`YOU'VE WON`, titlePosX + 55, titlePosY - 920);\n    ctx.font = '40px Impact';\n    ctx.fillText(`Press C to continue`, titlePosX + 65, titlePosY - 840);\n  };\n\n  makeHomepage = (ctx) =>{\n    ctx.globalAlpha = 0.5;\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n    let mouseOffsetX = this.mousePos['x'] / window.innerWidth * 50;\n    let mouseOffsetY = this.mousePos['y'] / window.innerHeight * 50;\n\n    let homepageWave = Math.sin(((Date.now() - this.homepageTime) % 1500) / 1500 * Math.PI);\n\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = 'white';\n    ctx.font = '120px Impact';\n    let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n    let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + this.homepageYOffset;\n    ctx.fillText(`AmoeBoi`, titlePosX, titlePosY);\n\n    ctx.globalAlpha = 0.7;\n    ctx.fillStyle = \"rgb(0,0,50)\";\n    ctx.fillRect(titlePosX - 300, titlePosY + 885, 1050, 530);\n    ctx.globalAlpha = 1;\n\n\n    ctx.fillStyle = \"rgb(240,240,240)\";\n    ctx.font = `${30 + (2 * homepageWave) }px Impact`;\n    ctx.fillText(`PRESS ENTER TO START`, titlePosX + 85 - (5 * homepageWave), titlePosY + 100 + (2*homepageWave));\n\n    ctx.font = '50px Impact';\n    ctx.fillText(`⬇ INSTRUCTIONS ⬇`, titlePosX + 15, titlePosY + 360);\n\n    ctx.fillText(`⬆ MAIN MENU ⬆`, titlePosX + 50, titlePosY + 850);\n\n    ctx.font = '25px Arial Black';\n    ctx.fillText(\"Become the Biggest!\", titlePosX + 80, titlePosY + 930);\n\n    ctx.fillText(\"Absorb smaller amoebas, avoid the bigger ones,\", titlePosX - 105, titlePosY + 1000);\n    ctx.fillText(\"and become the biggest blob in the land.\", titlePosX - 55, titlePosY + 1030);\n\n    ctx.fillText(\"Aim and hold the left mouse button to shoot out smaller amoebas\", titlePosX - 222.5, titlePosY + 1100);\n    ctx.fillText(\"and propel yourself the other way... but be careful!\", titlePosX - 120, titlePosY + 1130);\n    ctx.fillText(\"Every shot uses a little bit of your own mass.\", titlePosX - 80, titlePosY + 1160);\n\n    ctx.fillText(\"You can speed up or slow down time using the left/right arrow keys.\", titlePosX - 240, titlePosY + 1230);\n\n    ctx.fillText(\"Press space to pause the game\", titlePosX + 10, titlePosY + 1300);\n    ctx.fillText(\"and press H to return to the Main Menu at any time.\", titlePosX - 130, titlePosY + 1330);\n\n    ctx.fillText(\"PRESS ENTER TO START\", titlePosX + 50 , titlePosY + 1400);\n\n    ctx.drawImage(this.iconImages.githubLogo, titlePosX - 50, titlePosY + 170, 80, 80);\n    ctx.drawImage(this.iconImages.linkedInLogo, titlePosX + 180, titlePosY + 170, 72, 72);\n    ctx.drawImage(this.iconImages.folderIcon, titlePosX + 380, titlePosY + 170, 88, 88);\n    ctx.drawImage(this.muted ? this.iconImages.mute : this.iconImages.volume, titlePosX - 5,\n       titlePosY + (this.muted ? 60 : 65), 50, 50);\n    ctx.drawImage(this.muted ? this.iconImages.muteReverse : this.iconImages.volumeReverse, titlePosX + 400,\n       titlePosY + (this.muted ? 60 : 65), 50, 50);\n\n    ctx.fillStyle = 'white';\n    ctx.font = '70px Impact';\n    ctx.fillText(`YOU'VE LOST`, titlePosX + 55, titlePosY - 920);\n    ctx.font = '40px Impact';\n    ctx.fillText(`Press R to play again`, titlePosX + 50, titlePosY - 840);\n    ctx.fillText(`Press H to return to Main Menu`, titlePosX - 27.5, titlePosY - 760);\n  }\n\n}\n\n\nexport default Game;\n","import Game from './game';\nimport Amoeba from './amoeba.js';\nimport Amoeboi from './amoeboi.js';\nimport { boundNum, baseLog, transitionVar } from './util';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"background\");\n  const ctx = canvas.getContext(\"2d\");\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n\n\n  let audio = document.getElementById(\"audio\");\n  let game = new Game(ctx, 30000, 30000, audio);\n\n  audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,game.timeVars.timeCoefficient)))) * 3.5);\n  audio.volume = 0.5;\n\n\n  window.onresize = ()=>{\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n  };\n\n  window.addEventListener(\"click\", (e) => {\n    if (game.currentStatus === \"homepage\") {\n      let mouseOffsetX = game.mousePos['x'] / window.innerWidth * 50;\n      let mouseOffsetY = game.mousePos['y'] / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + game.homepageYOffset;\n      if (e.pageX > titlePosX - 40 && e.pageX < titlePosX + 40\n       && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 250) {\n         window.location = \"https://github.com/1stepremoved\";\n      } else if (e.pageX > titlePosX + 180 && e.pageX < titlePosX + 252\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 242) {\n        window.location = \"https://linkedin.com/in/hamilton-sands\";\n      } else if (e.pageX > titlePosX + 380 && e.pageX < titlePosX + 468\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 258) {\n        window.location = \"https://1stepremoved.github.io/portfolio/\";\n      } else if (e.pageX > titlePosX + 75 && e.pageX < titlePosX + 365\n        && e.pageY > titlePosY + 315 && e.pageY < titlePosY + 360) {\n          game.currentStatus = \"movingToInstructions\";\n          document.body.style.cursor = \"default\";\n      } else if (e.pageX > titlePosX -5 && e.pageX < titlePosX + 45\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          if (audio.volume === 0) {\n            audio.volume = 0.5;\n            game.muted = false;\n          } else {\n            audio.volume = 0;\n            game.muted = true;\n          }\n      } else if (e.pageX > titlePosX + 400 && e.pageX < titlePosX + 450\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          if (audio.volume === 0) {\n            audio.volume = 0.5;\n            game.muted = false;\n          } else {\n            audio.volume = 0;\n            game.muted = true;\n          }\n        }\n    } else if (game.currentStatus === \"instructions\") {\n      let mouseOffsetX = game.mousePos['x'] / window.innerWidth * 50;\n      let mouseOffsetY = game.mousePos['y'] / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + game.homepageYOffset;\n      if (e.pageX > titlePosX + 110 && e.pageX < titlePosX + 335\n       && e.pageY > titlePosY + 805 && e.pageY < titlePosY + 850) {\n         game.currentStatus = \"movingToHomePage\";\n         document.body.style.cursor = \"default\";\n      }\n    }\n  });\n\n  window.addEventListener(\"touchstart\", (e) => {\n    if (game.currentStatus === \"playing\") {\n      clearInterval(game.mouseDownInterval);\n      if (game.paused || e.button === 2 || game.currentStatus !== \"playing\") {\n        return;\n      }\n      game.mouseVars.mouseDownTime = Date.now();\n      game.amoeboi.mousePosX = e.touches[0].pageX;\n      game.amoeboi.mousePosY = e.touches[0].pageY;\n      game.amoeboi.propel(e,game.amoebas);\n      game.mouseDownInterval = setInterval(() => {\n        game.amoeboi.propel(e,game.amoebas);\n      }, 200);\n    }\n  });\n\n  window.addEventListener(\"touchmove\", (e) => {\n    if (game.currentStatus === \"playing\") {\n      game.amoeboi.mousePosX = e.touches[0].pageX;\n      game.amoeboi.mousePosY = e.touches[0].pageY;\n    }\n  });\n\n  window.addEventListener(\"touchend\", (e) => {\n    if (e.touches.length > 1) {\n      return;\n    }\n    if (game.currentStatus === \"homepage\") {\n      game.currentStatus = \"setup\";\n      game.homepageYOffset = 0;\n    } else if (game.currentStatus === \"losescreen\") {\n      document.body.style.cursor = \"default\";\n      game.currentStatus = \"losescreenToHomePage\";\n    } else if (game.currentStatus === \"winScreen\") {\n      game.currentStatus = \"nextLevel\";\n    } else if (game.currentStatus === \"playing\") {\n      game.mouseVars.mouseDownTime = null;\n      clearInterval(game.mouseDownInterval);\n    }\n  });\n\n  window.addEventListener(\"mousedown\", (e) => {\n    clearInterval(game.mouseDownInterval);\n    if (game.paused || e.button === 2 || game.currentStatus !== \"playing\") {\n      return;\n    }\n    game.mouseVars.mouseDownTime = Date.now();\n    game.amoeboi.mousePosX = e.pageX;\n    game.amoeboi.mousePosY = e.pageY;\n    game.amoeboi.propel(e,game.amoebas);\n    game.mouseDownInterval = setInterval(() => {\n      game.amoeboi.propel(e,game.amoebas);\n    }, 200);\n  });\n\n  window.addEventListener(\"mousemove\", (e) => {\n    if (game.currentStatus === \"homepage\") {\n      let mouseOffsetX = game.mousePos['x'] / window.innerWidth * 50;\n      let mouseOffsetY = game.mousePos['y'] / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + game.homepageYOffset;\n      if (e.pageX > titlePosX - 40 && e.pageX < titlePosX + 40\n       && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 250) {\n        document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 180 && e.pageX < titlePosX + 252\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 242) {\n        document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 380 && e.pageX < titlePosX + 468\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 258) {\n        document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 75 && e.pageX < titlePosX + 365\n        && e.pageY > titlePosY + 315 && e.pageY < titlePosY + 360) {\n          document.body.style.cursor = \"pointer\";\n      }else if (e.pageX > titlePosX -5 && e.pageX < titlePosX + 45\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 400 && e.pageX < titlePosX + 450\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          document.body.style.cursor = \"pointer\";\n      } else {\n        document.body.style.cursor = \"default\";\n      }\n      if (window.innerHeight - e.pageY < 30) {\n        game.currentStatus = \"movingToInstructions\";\n      }\n    } else if (game.currentStatus === \"instructions\") {\n      let mouseOffsetX = game.mousePos['x'] / window.innerWidth * 50;\n      let mouseOffsetY = game.mousePos['y'] / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + game.homepageYOffset;\n\n      if (e.pageX > titlePosX + 110 && e.pageX < titlePosX + 335\n          && e.pageY > titlePosY + 805 && e.pageY < titlePosY + 850) {\n        document.body.style.cursor = \"pointer\";\n      } else {\n        document.body.style.cursor = \"default\";\n      }\n      if (e.pageY < 30) {\n        game.currentStatus = \"movingToHomePage\";\n      }\n    } else if (game.currentStatus === \"playing\" && game.shiftDown) {\n      game.mouseVars.mouseOffset['x'] = ((window.innerWidth / 2) - e.pageX) / 2;\n      game.mouseVars.mouseOffset['y'] = ((window.innerHeight / 2) - e.pageY) / 2;\n    }\n\n    game.mousePos['x'] = e.pageX;\n    game.mousePos['y'] = e.pageY;\n    if (game.mouseVars.mouseDownTime) {\n      game.amoeboi.mousePosX = e.pageX;\n      game.amoeboi.mousePosY = e.pageY;\n    }\n  });\n\n  window.addEventListener(\"mouseup\", (e) => {\n    game.mouseVars.mouseDownTime = null;\n    clearInterval(game.mouseDownInterval);\n  });\n\n  window.addEventListener(\"keydown\", (e) => {\n    let rate;\n    switch (e.keyCode) {\n      case 39:\n        if (game.paused || game.currentStatus !== \"playing\" || game.autoscaleTime) { return; }\n        game.timeVars.timeCoefficient = Math.min(game.timeVars.timeCoefficient * 1.1, game.timeVars.timeBase);\n        audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,game.timeVars.timeCoefficient)))) * 3.5);\n        return;\n      case 37:\n        if (game.paused || game.currentStatus !== \"playing\" || game.autoscaleTime) { return; }\n        game.timeVars.timeCoefficient = Math.max(game.timeVars.timeCoefficient * 0.9, Math.pow(game.timeVars.timeBase, - 1));\n        audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,game.timeVars.timeCoefficient)))) * 3.5);\n        return;\n      case 65:\n        if (game.paused || game.currentStatus !== \"playing\") { return; }\n        game.autoscaleTime = !game.autoscaleTime;\n        return;\n      case 32:\n        if (game.currentStatus !== \"playing\") { return; }\n        game.paused = !game.paused;\n        game.mouseVars.mouseDownTime = null;\n        return;\n      case 72:\n        if (game.currentStatus === \"instructions\") {\n          document.body.style.cursor = \"default\";\n          game.currentStatus = \"movingToHomePage\";\n          return;\n        } else if (game.currentStatus === \"losescreen\"){\n          document.body.style.cursor = \"default\";\n          game.currentStatus = \"losescreenToHomePage\";\n          return;\n        }\n        game.currentStatus = \"reset\";\n        game.paused = false;\n        return;\n      case 73:\n        game.showInstructions = !game.showInstructions;\n        return;\n      case 82:\n        if (game.currentStatus === \"playing\" || game.currentStatus === \"losescreen\" || game.currentStatus === \"winScreen\")\n        game.currentStatus = \"setup\";\n        return;\n      case 13:\n        game.homepageTime = null;\n        if (game.currentStatus !== \"homepage\" && game.currentStatus !== \"instructions\" ) { return; }\n        game.currentStatus = \"setup\";\n        game.homepageYOffset = 0;\n        return;\n      case 16:\n        game.shiftDown = true;\n        return;\n      case 67:\n        if (game.currentStatus === \"winScreen\") {\n          game.currentStatus = \"nextLevel\";\n        }\n        return;\n      case 77:\n        if (audio.volume === 0) {\n          audio.volume = 0.5;\n          game.muted = false;\n        } else {\n          audio.volume = 0;\n          game.muted = true;\n        }\n      default:\n        return;\n    }\n  });\n\n  window.addEventListener(\"keyup\", (e) => {\n    switch (e.keyCode) {\n      case 16:\n        game.mouseVars.mouseOffset['x'] = 0;\n        game.mouseVars.mouseOffset['y'] = 0;\n        game.shiftDown = false;\n        return;\n      default:\n        return;\n    }\n  });\n\n  let mousewheelevent = (/Firefox/i.test(navigator.userAgent)) ? \"wheel\" : \"mousewheel\";\n\n  document.addEventListener(mousewheelevent, (e)=> {\n    e.preventDefault();\n    if (game.paused  || game.currentStatus !== \"playing\") { return; }\n    let zoomDelta = (e.deltaY / -1000);\n    game.boardVars.currentZoom = boundNum(game.boardVars.currentZoom + zoomDelta, game.boardVars.minZoom, game.boardVars.maxZoom);\n    game.boardVars.boardHeight = game.boardVars.realBoardHeight / game.boardVars.currentZoom;\n    game.boardVars.boardWidth = game.boardVars.realBoardWidth / game.boardVars.currentZoom;\n  });\n\n  game.animate();\n});\n"],"sourceRoot":""}