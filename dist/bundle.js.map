{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/v0/util.js","webpack:///./lib/v0/amoeba.js","webpack:///./lib/v0/amoeboi.js","webpack:///./lib/v0/quadtree.js","webpack:///./lib/v0/game.js","webpack:///./lib/v0/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","boundNum","num","min","max","baseLog","x","y","Math","log","ctx","mass","momentum","this","floor","random","radius","sqrt","xpos","boardVars","realBoardWidth","ypos","realBoardHeight","nextMomentum","assign","draw","collision","adjustRadius","colorize","relativePos","color","xDelta","yDelta","timeVars","timeCoefficient","amoeba","distance","currentDistance","pow","amoebae","big","small","bubble","massDelta","relativeX","relativeY","relativeRadius","gradient","createRadialGradient","baseMass","addColorStop","boardFocus","boardWidth","window","innerWidth","mouseVars","mouseOffset","boardHeight","innerHeight","isNaN","relativeCoors","currentZoom","beginPath","arc","PI","fillStyle","fill","momentumDelta","momentumMax","super","mousePosX","mousePosY","e","amoebas","diffX","diffY","angle","atan2","dirX","cos","dirY","sin","Date","now","mouseDownTime","push","QuadTree","width","height","level","children","endX","endY","halfX","halfY","halfWidth","halfHeight","length","clear","index","getIndex","insert1","maxAmoebas","split","newAmoebas","amoebaeLen","j","aabbCheck","childrenLen","checkCollision","checkAllCollisions","audio","muted","setupImages","setupProportions","setupTime","setupMouse","homepageClock","clockAngle","mouseDownInterval","paused","currentStatus","homepageYOffset","homepageTime","mousePos","shiftDown","homepageAlpha","showInstructions","autoscaleTime","animate","moveAmoebas","makePause","makeClock","makeGrid","makeMassDisplay","makeMargins","makeHomepage","timeBase","boardSize","maxZoom","parseInt","absoluteMaxZoom","minZoom","iconImages","forEach","fileName","setupImage","Image","src","massFunc","inertia","amoeboi","collidesWith","quadTree","addAmoebas","clearRect","setupAmoebas","requestAnimationFrame","playbackRate","E","globalAlpha","fillRect","checkWin","makeWinScreen","makeInstructions","largest","a","filter","move","wallCollision","mouseOffsetX","mouseOffsetY","font","titlePosX","titlePosY","fillText","strokeStyle","lineWidth","stroke","moveTo","lineTo","realX","topBorderY","bottomBorderY","lineX","realY","leftBorderX","rightBorderX","lineY","displayWidth","log10","marginHeight","timebarX","timebarY","time0to1","timebarWidth","homepageWave","drawImage","githubLogo","linkedInLogo","folderIcon","mute","volume","muteReverse","volumeReverse","document","addEventListener","canvas","getElementById","getContext","game","onresize","pageX","pageY","location","body","style","cursor","clearInterval","button","touches","propel","setInterval","keyCode","mousewheelevent","test","navigator","userAgent","preventDefault","zoomDelta","deltaY"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export const boundNum = (num, min, max) => {\n  if (num > max) {\n    return max;\n  } else if (num < min) {\n    return min;\n  } else {\n    return num;\n  }\n};\n\nexport const baseLog = (x, y) => {\n  return Math.log(y) / Math.log(x);\n};\n\nexport const transitionVar = (variable, start, stop, rate = .01) => {\n  const isGoingUp = (start < stop);\n  const transitionRate = (isGoingUp) ? 1 + rate : 1 - rate;\n  if ((isGoingUp && start > stop * .99) || (!isGoingUp && start < stop * 1.01)) {\n    return variable;\n  } else {\n    return variable * transitionRate;\n  }\n};\n","import { boundNum } from './util';\n\nclass Amoeba {\n  constructor(ctx, x, y, mass, momentum) {\n    this.ctx = ctx;\n    this.mass = mass || Math.floor((Math.random() * 100000) + 10000);\n    this.radius = Math.sqrt(this.mass / (Math.PI));\n    this.xpos = x || Math.floor(Math.random() * (this.boardVars.realBoardWidth - this.radius)) + this.radius;\n    this.ypos = y || Math.floor(Math.random() * (this.boardVars.realBoardHeight - this.radius)) + this.radius;\n    this.momentum = momentum || {x: Math.floor(Math.random() * 1000000) - 500000, y: Math.floor(Math.random() * 1000000) - 500000};\n    this.nextMomentum = Object.assign({}, this.momentum);\n    this.draw = this.draw.bind(this);\n    this.collision = this.collision.bind(this);\n    this.adjustRadius = this.adjustRadius.bind(this);\n    this.colorize = this.colorize.bind(this);\n    this.relativePos = this.relativePos.bind(this);\n    this.color = \"blue\";\n  }\n\n  move() {\n    this.momentum = Object.assign({}, this.nextMomentum);\n    let xDelta = (this.mass > 0 ? this.momentum['x'] / this.mass : 0);\n    let yDelta = (this.mass > 0 ? this.momentum['y'] / this.mass : 0);\n    // xDelta = (xDelta > this.momentumMax) ? Math.abs(xDelta) / xDelta * this.momentumMax : xDelta;\n    // yDelta = (yDelta > this.momentumMax) ? Math.abs(yDelta) / yDelta * this.momentumMax : yDelta;\n    this.xpos += xDelta * this.timeVars.timeCoefficient;\n    this.ypos += yDelta * this.timeVars.timeCoefficient;\n    // this.xpos += boundNum(xDelta * this.timeVars.timeCoefficient, -10, 10);\n    // this.ypos += boundNum(yDelta * this.timeVars.timeCoefficient, -10, 10);\n  }\n\n  adjustRadius() {\n    this.radius = Math.sqrt(this.mass / (Math.PI));\n  }\n\n  aabbCheck(amoeba) {\n    if (amoeba.xpos + amoeba.radius + this.radius > this.xpos\n     && amoeba.xpos < this.xpos + this.radius + amoeba.radius\n     && amoeba.ypos + amoeba.radius + this.radius > this.ypos\n     && amoeba.ypos < this.ypos + this.radius + amoeba.radius) {\n      this.collision(amoeba);\n     }\n}\n\n  collision(amoeba) {\n    let distance = this.radius + amoeba.radius;\n    let currentDistance = Math.sqrt(\n      Math.pow(this.xpos - amoeba.xpos ,2)  + Math.pow(this.ypos - amoeba.ypos ,2)\n    );\n    if (distance > currentDistance){\n\n      this.nextMomentum['x'] += boundNum(amoeba.momentum['x']\n        * amoeba.mass * (currentDistance / distance) * this.timeVars.timeCoefficient, -50, 50);\n      amoeba.nextMomentum['x'] = amoeba.nextMomentum['x']\n        * boundNum(amoeba.mass / this.mass, .99, 1);\n\n      amoeba.nextMomentum['x'] += boundNum(this.momentum['x']\n        * this.mass * (currentDistance / distance) * this.timeVars.timeCoefficient, -50, 50);\n      this.nextMomentum['x'] = this.nextMomentum['x']\n        * boundNum(this.mass / amoeba.mass, .99, 1);\n\n      this.nextMomentum['y'] += boundNum(amoeba.momentum['y']\n        * amoeba.mass * (currentDistance / distance) * this.timeVars.timeCoefficient, -50, 50);\n      amoeba.nextMomentum['y'] = amoeba.nextMomentum['y']\n        * boundNum(amoeba.mass / this.mass, .99, 1);\n\n      amoeba.nextMomentum['y'] += boundNum(this.momentum['y']\n        * this.mass * (currentDistance / distance) * this.timeVars.timeCoefficient, -50, 50);\n      this.nextMomentum['y'] = this.nextMomentum['y']\n        * boundNum(this.mass / amoeba.mass, .99, 1);\n\n      let amoebae;\n      if (this.mass <= amoeba.mass) {\n        amoebae = {big: amoeba, small: this};\n      } else {\n        amoebae = {big: this, small: amoeba};\n      }\n        if ((currentDistance - amoebae['big'].radius) < 0 || amoebae['small'].mass < 100) {\n          amoebae['big'].mass += amoebae['small'].mass;\n          amoebae['small'].mass = 0;\n          amoebae['big'].nextMomentum['x'] += amoebae['small'].nextMomentum['x'];\n          amoebae['big'].nextMomentum['y'] += amoebae['small'].nextMomentum['y'];\n          return;\n        }\n\n        let bubble = amoebae['small'].massDelta * amoebae['small'].mass\n            * boundNum( (amoebae['small'].radius - (currentDistance - amoebae['big'].radius)) / amoebae['small'].radius, .01, .1)\n            * boundNum(this.timeVars.timeCoefficient, 0.5, 2);\n\n        amoebae['small'].mass -= bubble;\n        amoebae['big'].mass += bubble;\n    }\n  }\n\n  collidesWith(amoeba) {\n    let distance = this.radius + amoeba.radius;\n    let currentDistance = Math.sqrt(\n      Math.pow(this.xpos - amoeba.xpos ,2)  + Math.pow(this.ypos - amoeba.ypos ,2)\n    );\n    if (distance > currentDistance) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  wallCollision() {\n    if (this.xpos + this.radius >= this.boardVars.realBoardWidth) {\n      this.nextMomentum['x'] = -1 * this.momentum['x'];\n      this.xpos = this.boardVars.realBoardWidth - this.radius - 1;\n    } else if (this.xpos - this.radius <= 0) {\n      this.nextMomentum['x'] = -1 * this.momentum['x'];\n      this.xpos = 0 + this.radius + 1;\n    }\n    if (this.ypos + this.radius >= this.boardVars.realBoardHeight) {\n      this.nextMomentum['y'] = -1 * this.momentum['y'];\n      this.ypos = this.boardVars.realBoardHeight - this.radius - 1;\n    } else if (this.ypos - this.radius <= 0) {\n      this.nextMomentum['y'] = -1 * this.momentum['y'];\n      this.ypos = 0 + this.radius + 1;\n    }\n  }\n\n  colorize(relativeX, relativeY, relativeRadius) {\n    if (this.mass <= 0) {\n      return;\n    }\n\n    let gradient = this.ctx.createRadialGradient(relativeX, relativeY,relativeRadius, relativeX, relativeY, 0);\n    if (this.mass < this.boardVars.baseMass) {\n      gradient.addColorStop(0, `rgb(${20}, ${20}, ${255})`);\n      gradient.addColorStop(boundNum(1 - (this.mass / this.boardVars.baseMass),0, 1) , `rgb(${50}, ${20}, ${200})`);\n      gradient.addColorStop(1 , `rgb(${255}, ${20}, ${20})`);\n    } else {\n      gradient.addColorStop(0, `rgb(${255}, ${20}, ${20})`);\n      gradient.addColorStop(boundNum(1 -(this.boardVars.baseMass / this.mass), 0, 1) , `rgb(${200}, ${20}, ${50})` );\n      gradient.addColorStop(1 , `rgb(${20}, ${20}, ${255})`);\n    }\n    return gradient;\n  }\n\n  relativePos() {\n    let relativeX = (((this.xpos - this.boardVars.boardFocus['x']) / (this.boardVars.boardWidth / 2)) * 500)\n                       + (window.innerWidth / 2) + this.mouseVars.mouseOffset['x'];\n    let relativeY = (((this.ypos - this.boardVars.boardFocus['y']) / (this.boardVars.boardHeight/ 2)) * 500)\n                       + (window.innerHeight / 2) + this.mouseVars.mouseOffset['y'];\n    return {x: relativeX, y: relativeY};\n  }\n\n  draw() {\n    if (this.mass <= 0) {\n      return;\n    }\n    if (isNaN(this.xpos) || isNaN(this.ypos) ){\n      // DEBUG: somehow these get turned into NaN when absorbed completely by another amoeba\n      this.mass = 0;\n      return;\n    }\n\n    this.adjustRadius();\n\n    let relativeCoors = this.relativePos();\n\n    let relativeRadius = this.radius / this.boardVars.realBoardWidth * 1000 * this.boardVars.currentZoom;\n\n    //radius cannot be kept proportional to window.innerWidth, it will throw off their size on screen\n\n    let gradient = this.colorize(relativeCoors['x'], relativeCoors['y'],relativeRadius);\n\n    this.ctx.beginPath();\n    this.ctx.arc(relativeCoors['x'], relativeCoors['y'], relativeRadius, 0, Math.PI * 2);\n    this.ctx.fillStyle=gradient;\n    this.ctx.fill();\n  }\n}\n\nAmoeba.prototype.momentumDelta = 1;\nAmoeba.prototype.massDelta =  1 / 2;\nAmoeba.prototype.momentumMax = 10;\n\nexport default Amoeba;\n","import Amoeba from './amoeba';\nimport { boundNum } from './util';\n\nclass Amoeboi extends Amoeba {\n  constructor(ctx, x, y, mass, momentum) {\n    super(ctx, x, y, mass, momentum);\n    this.mousePosX = null;\n    this.mousePosY = null;\n  }\n\n  colorize(relativeX, relativeY, relativeRadius) {\n    if (this.mass <= 0) {\n      return;\n    }\n    let gradient = this.ctx.createRadialGradient(relativeX, relativeY,relativeRadius, relativeX, relativeY, 0);\n    gradient.addColorStop(0, `rgb(${0}, ${255}, ${0})`);\n    gradient.addColorStop(1, `rgb(${0}, ${150}, ${0})`);\n    return gradient;\n  }\n\n  propel(e, amoebas) {\n    if (this.mass <= 0) {\n      return;\n    }\n    let diffX = this.mousePosX - (window.innerWidth / 2);\n    let diffY = this.mousePosY - (window.innerHeight / 2);\n    let angle = Math.atan2(diffY, diffX);\n    let dirX = Math.cos(angle);\n    let dirY = Math.sin(angle);\n\n    let mass = this.mass * boundNum(((Date.now() - this.mouseVars.mouseDownTime) / 30000), .01, .1);\n    this.mass -= mass;\n    let radius = Math.sqrt(mass / (Math.PI));\n    let xpos = this.xpos + (dirX * this.radius) + ((dirX > 0 ) ? radius : -1 * radius);\n    let ypos = this.ypos + (dirY * this.radius) + ((dirY > 0 ) ? radius : -1 * radius);\n    let momentum = {x: mass * 50 * dirX * 2, y: mass * 50 * dirY * 2};\n    amoebas.push(new Amoeba(this.ctx, xpos, ypos, mass, momentum));\n    this.nextMomentum['x'] += momentum['x'] * -1 * 3;\n    this.nextMomentum['y'] += momentum['y'] * -1 * 3;\n    let distance = Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2) );\n  }\n\n}\n\nexport default Amoeboi;\n","import Amoeba from './amoeba';\nimport AmoeBoi from './amoeboi';\n\nclass QuadTree {\n  constructor(x, y, width,height,level = 0) {\n    this.children = [];\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.endX = this.x + this.width;\n    this.endY = this.y + this.height;\n    this.halfX = this.x +  Math.floor(this.width / 2);\n    this.halfY = this.y +  Math.floor(this.height / 2);\n    this.level = level;\n\n    this.amoebas = [];\n  }\n\n  split() {\n    let halfWidth = Math.floor(this.width / 2);\n    let halfHeight = Math.floor(this.height / 2);\n    this.children.push(new QuadTree(this.x, this.y, halfWidth , halfHeight, this.level + 1));\n    this.children.push(new QuadTree(this.x + halfWidth, this.y, halfWidth , halfHeight, this.level + 1));\n    this.children.push(new QuadTree(this.x, this.y + halfHeight, halfWidth , halfHeight, this.level + 1));\n    this.children.push(new QuadTree(this.x + halfWidth, this.y + halfHeight, halfWidth , halfHeight, this.level + 1));\n  }\n\n  clear() {\n    this.amoebas = [];\n    for (let i = 0; i < this.children.length; i++) {\n      this.children[i].clear();\n      this.children[i] = null;\n    }\n    if (this.level === 0) {\n      this.children = [];\n    }\n  }\n\n  insert1(amoeba) {\n    let index = this.getIndex(amoeba);\n    if (this.children.length > 0 && index !== -1) {\n      return this.children[index].insert1(amoeba);\n    }\n\n    this.amoebas.push(amoeba);\n\n    if (this.children.length === 0 && this.amoebas.length > this.maxAmoebas) {\n      this.split();\n      let newAmoebas = [];\n      for (let i = 0; i < this.amoebas.length; i++) {\n        index = this.getIndex(this.amoebas[i]);\n        if (index !== -1) {\n          this.children[index].insert1(this.amoebas[i]);\n        } else {\n          newAmoebas.push(this.amoebas[i]);\n        }\n      }\n      this.amoebas = newAmoebas;\n    }\n\n  }\n\n  getIndex(amoeba) {\n    if ((amoeba.xpos - amoeba.radius) > this.x && (amoeba.xpos + amoeba.radius) < this.halfX\n     && (amoeba.ypos - amoeba.radius) > this.y && (amoeba.ypos + amoeba.radius) < this.halfY) {\n       return 0;\n    } else if ((amoeba.xpos - amoeba.radius) > this.halfX && (amoeba.xpos + amoeba.radius) < this.endX\n     && (amoeba.ypos - amoeba.radius) > this.y && (amoeba.ypos + amoeba.radius) < this.halfY) {\n       return 1;\n    } else if ((amoeba.xpos - amoeba.radius) > this.x && (amoeba.xpos + amoeba.radius) < this.halfX\n     && (amoeba.ypos - amoeba.radius) > this.halfY && (amoeba.ypos + amoeba.radius) < this.endY) {\n       return 2;\n    } else if ((amoeba.xpos - amoeba.radius) > this.halfX && (amoeba.xpos + amoeba.radius) < this.endX\n     && (amoeba.ypos - amoeba.radius) > this.halfY && (amoeba.ypos + amoeba.radius) < this.endY) {\n       return 3;\n    } else {\n      return -1;\n    }\n  }\n\n  checkAllCollisions() {\n    for (let i = 0, amoebaeLen = this.amoebas.length; i < amoebaeLen; i++) {\n      for (let j = i + 1; j < amoebaeLen; j++) {\n        this.amoebas[i].aabbCheck(this.amoebas[j]);\n      }\n      for (let j = 0, childrenLen = this.children.length; j < childrenLen; j++) {\n        this.children[j].checkCollision(this.amoebas[i]);\n      }\n    }\n\n    for (let i = 0, childrenLen = this.children.length; i <childrenLen; i++) {\n      this.children[i].checkAllCollisions();\n    }\n  }\n\n  checkCollision(amoeba) {\n    for (let i = 0, amoebaeLen = this.amoebas.length; i < amoebaeLen; i++) {\n      amoeba.aabbCheck(this.amoebas[i]);\n    }\n\n    for (let i = 0,  childrenLen = this.children.length; i < childrenLen; i++) {\n      this.children[i].checkCollision(amoeba);\n    }\n\n  }\n\n}\n\nQuadTree.prototype.maxAmoebas = 10;\n\nexport default QuadTree;\n","import { boundNum, baseLog } from './util';\nimport Amoeba from './amoeba.js';\nimport Amoeboi from './amoeboi.js';\nimport QuadTree from './quadtree.js';\n\nclass Game {\n  constructor(ctx, realBoardWidth=20000, realBoardHeight=20000, audio) {\n    this.ctx = ctx;\n    this.audio = audio;\n    this.muted = false;\n\n    this.setupImages();\n    this.setupProportions(realBoardWidth, realBoardHeight);\n    this.setupTime();\n    this.setupMouse();\n\n    this.homepageClock = null;\n    this.clockAngle = 0;\n    this.mouseDownTime = null;\n    this.mouseDownInterval = null;\n    this.paused = false;\n    this.currentStatus = \"reset\";\n    this.homepageYOffset = 0;\n    this.homepageTime = null;\n    this.mousePos = {x: 0, y: 0};\n    this.shiftDown = false;\n    this.homepageAlpha = 0;\n    this.showInstructions = true;\n    this.autoscaleTime = true;\n\n    this.animate = this.animate.bind(this);\n    this.moveAmoebas = this.moveAmoebas.bind(this);\n    this.makePause = this.makePause.bind(this);\n    this.makeClock = this.makeClock.bind(this);\n    this.makeGrid = this.makeGrid.bind(this);\n    this.makeMassDisplay = this.makeMassDisplay.bind(this);\n    this.makeMargins = this.makeMargins.bind(this);\n    this.makeHomepage = this.makeHomepage.bind(this);\n  }\n\n  setupMouse() {\n    this.mouseVars = {};\n    this.mouseVars.mouseDownTime = null;\n    this.mouseVars.mouseOffset = {x: 0, y: 0};\n\n    Amoeba.prototype.mouseVars = this.mouseVars;\n  }\n\n  setupTime() {\n    this.timeVars = {};\n    this.timeVars.timeBase = 10;\n    this.timeVars.timeCoefficient = 1;\n\n    Amoeba.prototype.timeVars = this.timeVars;\n  }\n\n  setupProportions(realBoardWidth, realBoardHeight) {\n    this.boardSize = (realBoardWidth / 30000);\n\n    this.boardVars = {};\n    this.boardVars.realBoardWidth = realBoardWidth;\n    this.boardVars.realBoardHeight = realBoardHeight;\n    this.boardVars.baseMass = 50000;\n    this.boardVars.maxZoom = parseInt(50 / Math.sqrt(100000 / Math.PI) * realBoardWidth / 1000); //100000 is the starting mass for amoeboi\n    this.boardVars.absoluteMaxZoom = this.boardVars.maxZoom;\n    this.boardVars.minZoom = 0.7;\n    this.boardVars.currentZoom = this.boardVars.maxZoom;\n    this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n    this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n    this.boardVars.boardFocus = {x: this.boardVars.realBoardWidth / 2, y: this.boardVars.realBoardHeight / 2};\n\n    Amoeba.prototype.boardVars = this.boardVars;\n  }\n\n  setupImages() {\n    this.iconImages = {};\n    let fileNames = ['githubLogo', 'linkedInLogo', 'folderIcon', 'volume','volumeReverse','mute', 'muteReverse'];\n    fileNames.forEach(fileName => this.setupImage(fileName));\n  }\n\n  setupImage(fileName) {\n    this.iconImages[fileName] = new Image();\n    this.iconImages[fileName].src = `./assets/images/${fileName}.png`;\n  }\n\n  addAmoebas(num, massFunc, inertia) {\n    for (let i = 0; i < num; i++) {\n      let mass = massFunc();\n      let radius = Math.sqrt(mass / (Math.PI));\n      let xpos = Math.floor(Math.random() * (this.boardVars.realBoardWidth - radius)) + radius;\n      let ypos = Math.floor(Math.random() * (this.boardVars.realBoardHeight - radius)) + radius;\n      let momentum = {x: Math.floor(Math.random() * inertia) - (inertia / 2), y: Math.floor(Math.random() * inertia) - (inertia / 2)};\n      let amoeba = new Amoeba(this.ctx, xpos, ypos, mass, momentum);\n      while (this.amoeboi && this.amoeboi.collidesWith(amoeba)) {\n        amoeba.xpos = Math.floor(Math.random() * (this.boardVars.realBoardWidth - radius)) + radius;\n        amoeba.ypos = Math.floor(Math.random() * (this.boardVars.realBoardHeight - radius)) + radius;\n      }\n      this.amoebas.push(amoeba);\n    }\n  }\n\n  setupAmoebas(amoeboi) {\n    this.amoebas = [];\n    this.amoeboi = !amoeboi ? null : new Amoeboi(this.ctx, this.boardVars.realBoardWidth / 2,\n                                                 this.boardVars.realBoardHeight / 2,\n                                                 10000000, {x: 0, y: 0});\n    this.quadTree = new QuadTree(0,0, this.boardVars.realBoardWidth, this.boardVars.realBoardHeight);\n    let mass, radius, xpos, ypos, momentum, amoeba, massFunc;\n\n    massFunc = () => {\n      mass = Math.pow(this.boardVars.realBoardHeight / 30 * Math.PI,2);\n      return Math.floor((Math.random() * mass * 4) + mass);\n    };\n    this.addAmoebas(parseInt(2 * this.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 4000000 * Math.pow(this.boardSize,2)) + (1000000 * Math.pow(this.boardSize, 2)));\n    this.addAmoebas(parseInt(20 * this.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 400000) + 100000);\n    this.addAmoebas(parseInt(700 * this.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 400000) + 10000);\n    this.addAmoebas(parseInt(50 * this.boardSize), massFunc, 1000000);\n\n    massFunc = () => Math.floor((Math.random() * 10000) + 10000);\n    this.addAmoebas(parseInt(10000 * this.boardSize), massFunc, 100000);\n\n    for (let i = 0; i < this.amoebas.length; i++) {\n      this.quadTree.insert1(this.amoebas[i]);\n    }\n\n    if (amoeboi) {\n      this.amoeboi.mass /= 100;\n      this.amoeboi.adjustRadius();\n    }\n  }\n\n  animate() {\n    this.ctx.clearRect(0,0, innerWidth, innerHeight);\n    this.makeGrid(this.ctx);\n\n    if (this.currentStatus === \"reset\") {\n      this.boardVars.maxZoom = 4;\n      this.boardVars.currentZoom = 2;\n      this.timeVars.timeCoefficient = 0.5;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = 50000;\n\n      this.setupAmoebas(false);\n\n      this.boardVars.boardFocus = {x: this.boardVars.realBoardWidth / 2, y: this.boardVars.realBoardHeight / 2};\n      this.currentStatus = \"homepage\";\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"setup\") {\n      this.setupProportions(30000,30000); //this will undo any leveling\n      this.setupAmoebas(true);\n      this.homepageYOffset = 0;\n      this.boardVars.currentZoom = 4;\n      this.timeVars.timeCoefficient = 0.5;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.boardVars.boardFocus = {x: this.amoeboi.xpos, y: this.amoeboi.ypos};\n      this.currentStatus = \"playing\";\n      this.showInstructions = true;\n      this.audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,this.timeVars.timeCoefficient)))) * 3.5);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"nextLevel\") {\n      this.homepageYOffset = 0;\n      this.boardVars.currentZoom = 4;\n      this.timeVars.timeCoefficient = 0.5;\n      this.setupProportions(\n        (this.boardVars.realBoardWidth * 1.2) + (500 - ((this.boardVars.realBoardWidth * 1.2) % 500)),\n        (this.boardVars.realBoardHeight * 1.2) + (500 - ((this.boardVars.realBoardHeight * 1.2) % 500)));\n      this.setupAmoebas(true);\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.boardVars.boardFocus = {x: this.amoeboi.xpos, y: this.amoeboi.ypos};\n      this.currentStatus = \"playing\";\n      this.showInstructions = true;\n      this.audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,this.timeVars.timeCoefficient)))) * 3.5);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"homepage\") {\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"movingToInstructions\") {\n      if (this.homepageYOffset > -1000) {\n        this.homepageYOffset -= 20;\n      } else {\n        this.currentStatus = \"instructions\";\n      }\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"instructions\") {\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"movingToHomePage\") {\n      if (this.homepageYOffset < 0) {\n        this.homepageYOffset += 20;\n      } else {\n        this.currentStatus = \"homepage\";\n      }\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"coloringLoseScreen\") {\n      this.boardVars.boardFocus['x'] += (this.boardVars.boardFocus['x'] < this.boardVars.realBoardWidth / 2) ? 10 : -10;\n      this.boardVars.boardFocus['y'] += (this.boardVars.boardFocus['y'] < this.boardVars.realBoardHeight / 2) ? 10 : -10;\n      this.boardVars.currentZoom = this.boardVars.currentZoom > 1 ? this.boardVars.currentZoom * 0.9 : this.boardVars.currentZoom;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = 0;\n      this.moveAmoebas(this.ctx);\n      if (this.homepageAlpha < 0.5) {\n        this.homepageAlpha += .05;\n      } else {\n        this.ctx.globalAlpha = this.homepageAlpha;\n        this.ctx.fillStyle = 'black';\n        this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n        this.homepageYOffset = 1500;\n        this.homepageAlpha = 0;\n        this.currentStatus = \"movingToLoseScreen\";\n        return requestAnimationFrame(this.animate);\n      }\n      this.ctx.globalAlpha = this.homepageAlpha;\n      this.ctx.fillStyle = 'black';\n      this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"movingToLoseScreen\") {\n      if (this.homepageYOffset > 1000) {\n        this.homepageYOffset -= 20;\n      } else {\n        this.currentStatus = \"losescreen\";\n      }\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"losescreen\") {\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"losescreenToHomePage\") {\n      if (this.homepageYOffset > 0) {\n        this.homepageYOffset -= 20;\n      } else {\n        this.currentStatus = \"homepage\";\n      }\n      this.moveAmoebas(this.ctx);\n      this.makeHomepage(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.paused) {\n      this.amoebas.forEach(amoeba => {\n        amoeba.draw();\n      });\n      this.amoeboi.draw();\n\n      this.makePause(this.ctx);\n      // makeMargins(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"playing\" && this.checkWin()) {\n      this.currentStatus = \"coloringWinScreen\";\n    }\n\n    if (this.currentStatus === \"coloringWinScreen\") {\n      this.boardVars.boardFocus['x'] += (this.boardVars.boardFocus['x'] < this.boardVars.realBoardWidth / 2) ? 10 : -10;\n      this.boardVars.boardFocus['y'] += (this.boardVars.boardFocus['y'] < this.boardVars.realBoardHeight / 2) ? 10 : -10;\n      this.boardVars.currentZoom = this.boardVars.currentZoom > 1 ? this.boardVars.currentZoom * 0.9 : this.boardVars.currentZoom;\n      this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n      this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.moveAmoebas(this.ctx);\n      if (this.homepageAlpha < 0.5) {\n        this.homepageAlpha += .05;\n      } else {\n        this.ctx.globalAlpha = this.homepageAlpha;\n        this.ctx.fillStyle = 'black';\n        this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n        this.homepageYOffset = 1500;\n        this.homepageAlpha = 0;\n        this.currentStatus = \"movingToWinScreen\";\n        return requestAnimationFrame(this.animate);\n      }\n      this.ctx.globalAlpha = this.homepageAlpha;\n      this.ctx.fillStyle = 'black';\n      this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"movingToWinScreen\") {\n      if (this.homepageYOffset > 1000) {\n        this.homepageYOffset -= 20;\n      } else {\n        this.currentStatus = \"winScreen\";\n      }\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.moveAmoebas(this.ctx);\n      this.makeWinScreen(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    if (this.currentStatus === \"winScreen\") {\n      this.boardVars.baseMass = this.amoeboi.mass;\n      this.moveAmoebas(this.ctx);\n      this.makeWinScreen(this.ctx);\n      return requestAnimationFrame(this.animate);\n    }\n\n    this.moveAmoebas(this.ctx);\n\n    this.makeMargins(this.ctx);\n    this.makeMassDisplay(this.ctx);\n    this.makeInstructions(this.ctx);\n    if (this.autoscaleTime) {\n      let largest = this.amoebas[0];\n      this.amoebas.forEach(a => {largest = largest.radius < a.radius ? a : largest;});\n      this.timeVars.timeCoefficient = (this.amoeboi.radius / largest.radius) * this.timeVars.timeBase * .75;\n    }\n    // this.makeClock(this.ctx);\n    if (this.amoeboi.mass > 0) {\n      this.boardVars.boardFocus = {x: this.amoeboi.xpos, y: this.amoeboi.ypos};\n      this.boardVars.baseMass = this.amoeboi.mass;\n      if (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000 * this.boardVars.currentZoom > 75) {\n        this.boardVars.maxZoom = boundNum(75 / (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000), 1, this.boardVars.absoluteMaxZoom);\n        this.boardVars.currentZoom = boundNum(this.boardVars.currentZoom * 0.9999999, this.boardVars.minZoom, this.boardVars.maxZoom);\n        this.boardVars.boardHeight = this.boardVars.realBoardHeight / this.boardVars.currentZoom;\n        this.boardVars.boardWidth = this.boardVars.realBoardWidth / this.boardVars.currentZoom;\n      }\n      if (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000 * this.boardVars.maxZoom < 75) {\n        this.boardVars.maxZoom = boundNum(75 / (this.amoeboi.radius / this.boardVars.realBoardWidth * 1000), 1, this.boardVars.absoluteMaxZoom);\n      }\n    } else {\n      this.currentStatus = \"coloringLoseScreen\";\n    }\n    requestAnimationFrame(this.animate);\n  }\n\n  moveAmoebas(ctx) {\n    this.amoebas = this.amoebas.filter(amoeba => {\n      return amoeba.mass > 0;\n    });\n    this.quadTree.clear();\n    for (let i = 0; i < this.amoebas.length; i++) {\n      this.quadTree.insert1(this.amoebas[i]);\n    }\n    ctx.globalAlpha = 0.8;\n    this.amoebas.forEach(amoeba => {\n      amoeba.move();\n      amoeba.draw();\n    });\n    this.amoeboi ? this.amoeboi.move() : null;\n    this.amoeboi ? this.amoeboi.draw() : null;\n    ctx.globalAlpha = 1;\n    this.quadTree.checkAllCollisions();\n    this.amoebas.forEach(amoeba => {\n      this.amoeboi ? this.amoeboi.aabbCheck(amoeba) : null;\n      this.amoeboi ? amoeba.aabbCheck(this.amoeboi) : null;\n      amoeba.wallCollision();\n    });\n    this.amoeboi ? this.amoeboi.wallCollision() : null;\n  }\n\n  checkWin() {\n    for (let i = 0, num = this.amoebas.length; i < num; i++) {\n      if (this.amoeboi.mass < this.amoebas[i].mass) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  makePause(ctx) {\n    ctx.globalAlpha = 0.5;\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n    let mouseOffsetX = this.mousePos['x'] / window.innerWidth * 50;\n    let mouseOffsetY = this.mousePos['y'] / window.innerHeight * 50;\n\n    let homepageWave = Math.sin(((Date.now() - this.homepageTime) % 1500) / 1500 * Math.PI);\n\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = 'white';\n    ctx.font = '70px Impact';\n    let titlePosX = (window.innerWidth / 2) - 75 - mouseOffsetX;\n    let titlePosY = (window.innerHeight / 2) + 50 - mouseOffsetY + this.homepageYOffset;\n    ctx.fillText(`PAUSED`, titlePosX, titlePosY);\n  }\n\n  makeClock(ctx) {\n    ctx.globalAlpha = 0.7;\n\n    ctx.beginPath();\n    ctx.arc(120, 120, 65, 0, ((baseLog(this.timeVars.timeBase, this.timeVars.timeCoefficient) + 1) / 2 * Math.PI * 2));\n    ctx.strokeStyle = 'orange';\n    ctx.lineWidth = 5;\n    ctx.stroke();\n\n    ctx.beginPath();\n    ctx.arc(120, 120, 60, 0, Math.PI * 2);\n    ctx.strokeStyle = 'black';\n    ctx.lineWidth = 3;\n    ctx.stroke();\n    ctx.globalAlpha = 0.8;\n    ctx.fillStyle = 'white';\n    ctx.fill();\n\n    ctx.beginPath();\n    ctx.moveTo(120,120);\n    ctx.lineTo(120 + (60*Math.cos(this.clockAngle * Math.PI / 180)), 120 + (60*Math.sin(this.clockAngle * Math.PI / 180)));\n    ctx.fillStyle = 'black';\n    ctx.stroke();\n    this.clockAngle = (this.clockAngle + (this.timeVars.timeCoefficient)) % 360;\n    ctx.globalAlpha = 1;\n  }\n\n  makeGrid(ctx) {\n    // let currentLineX = this.boardFocus['x'] - (this.boardWidth / 2);\n    ctx.globalAlpha = 0.4;\n\n    let interval = 500;\n    let realX = 0;\n    let topBorderY =  (((0 - this.boardVars.boardFocus['y'])  / (this.boardVars.boardHeight / 2)) * 500) + (window.innerHeight / 2) + this.mouseVars.mouseOffset['y'];\n    let bottomBorderY =  (((this.boardVars.realBoardHeight - this.boardVars.boardFocus['y']) / (this.boardVars.boardHeight / 2)) * 500) + (window.innerHeight / 2)  + this.mouseVars.mouseOffset['y'];\n    while (realX <= this.boardVars.realBoardWidth) {\n      ctx.fillStyle = (realX ===this.boardVars.realBoardWidth || realX === 0) ? \"red\" :\"black\";\n      let lineX = (((realX - this.boardVars.boardFocus['x']) / (this.boardVars.boardWidth / 2)) * 500) + (window.innerWidth / 2);\n      ctx.fillRect(lineX + this.mouseVars.mouseOffset['x'],topBorderY, 2, bottomBorderY - topBorderY);\n      realX += interval;\n    }\n\n    let realY = 0;\n    let leftBorderX = (((0 - this.boardVars.boardFocus['x']) / (this.boardVars.boardWidth / 2)) * 500) + (window.innerWidth / 2) + this.mouseVars.mouseOffset['x'];\n    let rightBorderX = (((this.boardVars.realBoardWidth - this.boardVars.boardFocus['x']) / (this.boardVars.boardWidth / 2)) * 500) + (window.innerWidth / 2) + this.mouseVars.mouseOffset['x'];\n    while (realY <= this.boardVars.realBoardHeight) {\n      ctx.fillStyle = (realY ===this.boardVars.realBoardHeight || realY === 0) ? \"red\" :\"black\";\n      let lineY = (((realY - this.boardVars.boardFocus['y']) / (this.boardVars.boardHeight / 2)) * 500) + (window.innerHeight / 2);\n      ctx.fillRect(leftBorderX,lineY + this.mouseVars.mouseOffset['y'], rightBorderX - leftBorderX, 2);\n      realY += interval;\n    }\n\n    ctx.globalAlpha = 1;\n  }\n\n  makeMassDisplay(ctx) {\n    ctx.globalAlpha = 0.7;\n    ctx.fillStyle = 'black';\n    let displayWidth;\n    if (this.amoeboi.mass > 0) {\n      displayWidth = 130 + (15 * boundNum(Math.floor(Math.log10(this.amoeboi.mass / 100),1, 10000)));\n    } else {\n      displayWidth = 145;\n    }\n    ctx.fillRect(window.innerWidth - 220, 65, displayWidth, 50);\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = 'white';\n    ctx.font = '30px Impact';\n    ctx.fillText(`Mass: ${Math.floor(this.amoeboi.mass / 100) }`, window.innerWidth - 200, 100);\n  }\n\n  makeInstructions(ctx) {\n    ctx.globalAlpha = 0.7;\n    ctx.fillStyle = 'black';\n    if (!this.showInstructions) {\n      ctx.fillRect(50, 65, 340, 50);\n      ctx.globalAlpha = 1;\n      ctx.fillStyle = 'white';\n      ctx.font = '20px Arial Black';\n      ctx.fillText(`PRESS I FOR INSTRUCTIONS`, 60, 100);\n      return;\n    }\n    ctx.globalAlpha = 0.7;\n    ctx.fillStyle = 'black';\n    ctx.fillRect(50, 65, 365, 320);\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = 'white';\n    ctx.font = '20px Arial Black';\n    ctx.fillText(`SPACE   :  Pause`, 60, 95);\n    ctx.fillText(` SHIFT   :  Look Around`, 61, 135);\n    ctx.fillText(`SCROLL :  Zoom In/Out`, 60, 170);\n    ctx.fillText(`     H      :  Main Menu`, 65, 215);\n    ctx.fillText(`     R      :  Restart`, 65, 255);\n    ctx.fillText(`     I       :  Toggle Instructions`, 67, 295);\n    ctx.fillText(`     M      :  Toggle Volume (${this.muted ? \"OFF\" : \"ON\"})`, 63, 335);\n    ctx.fillText(`     A      :  Autoscale Time (${this.autoscaleTime ? \"ON\" : \"OFF\"})`, 63, 375);\n  }\n\n  makeMargins(ctx) {\n    ctx.globalAlpha = 0.7;\n    ctx.fillStyle = \"black\";\n    let marginHeight = Math.floor(window.innerHeight / 8);\n    let marginWidth = Math.floor(window.innerWidth / 8);\n    // ctx.fillRect(0,0, window.innerWidth, marginHeight);\n    // ctx.fillRect(0,  window.innerHeight - marginHeight, window.innerWidth, window.innerHeight);\n    // ctx.fillRect(0, marginHeight, marginWidth, window.innerHeight - (marginHeight * 2));\n    // ctx.fillRect(window.innerWidth - marginWidth, marginHeight, window.innerWidth, window.innerHeight - (marginHeight * 2));\n\n\n    let timebarWidth = 500;\n    let timebarHeight = 50;\n    let timebarX = (window.innerWidth / 2) - (timebarWidth / 2);\n    let timebarY = window.innerHeight - (marginHeight / 2) - (timebarHeight / 2);\n    let time0to1 = (baseLog(this.timeVars.timeBase, this.timeVars.timeCoefficient) + 1) / 2;\n\n    // let gradient = ctx.createLinearGradient(timebarX, timebarY, timebarX + timebarWidth, timebarY + timebarHeight);\n    // gradient.addColorStop(0, \"rgb(0,0,0)\");\n    // gradient.addColorStop(time0to1, \"rgb(255,255,255)\");\n    // gradient.addColorStop(time0to1, \"rgb(255,255,255)\");\n    // gradient.addColorStop(1, \"rgb(0,0,0)\");\n    // let color = (baseLog(this.timeVars.timeBase, this.timeVars.timeCoefficient) + 1) / 2 * 255;\n    // ctx.fillStyle = gradient;\n    // ctx.fillStyle = `rgb(${255 - color},0,${color})`;\n    ctx.fillStyle = `black`;\n    ctx.fillRect(timebarX - 10, timebarY, timebarWidth + 20, timebarHeight);\n    ctx.fillStyle = `white`;\n    ctx.fillRect(timebarX + (timebarWidth * time0to1) - 10, timebarY, 20, timebarHeight);\n    ctx.globalAlpha = 1;\n  }\n\n  makeWinScreen(ctx) {\n    ctx.globalAlpha = 0.5;\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n    let mouseOffsetX = this.mousePos['x'] / window.innerWidth * 50;\n    let mouseOffsetY = this.mousePos['y'] / window.innerHeight * 50;\n    let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n    let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + this.homepageYOffset;\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = 'white';\n    ctx.font = '70px Impact';\n    ctx.fillText(`YOU'VE WON`, titlePosX + 55, titlePosY - 920);\n    ctx.font = '40px Impact';\n    ctx.fillText(`Press C to continue`, titlePosX + 65, titlePosY - 840);\n  }\n\n  makeHomepage(ctx) {\n    ctx.globalAlpha = 0.5;\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n    let mouseOffsetX = this.mousePos['x'] / window.innerWidth * 50;\n    let mouseOffsetY = this.mousePos['y'] / window.innerHeight * 50;\n\n    let homepageWave = Math.sin(((Date.now() - this.homepageTime) % 1500) / 1500 * Math.PI);\n\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = 'white';\n    ctx.font = '120px Impact';\n    let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n    let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + this.homepageYOffset;\n    ctx.fillText(`AmoeBoi`, titlePosX, titlePosY);\n\n    ctx.globalAlpha = 0.7;\n    ctx.fillStyle = \"rgb(0,0,50)\";\n    ctx.fillRect(titlePosX - 300, titlePosY + 885, 1050, 530);\n    ctx.globalAlpha = 1;\n\n\n    ctx.fillStyle = \"rgb(240,240,240)\";\n    ctx.font = `${30 + (2 * homepageWave) }px Impact`;\n    ctx.fillText(`PRESS ENTER TO START`, titlePosX + 85 - (5 * homepageWave), titlePosY + 100 + (2*homepageWave));\n\n    ctx.font = '50px Impact';\n    ctx.fillText(`⬇ INSTRUCTIONS ⬇`, titlePosX + 15, titlePosY + 360);\n\n    ctx.fillText(`⬆ MAIN MENU ⬆`, titlePosX + 50, titlePosY + 850);\n\n    ctx.font = '25px Arial Black';\n    ctx.fillText(\"Become the Biggest!\", titlePosX + 80, titlePosY + 930);\n\n    ctx.fillText(\"Absorb smaller amoebas, avoid the bigger ones,\", titlePosX - 105, titlePosY + 1000);\n    ctx.fillText(\"and become the biggest blob in the land.\", titlePosX - 55, titlePosY + 1030);\n\n    ctx.fillText(\"Aim and hold the left mouse button to shoot out smaller amoebas\", titlePosX - 222.5, titlePosY + 1100);\n    ctx.fillText(\"and propel yourself the other way... but be careful!\", titlePosX - 120, titlePosY + 1130);\n    ctx.fillText(\"Every shot uses a little bit of your own mass.\", titlePosX - 80, titlePosY + 1160);\n\n    ctx.fillText(\"You can speed up or slow down time using the left/right arrow keys.\", titlePosX - 240, titlePosY + 1230);\n\n    ctx.fillText(\"Press space to pause the game\", titlePosX + 10, titlePosY + 1300);\n    ctx.fillText(\"and press H to return to the Main Menu at any time.\", titlePosX - 130, titlePosY + 1330);\n\n    ctx.fillText(\"PRESS ENTER TO START\", titlePosX + 50 , titlePosY + 1400);\n\n    ctx.drawImage(this.iconImages.githubLogo, titlePosX - 50, titlePosY + 170, 80, 80);\n    ctx.drawImage(this.iconImages.linkedInLogo, titlePosX + 180, titlePosY + 170, 72, 72);\n    ctx.drawImage(this.iconImages.folderIcon, titlePosX + 380, titlePosY + 170, 88, 88);\n    ctx.drawImage(this.muted ? this.iconImages.mute : this.iconImages.volume, titlePosX - 5,\n       titlePosY + (this.muted ? 60 : 65), 50, 50);\n    ctx.drawImage(this.muted ? this.iconImages.muteReverse : this.iconImages.volumeReverse, titlePosX + 400,\n       titlePosY + (this.muted ? 60 : 65), 50, 50);\n\n    ctx.fillStyle = 'white';\n    ctx.font = '70px Impact';\n    ctx.fillText(`YOU'VE LOST`, titlePosX + 55, titlePosY - 920);\n    ctx.font = '40px Impact';\n    ctx.fillText(`Press R to play again`, titlePosX + 50, titlePosY - 840);\n    ctx.fillText(`Press H to return to Main Menu`, titlePosX - 27.5, titlePosY - 760);\n  }\n\n}\n\n\nexport default Game;\n","import Game from './game';\nimport Amoeba from './amoeba.js';\nimport Amoeboi from './amoeboi.js';\nimport { boundNum, baseLog, transitionVar } from './util';\n// import {moveAmoebas, makePause, makeGrid, makeClock,\n//         makeMargins, makeMassDisplay, makeHomepage} from './game';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"background\");\n  const ctx = canvas.getContext(\"2d\");\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n\n\n  let audio = document.getElementById(\"audio\");\n  let game = new Game(ctx, 30000, 30000, audio);\n\n  audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,game.timeVars.timeCoefficient)))) * 3.5);\n  audio.volume = 0.5;\n\n\n  window.onresize = ()=>{\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n  };\n\n  window.addEventListener(\"click\", (e) => {\n    if (game.currentStatus === \"homepage\") {\n      let mouseOffsetX = game.mousePos['x'] / window.innerWidth * 50;\n      let mouseOffsetY = game.mousePos['y'] / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + game.homepageYOffset;\n      if (e.pageX > titlePosX - 40 && e.pageX < titlePosX + 40\n       && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 250) {\n         window.location = \"https://github.com/1stepremoved\";\n      } else if (e.pageX > titlePosX + 180 && e.pageX < titlePosX + 252\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 242) {\n        window.location = \"https://linkedin.com/in/hamilton-sands\";\n      } else if (e.pageX > titlePosX + 380 && e.pageX < titlePosX + 468\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 258) {\n        window.location = \"https://1stepremoved.github.io/portfolio/\";\n      } else if (e.pageX > titlePosX + 75 && e.pageX < titlePosX + 365\n        && e.pageY > titlePosY + 315 && e.pageY < titlePosY + 360) {\n          game.currentStatus = \"movingToInstructions\";\n          document.body.style.cursor = \"default\";\n      } else if (e.pageX > titlePosX -5 && e.pageX < titlePosX + 45\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          if (audio.volume === 0) {\n            audio.volume = 0.5;\n            game.muted = false;\n          } else {\n            audio.volume = 0;\n            game.muted = true;\n          }\n      } else if (e.pageX > titlePosX + 400 && e.pageX < titlePosX + 450\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          if (audio.volume === 0) {\n            audio.volume = 0.5;\n            game.muted = false;\n          } else {\n            audio.volume = 0;\n            game.muted = true;\n          }\n        }\n    } else if (game.currentStatus === \"instructions\") {\n      let mouseOffsetX = game.mousePos['x'] / window.innerWidth * 50;\n      let mouseOffsetY = game.mousePos['y'] / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + game.homepageYOffset;\n      if (e.pageX > titlePosX + 110 && e.pageX < titlePosX + 335\n       && e.pageY > titlePosY + 805 && e.pageY < titlePosY + 850) {\n         game.currentStatus = \"movingToHomePage\";\n         document.body.style.cursor = \"default\";\n      }\n    }\n  });\n\n  window.addEventListener(\"touchstart\", (e) => {\n    if (game.currentStatus === \"playing\") {\n      clearInterval(game.mouseDownInterval);\n      if (game.paused || e.button === 2 || game.currentStatus !== \"playing\") {\n        return;\n      }\n      game.mouseVars.mouseDownTime = Date.now();\n      game.amoeboi.mousePosX = e.touches[0].pageX;\n      game.amoeboi.mousePosY = e.touches[0].pageY;\n      game.amoeboi.propel(e,game.amoebas);\n      game.mouseDownInterval = setInterval(() => {\n        game.amoeboi.propel(e,game.amoebas);\n      }, 200);\n    }\n  });\n\n  window.addEventListener(\"touchmove\", (e) => {\n    if (game.currentStatus === \"playing\") {\n      game.amoeboi.mousePosX = e.touches[0].pageX;\n      game.amoeboi.mousePosY = e.touches[0].pageY;\n    }\n  });\n\n  window.addEventListener(\"touchend\", (e) => {\n    if (e.touches.length > 1) {\n      return;\n    }\n    if (game.currentStatus === \"homepage\") {\n      game.currentStatus = \"setup\";\n      game.homepageYOffset = 0;\n    } else if (game.currentStatus === \"losescreen\") {\n      document.body.style.cursor = \"default\";\n      game.currentStatus = \"losescreenToHomePage\";\n    } else if (game.currentStatus === \"winScreen\") {\n      game.currentStatus = \"nextLevel\";\n    } else if (game.currentStatus === \"playing\") {\n      game.mouseVars.mouseDownTime = null;\n      clearInterval(game.mouseDownInterval);\n    }\n  });\n\n  window.addEventListener(\"mousedown\", (e) => {\n    clearInterval(game.mouseDownInterval);\n    if (game.paused || e.button === 2 || game.currentStatus !== \"playing\") {\n      return;\n    }\n    game.mouseVars.mouseDownTime = Date.now();\n    game.amoeboi.mousePosX = e.pageX;\n    game.amoeboi.mousePosY = e.pageY;\n    game.amoeboi.propel(e,game.amoebas);\n    game.mouseDownInterval = setInterval(() => {\n      game.amoeboi.propel(e,game.amoebas);\n    }, 200);\n  });\n\n  window.addEventListener(\"mousemove\", (e) => {\n    if (game.currentStatus === \"homepage\") {\n      let mouseOffsetX = game.mousePos['x'] / window.innerWidth * 50;\n      let mouseOffsetY = game.mousePos['y'] / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + game.homepageYOffset;\n      if (e.pageX > titlePosX - 40 && e.pageX < titlePosX + 40\n       && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 250) {\n        document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 180 && e.pageX < titlePosX + 252\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 242) {\n        document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 380 && e.pageX < titlePosX + 468\n        && e.pageY > titlePosY + 170 && e.pageY < titlePosY + 258) {\n        document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 75 && e.pageX < titlePosX + 365\n        && e.pageY > titlePosY + 315 && e.pageY < titlePosY + 360) {\n          document.body.style.cursor = \"pointer\";\n      }else if (e.pageX > titlePosX -5 && e.pageX < titlePosX + 45\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          document.body.style.cursor = \"pointer\";\n      } else if (e.pageX > titlePosX + 400 && e.pageX < titlePosX + 450\n        && e.pageY > titlePosY + 60 && e.pageY < titlePosY + 110) {\n          document.body.style.cursor = \"pointer\";\n      } else {\n        document.body.style.cursor = \"default\";\n      }\n      if (window.innerHeight - e.pageY < 30) {\n        game.currentStatus = \"movingToInstructions\";\n      }\n    } else if (game.currentStatus === \"instructions\") {\n      let mouseOffsetX = game.mousePos['x'] / window.innerWidth * 50;\n      let mouseOffsetY = game.mousePos['y'] / window.innerHeight * 50;\n      let titlePosX = (window.innerWidth / 2) - 195 - mouseOffsetX;\n      let titlePosY = (window.innerHeight / 2) - 80 - mouseOffsetY + game.homepageYOffset;\n\n      if (e.pageX > titlePosX + 110 && e.pageX < titlePosX + 335\n          && e.pageY > titlePosY + 805 && e.pageY < titlePosY + 850) {\n        document.body.style.cursor = \"pointer\";\n      } else {\n        document.body.style.cursor = \"default\";\n      }\n      if (e.pageY < 30) {\n        game.currentStatus = \"movingToHomePage\";\n      }\n    } else if (game.currentStatus === \"playing\" && game.shiftDown) {\n      game.mouseVars.mouseOffset['x'] = ((window.innerWidth / 2) - e.pageX) / 2;\n      game.mouseVars.mouseOffset['y'] = ((window.innerHeight / 2) - e.pageY) / 2;\n    }\n\n    game.mousePos['x'] = e.pageX;\n    game.mousePos['y'] = e.pageY;\n    if (game.mouseVars.mouseDownTime) {\n      game.amoeboi.mousePosX = e.pageX;\n      game.amoeboi.mousePosY = e.pageY;\n    }\n  });\n\n  window.addEventListener(\"mouseup\", (e) => {\n    game.mouseVars.mouseDownTime = null;\n    clearInterval(game.mouseDownInterval);\n  });\n\n  window.addEventListener(\"keydown\", (e) => {\n    let rate;\n    switch (e.keyCode) {\n      case 39:\n        if (game.paused || game.currentStatus !== \"playing\" || game.autoscaleTime) { return; }\n        game.timeVars.timeCoefficient = Math.min(game.timeVars.timeCoefficient * 1.1, game.timeVars.timeBase);\n        audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,game.timeVars.timeCoefficient)))) * 3.5);\n        return;\n      case 37:\n        if (game.paused || game.currentStatus !== \"playing\" || game.autoscaleTime) { return; }\n        game.timeVars.timeCoefficient = Math.max(game.timeVars.timeCoefficient * 0.9, Math.pow(game.timeVars.timeBase, - 1));\n        audio.playbackRate = 0.5 + ((1 / (1 + Math.pow(Math.E, -10 * baseLog(10,game.timeVars.timeCoefficient)))) * 3.5);\n        return;\n      case 65:\n        if (game.paused || game.currentStatus !== \"playing\") { return; }\n        game.autoscaleTime = !game.autoscaleTime;\n        return;\n      case 32:\n        if (game.currentStatus !== \"playing\") { return; }\n        game.paused = !game.paused;\n        game.mouseVars.mouseDownTime = null;\n        return;\n      case 72:\n        if (game.currentStatus === \"instructions\") {\n          document.body.style.cursor = \"default\";\n          game.currentStatus = \"movingToHomePage\";\n          return;\n        } else if (game.currentStatus === \"losescreen\"){\n          document.body.style.cursor = \"default\";\n          game.currentStatus = \"losescreenToHomePage\";\n          return;\n        }\n        game.currentStatus = \"reset\";\n        game.paused = false;\n        return;\n      case 73:\n        game.showInstructions = !game.showInstructions;\n        return;\n      case 82:\n        if (game.currentStatus === \"playing\" || game.currentStatus === \"losescreen\" || game.currentStatus === \"winScreen\")\n        game.currentStatus = \"setup\";\n        return;\n      case 13:\n        game.homepageTime = null;\n        if (game.currentStatus !== \"homepage\" && game.currentStatus !== \"instructions\" ) { return; }\n        game.currentStatus = \"setup\";\n        game.homepageYOffset = 0;\n        return;\n      case 16:\n        game.shiftDown = true;\n        return;\n      case 67:\n        if (game.currentStatus === \"winScreen\") {\n          game.currentStatus = \"nextLevel\";\n        }\n        return;\n      case 77:\n        if (audio.volume === 0) {\n          audio.volume = 0.5;\n          game.muted = false;\n        } else {\n          audio.volume = 0;\n          game.muted = true;\n        }\n      default:\n        return;\n    }\n  });\n\n  window.addEventListener(\"keyup\", (e) => {\n    switch (e.keyCode) {\n      case 16:\n        game.mouseVars.mouseOffset['x'] = 0;\n        game.mouseVars.mouseOffset['y'] = 0;\n        game.shiftDown = false;\n        return;\n      default:\n        return;\n    }\n  });\n\n  let mousewheelevent = (/Firefox/i.test(navigator.userAgent)) ? \"wheel\" : \"mousewheel\";\n\n  document.addEventListener(mousewheelevent, (e)=> {\n    e.preventDefault();\n    if (game.paused  || game.currentStatus !== \"playing\") { return; }\n    let zoomDelta = (e.deltaY / -1000);\n    game.boardVars.currentZoom = boundNum(game.boardVars.currentZoom + zoomDelta, game.boardVars.minZoom, game.boardVars.maxZoom);\n    game.boardVars.boardHeight = game.boardVars.realBoardHeight / game.boardVars.currentZoom;\n    game.boardVars.boardWidth = game.boardVars.realBoardWidth / game.boardVars.currentZoom;\n  });\n\n  // amoebas.push(new Amoeba(ctx, 4500, 5000, 100000, {x: 100000, y: 0}));\n  // amoebas.push(new Amoeba(ctx, 5500, 5000, 300000, {x: -100000, y: 0}));\n  // amoebas.push(new Amoeba(ctx, 5300, 5000, 100000, {x: -100000, y: 0}));\n\n  game.animate();\n});\n"],"sourceRoot":""}